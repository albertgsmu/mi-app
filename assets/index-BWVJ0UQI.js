var sL=Object.defineProperty;var oL=(t,e,n)=>e in t?sL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wn=(t,e,n)=>oL(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var TZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hS={exports:{}},_m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL=Symbol.for("react.transitional.element"),cL=Symbol.for("react.fragment");function dS(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:lL,type:t,key:r,ref:e!==void 0?e:null,props:n}}_m.Fragment=cL;_m.jsx=dS;_m.jsxs=dS;hS.exports=_m;var b=hS.exports,pS={exports:{}},pn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=Symbol.for("react.transitional.element"),uL=Symbol.for("react.portal"),fL=Symbol.for("react.fragment"),hL=Symbol.for("react.strict_mode"),dL=Symbol.for("react.profiler"),pL=Symbol.for("react.consumer"),gL=Symbol.for("react.context"),mL=Symbol.for("react.forward_ref"),vL=Symbol.for("react.suspense"),yL=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),a4=Symbol.iterator;function xL(t){return t===null||typeof t!="object"?null:(t=a4&&t[a4]||t["@@iterator"],typeof t=="function"?t:null)}var mS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vS=Object.assign,yS={};function Bh(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||mS}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xS(){}xS.prototype=Bh.prototype;function ex(t,e,n){this.props=t,this.context=e,this.refs=yS,this.updater=n||mS}var tx=ex.prototype=new xS;tx.constructor=ex;vS(tx,Bh.prototype);tx.isPureReactComponent=!0;var s4=Array.isArray,Cr={H:null,A:null,T:null,S:null,V:null},_S=Object.prototype.hasOwnProperty;function nx(t,e,n,r,i,a){return n=a.ref,{$$typeof:J5,type:t,key:e,ref:n!==void 0?n:null,props:a}}function _L(t,e){return nx(t.type,e,void 0,void 0,void 0,t.props)}function rx(t){return typeof t=="object"&&t!==null&&t.$$typeof===J5}function wL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o4=/\/+/g;function P2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wL(""+t.key):e.toString(36)}function l4(){}function bL(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(l4,l4):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Lf(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case J5:case uL:s=!0;break;case gS:return s=t._init,Lf(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+P2(t,0):r,s4(i)?(n="",s!=null&&(n=s.replace(o4,"$&/")+"/"),Lf(i,e,n,"",function(c){return c})):i!=null&&(rx(i)&&(i=_L(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(o4,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(s4(t))for(var l=0;l<t.length;l++)r=t[l],a=o+P2(r,l),s+=Lf(r,e,n,a,i);else if(l=xL(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+P2(r,l++),s+=Lf(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Lf(bL(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function X1(t,e,n){if(t==null)return t;var r=[],i=0;return Lf(t,r,"","",function(a){return e.call(n,a,i++)}),r}function EL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var c4=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function AL(){}pn.Children={map:X1,forEach:function(t,e,n){X1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return X1(t,function(){e++}),e},toArray:function(t){return X1(t,function(e){return e})||[]},only:function(t){if(!rx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pn.Component=Bh;pn.Fragment=fL;pn.Profiler=dL;pn.PureComponent=ex;pn.StrictMode=hL;pn.Suspense=vL;pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Cr;pn.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Cr.H.useMemoCache(t)}};pn.cache=function(t){return function(){return t.apply(null,arguments)}};pn.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=vS({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!_S.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return nx(t.type,i,void 0,void 0,a,r)};pn.createContext=function(t){return t={$$typeof:gL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:pL,_context:t},t};pn.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)_S.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return nx(t,a,void 0,void 0,null,i)};pn.createRef=function(){return{current:null}};pn.forwardRef=function(t){return{$$typeof:mL,render:t}};pn.isValidElement=rx;pn.lazy=function(t){return{$$typeof:gS,_payload:{_status:-1,_result:t},_init:EL}};pn.memo=function(t,e){return{$$typeof:yL,type:t,compare:e===void 0?null:e}};pn.startTransition=function(t){var e=Cr.T,n={};Cr.T=n;try{var r=t(),i=Cr.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(AL,c4)}catch(a){c4(a)}finally{Cr.T=e}};pn.unstable_useCacheRefresh=function(){return Cr.H.useCacheRefresh()};pn.use=function(t){return Cr.H.use(t)};pn.useActionState=function(t,e,n){return Cr.H.useActionState(t,e,n)};pn.useCallback=function(t,e){return Cr.H.useCallback(t,e)};pn.useContext=function(t){return Cr.H.useContext(t)};pn.useDebugValue=function(){};pn.useDeferredValue=function(t,e){return Cr.H.useDeferredValue(t,e)};pn.useEffect=function(t,e,n){var r=Cr.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};pn.useId=function(){return Cr.H.useId()};pn.useImperativeHandle=function(t,e,n){return Cr.H.useImperativeHandle(t,e,n)};pn.useInsertionEffect=function(t,e){return Cr.H.useInsertionEffect(t,e)};pn.useLayoutEffect=function(t,e){return Cr.H.useLayoutEffect(t,e)};pn.useMemo=function(t,e){return Cr.H.useMemo(t,e)};pn.useOptimistic=function(t,e){return Cr.H.useOptimistic(t,e)};pn.useReducer=function(t,e,n){return Cr.H.useReducer(t,e,n)};pn.useRef=function(t){return Cr.H.useRef(t)};pn.useState=function(t){return Cr.H.useState(t)};pn.useSyncExternalStore=function(t,e,n){return Cr.H.useSyncExternalStore(t,e,n)};pn.useTransition=function(){return Cr.H.useTransition()};pn.version="19.1.1";pS.exports=pn;var ge=pS.exports;const SL=fS(ge);var wS={exports:{}},wm={},bS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(de,we){var J=de.length;de.push(we);e:for(;0<J;){var ie=J-1>>>1,_e=de[ie];if(0<i(_e,we))de[ie]=we,de[J]=_e,J=ie;else break e}}function n(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var we=de[0],J=de.pop();if(J!==we){de[0]=J;e:for(var ie=0,_e=de.length,Ie=_e>>>1;ie<Ie;){var N=2*(ie+1)-1,j=de[N],B=N+1,z=de[B];if(0>i(j,J))B<_e&&0>i(z,j)?(de[ie]=z,de[B]=J,ie=B):(de[ie]=j,de[N]=J,ie=N);else if(B<_e&&0>i(z,J))de[ie]=z,de[B]=J,ie=B;else break e}}return we}function i(de,we){var J=de.sortIndex-we.sortIndex;return J!==0?J:de.id-we.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,g=3,f=!1,x=!1,v=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(de){for(var we=n(c);we!==null;){if(we.callback===null)r(c);else if(we.startTime<=de)r(c),we.sortIndex=we.expirationTime,e(l,we);else break;we=n(c)}}function Y(de){if(v=!1,O(de),!x)if(n(l)!==null)x=!0,ae||(ae=!0,D());else{var we=n(c);we!==null&&me(Y,we.startTime-de)}}var ae=!1,L=-1,I=5,A=-1;function F(){return _?!0:!(t.unstable_now()-A<I)}function S(){if(_=!1,ae){var de=t.unstable_now();A=de;var we=!0;try{e:{x=!1,v&&(v=!1,T(L),L=-1),f=!0;var J=g;try{t:{for(O(de),d=n(l);d!==null&&!(d.expirationTime>de&&F());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,g=d.priorityLevel;var _e=ie(d.expirationTime<=de);if(de=t.unstable_now(),typeof _e=="function"){d.callback=_e,O(de),we=!0;break t}d===n(l)&&r(l),O(de)}else r(l);d=n(l)}if(d!==null)we=!0;else{var Ie=n(c);Ie!==null&&me(Y,Ie.startTime-de),we=!1}}break e}finally{d=null,g=J,f=!1}we=void 0}}finally{we?D():ae=!1}}}var D;if(typeof C=="function")D=function(){C(S)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ue=P.port2;P.port1.onmessage=S,D=function(){ue.postMessage(null)}}else D=function(){y(S,0)};function me(de,we){L=y(function(){de(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(de){switch(g){case 1:case 2:case 3:var we=3;break;default:we=g}var J=g;g=we;try{return de()}finally{g=J}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(de,we){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var J=g;g=de;try{return we()}finally{g=J}},t.unstable_scheduleCallback=function(de,we,J){var ie=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ie+J:ie):J=ie,de){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=J+_e,de={id:u++,callback:we,priorityLevel:de,startTime:J,expirationTime:_e,sortIndex:-1},J>ie?(de.sortIndex=J,e(c,de),n(l)===null&&de===n(c)&&(v?(T(L),L=-1):v=!0,me(Y,J-ie))):(de.sortIndex=_e,e(l,de),x||f||(x=!0,ae||(ae=!0,D()))),de},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(de){var we=g;return function(){var J=g;g=we;try{return de.apply(this,arguments)}finally{g=J}}}})(ES);bS.exports=ES;var TL=bS.exports,AS={exports:{}},Na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL=ge;function SS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lc(){}var Ta={d:{f:lc,r:function(){throw Error(SS(522))},D:lc,C:lc,L:lc,m:lc,X:lc,S:lc,M:lc},p:0,findDOMNode:null},NL=Symbol.for("react.portal");function RL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:NL,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var V0=CL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bm(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ta;Na.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(SS(299));return RL(t,e,null,n)};Na.flushSync=function(t){var e=V0.T,n=Ta.p;try{if(V0.T=null,Ta.p=2,t)return t()}finally{V0.T=e,Ta.p=n,Ta.d.f()}};Na.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ta.d.C(t,e))};Na.prefetchDNS=function(t){typeof t=="string"&&Ta.d.D(t)};Na.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=bm(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ta.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Ta.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Na.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=bm(e.as,e.crossOrigin);Ta.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ta.d.M(t)};Na.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=bm(n,e.crossOrigin);Ta.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Na.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=bm(e.as,e.crossOrigin);Ta.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ta.d.m(t)};Na.requestFormReset=function(t){Ta.d.r(t)};Na.unstable_batchedUpdates=function(t,e){return t(e)};Na.useFormState=function(t,e,n){return V0.H.useFormState(t,e,n)};Na.useFormStatus=function(){return V0.H.useHostTransitionStatus()};Na.version="19.1.1";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(t){console.error(t)}}TS(),AS.exports=Na;var IL=AS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=TL,CS=ge,LL=IL;function et(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function NS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u4(t){if(Qd(t)!==t)throw Error(et(188))}function DL(t){var e=t.alternate;if(!e){if(e=Qd(t),e===null)throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u4(i),t;if(a===r)return u4(i),e;a=a.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?t:e}function IS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=IS(t),e!==null)return e;t=t.sibling}return null}var br=Object.assign,kL=Symbol.for("react.element"),K1=Symbol.for("react.transitional.element"),L0=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),OL=Symbol.for("react.provider"),DS=Symbol.for("react.consumer"),pl=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),ax=Symbol.for("react.memo"),gc=Symbol.for("react.lazy"),gy=Symbol.for("react.activity"),PL=Symbol.for("react.memo_cache_sentinel"),f4=Symbol.iterator;function x0(t){return t===null||typeof t!="object"?null:(t=f4&&t[f4]||t["@@iterator"],typeof t=="function"?t:null)}var FL=Symbol.for("react.client.reference");function my(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===FL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zf:return"Fragment";case hy:return"Profiler";case LS:return"StrictMode";case dy:return"Suspense";case py:return"SuspenseList";case gy:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L0:return"Portal";case pl:return(t.displayName||"Context")+".Provider";case DS:return(t._context.displayName||"Context")+".Consumer";case ix:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ax:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case gc:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}var D0=Array.isArray,Xt=CS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jn=LL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Lu={pending:!1,data:null,method:null,action:null},vy=[],Hf=-1;function qo(t){return{current:t}}function Fi(t){0>Hf||(t.current=vy[Hf],vy[Hf]=null,Hf--)}function Nr(t,e){Hf++,vy[Hf]=t.current,t.current=e}var Do=qo(null),vd=qo(null),Rc=qo(null),lg=qo(null);function cg(t,e){switch(Nr(Rc,e),Nr(vd,t),Nr(Do,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mb(e),t=XT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Fi(Do),Nr(Do,t)}function _h(){Fi(Do),Fi(vd),Fi(Rc)}function yy(t){t.memoizedState!==null&&Nr(lg,t);var e=Do.current,n=XT(e,t.type);e!==n&&(Nr(vd,t),Nr(Do,n))}function ug(t){vd.current===t&&(Fi(Do),Fi(vd)),lg.current===t&&(Fi(lg),Cd._currentValue=Lu)}var xy=Object.prototype.hasOwnProperty,sx=Ai.unstable_scheduleCallback,F2=Ai.unstable_cancelCallback,ML=Ai.unstable_shouldYield,BL=Ai.unstable_requestPaint,ko=Ai.unstable_now,jL=Ai.unstable_getCurrentPriorityLevel,kS=Ai.unstable_ImmediatePriority,OS=Ai.unstable_UserBlockingPriority,fg=Ai.unstable_NormalPriority,UL=Ai.unstable_LowPriority,PS=Ai.unstable_IdlePriority,VL=Ai.log,zL=Ai.unstable_setDisableYieldValue,Zd=null,ys=null;function wc(t){if(typeof VL=="function"&&zL(t),ys&&typeof ys.setStrictMode=="function")try{ys.setStrictMode(Zd,t)}catch{}}var xs=Math.clz32?Math.clz32:WL,HL=Math.log,qL=Math.LN2;function WL(t){return t>>>=0,t===0?32:31-(HL(t)/qL|0)|0}var Q1=256,Z1=4194304;function bu(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Em(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=bu(r):(s&=o,s!==0?i=bu(s):n||(n=o&~t,n!==0&&(i=bu(n))))):(o=r&~a,o!==0?i=bu(o):s!==0?i=bu(s):n||(n=r&~t,n!==0&&(i=bu(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Jd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function GL(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FS(){var t=Q1;return Q1<<=1,!(Q1&4194048)&&(Q1=256),t}function MS(){var t=Z1;return Z1<<=1,!(Z1&62914560)&&(Z1=4194304),t}function M2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function e1(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $L(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-xs(n),d=1<<u;o[u]=0,l[u]=-1;var g=c[u];if(g!==null)for(c[u]=null,u=0;u<g.length;u++){var f=g[u];f!==null&&(f.lane&=-536870913)}n&=~d}r!==0&&BS(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function BS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-xs(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function jS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function ox(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function lx(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function US(){var t=jn.p;return t!==0?t:(t=window.event,t===void 0?32:a8(t.type))}function YL(t,e){var n=jn.p;try{return jn.p=t,e()}finally{jn.p=n}}var nu=Math.random().toString(36).slice(2),ua="__reactFiber$"+nu,qa="__reactProps$"+nu,jh="__reactContainer$"+nu,_y="__reactEvents$"+nu,XL="__reactListeners$"+nu,KL="__reactHandles$"+nu,h4="__reactResources$"+nu,t1="__reactMarker$"+nu;function cx(t){delete t[ua],delete t[qa],delete t[_y],delete t[XL],delete t[KL]}function qf(t){var e=t[ua];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jh]||n[ua]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xb(t);t!==null;){if(n=t[ua])return n;t=xb(t)}return e}t=n,n=t.parentNode}return null}function Uh(t){if(t=t[ua]||t[jh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function k0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(et(33))}function nh(t){var e=t[h4];return e||(e=t[h4]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Li(t){t[t1]=!0}var VS=new Set,zS={};function nf(t,e){wh(t,e),wh(t+"Capture",e)}function wh(t,e){for(zS[t]=e,t=0;t<e.length;t++)VS.add(e[t])}var QL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),d4={},p4={};function ZL(t){return xy.call(p4,t)?!0:xy.call(d4,t)?!1:QL.test(t)?p4[t]=!0:(d4[t]=!0,!1)}function Op(t,e,n){if(ZL(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function J1(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ol(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var B2,g4;function Df(t){if(B2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B2=e&&e[1]||"",g4=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B2+t+g4}var j2=!1;function U2(t,e){if(!t||j2)return"";j2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var g=f}Reflect.construct(t,[],d)}else{try{d.call()}catch(f){g=f}t.call(d.prototype)}}else{try{throw Error()}catch(f){g=f}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&g&&typeof f.stack=="string")return[f.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=r&&0<=i);break}}}finally{j2=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Df(n):""}function JL(t){switch(t.tag){case 26:case 27:case 5:return Df(t.type);case 16:return Df("Lazy");case 13:return Df("Suspense");case 19:return Df("SuspenseList");case 0:case 15:return U2(t.type,!1);case 11:return U2(t.type.render,!1);case 1:return U2(t.type,!0);case 31:return Df("Activity");default:return""}}function m4(t){try{var e="";do e+=JL(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Fs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eD(t){var e=HS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hg(t){t._valueTracker||(t._valueTracker=eD(t))}function qS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tD=/[\n"\\]/g;function js(t){return t.replace(tD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wy(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Fs(e)):t.value!==""+Fs(e)&&(t.value=""+Fs(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?by(t,s,Fs(e)):n!=null?by(t,s,Fs(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Fs(o):t.removeAttribute("name")}function WS(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Fs(n):"",e=e!=null?""+Fs(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function by(t,e,n){e==="number"&&dg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function GS(t,e,n){if(e!=null&&(e=""+Fs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Fs(n):""}function $S(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(et(92));if(D0(r)){if(1<r.length)throw Error(et(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Fs(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function v4(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||nD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function YS(t,e,n){if(e!=null&&typeof e!="object")throw Error(et(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&v4(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&v4(t,a,e[a])}function ux(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pp(t){return iD.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ey=null;function fx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,ih=null;function y4(t){var e=Uh(t);if(e&&(t=e.stateNode)){var n=t[qa]||null;e:switch(t=e.stateNode,e.type){case"input":if(wy(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+js(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[qa]||null;if(!i)throw Error(et(90));wy(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&qS(r)}break e;case"textarea":GS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&rh(t,!!n.multiple,e,!1)}}}var V2=!1;function XS(t,e,n){if(V2)return t(e,n);V2=!0;try{var r=t(e);return r}finally{if(V2=!1,(Wf!==null||ih!==null)&&(km(),Wf&&(e=Wf,t=ih,ih=Wf=null,y4(e),t)))for(e=0;e<t.length;e++)y4(t[e])}}function yd(t,e){var n=t.stateNode;if(n===null)return null;var r=n[qa]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(et(231,e,typeof n));return n}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=!1;if(Cl)try{var _0={};Object.defineProperty(_0,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,_0)}catch{Ay=!1}var bc=null,hx=null,Fp=null;function KS(){if(Fp)return Fp;var t,e=hx,n=e.length,r,i="value"in bc?bc.value:bc.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Fp=i.slice(t,1<r?1-r:void 0)}function Mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ep(){return!0}function x4(){return!1}function $a(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ep:x4,this.isPropagationStopped=x4,this}return br(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Am=$a(rf),n1=br({},rf,{view:0,detail:0}),aD=$a(n1),z2,H2,w0,Sm=br({},n1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==w0&&(w0&&t.type==="mousemove"?(z2=t.screenX-w0.screenX,H2=t.screenY-w0.screenY):H2=z2=0,w0=t),z2)},movementY:function(t){return"movementY"in t?t.movementY:H2}}),_4=$a(Sm),sD=br({},Sm,{dataTransfer:0}),oD=$a(sD),lD=br({},n1,{relatedTarget:0}),q2=$a(lD),cD=br({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),uD=$a(cD),fD=br({},rf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hD=$a(fD),dD=br({},rf,{data:0}),w4=$a(dD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mD[t])?!!e[t]:!1}function dx(){return vD}var yD=br({},n1,{key:function(t){if(t.key){var e=pD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dx,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xD=$a(yD),_D=br({},Sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b4=$a(_D),wD=br({},n1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dx}),bD=$a(wD),ED=br({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=$a(ED),SD=br({},Sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=$a(SD),CD=br({},rf,{newState:0,oldState:0}),ND=$a(CD),RD=[9,13,27,32],px=Cl&&"CompositionEvent"in window,z0=null;Cl&&"documentMode"in document&&(z0=document.documentMode);var ID=Cl&&"TextEvent"in window&&!z0,QS=Cl&&(!px||z0&&8<z0&&11>=z0),E4=" ",A4=!1;function ZS(t,e){switch(t){case"keyup":return RD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gf=!1;function LD(t,e){switch(t){case"compositionend":return JS(e);case"keypress":return e.which!==32?null:(A4=!0,E4);case"textInput":return t=e.data,t===E4&&A4?null:t;default:return null}}function DD(t,e){if(Gf)return t==="compositionend"||!px&&ZS(t,e)?(t=KS(),Fp=hx=bc=null,Gf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QS&&e.locale!=="ko"?null:e.data;default:return null}}var kD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kD[t.type]:e==="textarea"}function e6(t,e,n,r){Wf?ih?ih.push(r):ih=[r]:Wf=r,e=Lg(e,"onChange"),0<e.length&&(n=new Am("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var H0=null,xd=null;function OD(t){GT(t,0)}function Tm(t){var e=k0(t);if(qS(e))return t}function T4(t,e){if(t==="change")return e}var t6=!1;if(Cl){var W2;if(Cl){var G2="oninput"in document;if(!G2){var C4=document.createElement("div");C4.setAttribute("oninput","return;"),G2=typeof C4.oninput=="function"}W2=G2}else W2=!1;t6=W2&&(!document.documentMode||9<document.documentMode)}function N4(){H0&&(H0.detachEvent("onpropertychange",n6),xd=H0=null)}function n6(t){if(t.propertyName==="value"&&Tm(xd)){var e=[];e6(e,xd,t,fx(t)),XS(OD,e)}}function PD(t,e,n){t==="focusin"?(N4(),H0=e,xd=n,H0.attachEvent("onpropertychange",n6)):t==="focusout"&&N4()}function FD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(xd)}function MD(t,e){if(t==="click")return Tm(e)}function BD(t,e){if(t==="input"||t==="change")return Tm(e)}function jD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Es=typeof Object.is=="function"?Object.is:jD;function _d(t,e){if(Es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xy.call(e,i)||!Es(t[i],e[i]))return!1}return!0}function R4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I4(t,e){var n=R4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R4(n)}}function r6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=dg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dg(t.document)}return e}function gx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var UD=Cl&&"documentMode"in document&&11>=document.documentMode,$f=null,Sy=null,q0=null,Ty=!1;function L4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||$f==null||$f!==dg(r)||(r=$f,"selectionStart"in r&&gx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),q0&&_d(q0,r)||(q0=r,r=Lg(Sy,"onSelect"),0<r.length&&(e=new Am("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$f)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yf={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionrun:_u("Transition","TransitionRun"),transitionstart:_u("Transition","TransitionStart"),transitioncancel:_u("Transition","TransitionCancel"),transitionend:_u("Transition","TransitionEnd")},$2={},a6={};Cl&&(a6=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);function af(t){if($2[t])return $2[t];if(!Yf[t])return t;var e=Yf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a6)return $2[t]=e[n];return t}var s6=af("animationend"),o6=af("animationiteration"),l6=af("animationstart"),VD=af("transitionrun"),zD=af("transitionstart"),HD=af("transitioncancel"),c6=af("transitionend"),u6=new Map,Cy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cy.push("scrollEnd");function uo(t,e){u6.set(t,e),nf(e,[t])}var D4=new WeakMap;function Us(t,e){if(typeof t=="object"&&t!==null){var n=D4.get(t);return n!==void 0?n:(e={value:t,source:e,stack:m4(e)},D4.set(t,e),e)}return{value:t,source:e,stack:m4(e)}}var Os=[],Xf=0,mx=0;function Cm(){for(var t=Xf,e=mx=Xf=0;e<t;){var n=Os[e];Os[e++]=null;var r=Os[e];Os[e++]=null;var i=Os[e];Os[e++]=null;var a=Os[e];if(Os[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&f6(n,i,a)}}function Nm(t,e,n,r){Os[Xf++]=t,Os[Xf++]=e,Os[Xf++]=n,Os[Xf++]=r,mx|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function vx(t,e,n,r){return Nm(t,e,n,r),pg(t)}function Vh(t,e){return Nm(t,null,null,e),pg(t)}function f6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-xs(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function pg(t){if(50<ed)throw ed=0,Yy=null,Error(et(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Kf={};function qD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(t,e,n,r){return new qD(t,e,n,r)}function yx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wl(t,e){var n=t.alternate;return n===null?(n=gs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function h6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bp(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")yx(t)&&(s=1);else if(typeof t=="string")s=Gk(t,n,Do.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case gy:return t=gs(31,n,e,i),t.elementType=gy,t.lanes=a,t;case zf:return Du(n.children,i,a,e);case LS:s=8,i|=24;break;case hy:return t=gs(12,n,e,i|2),t.elementType=hy,t.lanes=a,t;case dy:return t=gs(13,n,e,i),t.elementType=dy,t.lanes=a,t;case py:return t=gs(19,n,e,i),t.elementType=py,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OL:case pl:s=10;break e;case DS:s=9;break e;case ix:s=11;break e;case ax:s=14;break e;case gc:s=16,r=null;break e}s=29,n=Error(et(130,t===null?"null":typeof t,"")),r=null}return e=gs(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Du(t,e,n,r){return t=gs(7,t,r,e),t.lanes=n,t}function Y2(t,e,n){return t=gs(6,t,null,e),t.lanes=n,t}function X2(t,e,n){return e=gs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Qf=[],Zf=0,gg=null,mg=0,Ms=[],Bs=0,ku=null,gl=1,ml="";function Eu(t,e){Qf[Zf++]=mg,Qf[Zf++]=gg,gg=t,mg=e}function d6(t,e,n){Ms[Bs++]=gl,Ms[Bs++]=ml,Ms[Bs++]=ku,ku=t;var r=gl;t=ml;var i=32-xs(r)-1;r&=~(1<<i),n+=1;var a=32-xs(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,gl=1<<32-xs(e)+i|n<<i|r,ml=a+t}else gl=1<<a|n<<i|r,ml=t}function xx(t){t.return!==null&&(Eu(t,1),d6(t,1,0))}function _x(t){for(;t===gg;)gg=Qf[--Zf],Qf[Zf]=null,mg=Qf[--Zf],Qf[Zf]=null;for(;t===ku;)ku=Ms[--Bs],Ms[Bs]=null,ml=Ms[--Bs],Ms[Bs]=null,gl=Ms[--Bs],Ms[Bs]=null}var Sa=null,Vr=null,Bn=!1,Ou=null,Ro=!1,Ny=Error(et(519));function zu(t){var e=Error(et(418,""));throw wd(Us(e,t)),Ny}function k4(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[ua]=t,e[qa]=r,n){case"dialog":xn("cancel",e),xn("close",e);break;case"iframe":case"object":case"embed":xn("load",e);break;case"video":case"audio":for(n=0;n<Ad.length;n++)xn(Ad[n],e);break;case"source":xn("error",e);break;case"img":case"image":case"link":xn("error",e),xn("load",e);break;case"details":xn("toggle",e);break;case"input":xn("invalid",e),WS(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),hg(e);break;case"select":xn("invalid",e);break;case"textarea":xn("invalid",e),$S(e,r.value,r.defaultValue,r.children),hg(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||YT(e.textContent,n)?(r.popover!=null&&(xn("beforetoggle",e),xn("toggle",e)),r.onScroll!=null&&xn("scroll",e),r.onScrollEnd!=null&&xn("scrollend",e),r.onClick!=null&&(e.onclick=Fm),e=!0):e=!1,e||zu(t)}function O4(t){for(Sa=t.return;Sa;)switch(Sa.tag){case 5:case 13:Ro=!1;return;case 27:case 3:Ro=!0;return;default:Sa=Sa.return}}function b0(t){if(t!==Sa)return!1;if(!Bn)return O4(t),Bn=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||e5(t.type,t.memoizedProps)),n=!n),n&&Vr&&zu(t),O4(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Vr=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Vr=null}}else e===27?(e=Vr,ru(t.type)?(t=r5,r5=null,Vr=t):Vr=e):Vr=Sa?ao(t.stateNode.nextSibling):null;return!0}function r1(){Vr=Sa=null,Bn=!1}function P4(){var t=Ou;return t!==null&&(ja===null?ja=t:ja.push.apply(ja,t),Ou=null),t}function wd(t){Ou===null?Ou=[t]:Ou.push(t)}var Ry=qo(null),sf=null,vl=null;function vc(t,e,n){Nr(Ry,e._currentValue),e._currentValue=n}function bl(t){t._currentValue=Ry.current,Fi(Ry)}function Iy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ly(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Iy(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(et(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Iy(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function i1(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(et(387));if(s=s.memoizedProps,s!==null){var o=i.type;Es(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===lg.current){if(s=i.alternate,s===null)throw Error(et(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Cd):t=[Cd])}i=i.return}t!==null&&Ly(e,t,n,r),e.flags|=262144}function vg(t){for(t=t.firstContext;t!==null;){if(!Es(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hu(t){sf=t,vl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fa(t){return p6(sf,t)}function tp(t,e){return sf===null&&Hu(t),p6(t,e)}function p6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},vl===null){if(t===null)throw Error(et(308));vl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else vl=vl.next=e;return n}var WD=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},GD=Ai.unstable_scheduleCallback,$D=Ai.unstable_NormalPriority,wi={$$typeof:pl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wx(){return{controller:new WD,data:new Map,refCount:0}}function a1(t){t.refCount--,t.refCount===0&&GD($D,function(){t.controller.abort()})}var W0=null,Dy=0,Eh=0,ah=null;function YD(t,e){if(W0===null){var n=W0=[];Dy=0,Eh=qx(),ah={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Dy++,e.then(F4,F4),e}function F4(){if(--Dy===0&&W0!==null){ah!==null&&(ah.status="fulfilled");var t=W0;W0=null,Eh=0,ah=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function XD(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var M4=Xt.S;Xt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&YD(t,e),M4!==null&&M4(t,e)};var Pu=qo(null);function bx(){var t=Pu.current;return t!==null?t:yr.pooledCache}function jp(t,e){e===null?Nr(Pu,Pu.current):Nr(Pu,e.pool)}function g6(){var t=bx();return t===null?null:{parent:wi._currentValue,pool:t}}var s1=Error(et(460)),m6=Error(et(474)),Rm=Error(et(542)),ky={then:function(){}};function B4(t){return t=t.status,t==="fulfilled"||t==="rejected"}function np(){}function v6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(np,np),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,U4(t),t;default:if(typeof e.status=="string")e.then(np,np);else{if(t=yr,t!==null&&100<t.shellSuspendCounter)throw Error(et(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,U4(t),t}throw G0=e,s1}}var G0=null;function j4(){if(G0===null)throw Error(et(459));var t=G0;return G0=null,t}function U4(t){if(t===s1||t===Rm)throw Error(et(483))}var mc=!1;function Ex(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ic(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=pg(t),f6(t,null,n),e}return Nm(t,r,e,n),pg(t)}function $0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jS(t,n)}}function K2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Py=!1;function Y0(){if(Py){var t=ah;if(t!==null)throw t}}function X0(t,e,n,r){Py=!1;var i=t.updateQueue;mc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var g=o.lane&-536870913,f=g!==o.lane;if(f?(In&g)===g:(r&g)===g){g!==0&&g===Eh&&(Py=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,v=o;g=e;var _=n;switch(v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(_,d,g);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(_,d,g):x,g==null)break e;d=br({},d,g);break e;case 2:mc=!0}}g=o.callback,g!==null&&(t.flags|=64,f&&(t.flags|=8192),f=i.callbacks,f===null?i.callbacks=[g]:f.push(g))}else f={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),qc|=s,t.lanes=s,t.memoizedState=d}}function y6(t,e){if(typeof t!="function")throw Error(et(191,t));t.call(e)}function x6(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)y6(n[t],e)}var Ah=qo(null),yg=qo(0);function V4(t,e){t=Il,Nr(yg,t),Nr(Ah,e),Il=t|e.baseLanes}function Fy(){Nr(yg,Il),Nr(Ah,Ah.current)}function Ax(){Il=yg.current,Fi(Ah),Fi(yg)}var zc=0,mn=null,rr=null,li=null,xg=!1,sh=!1,qu=!1,_g=0,bd=0,oh=null,KD=0;function Zr(){throw Error(et(321))}function Sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Es(t[n],e[n]))return!1;return!0}function Tx(t,e,n,r,i,a){return zc=a,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xt.H=t===null||t.memoizedState===null?K6:Q6,qu=!1,a=n(r,i),qu=!1,sh&&(a=w6(e,n,r,i)),_6(t),a}function _6(t){Xt.H=wg;var e=rr!==null&&rr.next!==null;if(zc=0,li=rr=mn=null,xg=!1,bd=0,oh=null,e)throw Error(et(300));t===null||ki||(t=t.dependencies,t!==null&&vg(t)&&(ki=!0))}function w6(t,e,n,r){mn=t;var i=0;do{if(sh&&(oh=null),bd=0,sh=!1,25<=i)throw Error(et(301));if(i+=1,li=rr=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Xt.H=rk,a=e(n,r)}while(sh);return a}function QD(){var t=Xt.H,e=t.useState()[0];return e=typeof e.then=="function"?o1(e):e,t=t.useState()[0],(rr!==null?rr.memoizedState:null)!==t&&(mn.flags|=1024),e}function Cx(){var t=_g!==0;return _g=0,t}function Nx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Rx(t){if(xg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}xg=!1}zc=0,li=rr=mn=null,sh=!1,bd=_g=0,oh=null}function Ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?mn.memoizedState=li=t:li=li.next=t,li}function hi(){if(rr===null){var t=mn.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=li===null?mn.memoizedState:li.next;if(e!==null)li=e,rr=t;else{if(t===null)throw mn.alternate===null?Error(et(467)):Error(et(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},li===null?mn.memoizedState=li=t:li=li.next=t}return li}function Ix(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function o1(t){var e=bd;return bd+=1,oh===null&&(oh=[]),t=v6(oh,t,e),e=mn,(li===null?e.memoizedState:li.next)===null&&(e=e.alternate,Xt.H=e===null||e.memoizedState===null?K6:Q6),t}function Im(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return o1(t);if(t.$$typeof===pl)return fa(t)}throw Error(et(438,String(t)))}function Lx(t){var e=null,n=mn.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=mn.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ix(),mn.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=PL;return e.index++,n}function Nl(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=hi();return Dx(e,rr,t)}function Dx(t,e,n){var r=t.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(In&d)===d:(zc&d)===d){var g=c.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Eh&&(u=!0);else if((zc&g)===g){c=c.next,g===Eh&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,mn.lanes|=g,qc|=g;d=c.action,qu&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else g={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=g,s=a):l=l.next=g,mn.lanes|=d,qc|=d;c=c.next}while(c!==null&&c!==e);if(l===null?s=a:l.next=o,!Es(a,t.memoizedState)&&(ki=!0,u&&(n=ah,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Q2(t){var e=hi(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Es(a,e.memoizedState)||(ki=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function b6(t,e,n){var r=mn,i=hi(),a=Bn;if(a){if(n===void 0)throw Error(et(407));n=n()}else n=e();var s=!Es((rr||i).memoizedState,n);s&&(i.memoizedState=n,ki=!0),i=i.queue;var o=S6.bind(null,r,i,t);if(l1(2048,8,o,[t]),i.getSnapshot!==e||s||li!==null&&li.memoizedState.tag&1){if(r.flags|=2048,Sh(9,Lm(),A6.bind(null,r,i,n,e),null),yr===null)throw Error(et(349));a||zc&124||E6(r,e,n)}return n}function E6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mn.updateQueue,e===null?(e=Ix(),mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function A6(t,e,n,r){e.value=n,e.getSnapshot=r,T6(e)&&C6(t)}function S6(t,e,n){return n(function(){T6(e)&&C6(t)})}function T6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Es(t,n)}catch{return!0}}function C6(t){var e=Vh(t,2);e!==null&&ws(e,t,2)}function My(t){var e=Ma();if(typeof t=="function"){var n=t;if(t=n(),qu){wc(!0);try{n()}finally{wc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e}function N6(t,e,n,r){return t.baseState=n,Dx(t,rr,typeof r=="function"?r:Nl)}function ZD(t,e,n,r,i){if(Dm(t))throw Error(et(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Xt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,R6(e,a)):(a.next=n.next,e.pending=n.next=a)}}function R6(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Xt.T,s={};Xt.T=s;try{var o=n(i,r),l=Xt.S;l!==null&&l(s,o),z4(t,e,o)}catch(c){By(t,e,c)}finally{Xt.T=a}}else try{a=n(i,r),z4(t,e,a)}catch(c){By(t,e,c)}}function z4(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){H4(t,e,r)},function(r){return By(t,e,r)}):H4(t,e,n)}function H4(t,e,n){e.status="fulfilled",e.value=n,I6(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,R6(t,n)))}function By(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,I6(e),e=e.next;while(e!==r)}t.action=null}function I6(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function L6(t,e){return e}function q4(t,e){if(Bn){var n=yr.formState;if(n!==null){e:{var r=mn;if(Bn){if(Vr){t:{for(var i=Vr,a=Ro;i.nodeType!==8;){if(!a){i=null;break t}if(i=ao(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Vr=ao(i.nextSibling),r=i.data==="F!";break e}}zu(r)}r=!1}r&&(e=n[0])}}return n=Ma(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L6,lastRenderedState:e},n.queue=r,n=$6.bind(null,mn,r),r.dispatch=n,r=My(!1),a=Fx.bind(null,mn,!1,r.queue),r=Ma(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=ZD.bind(null,mn,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function W4(t){var e=hi();return D6(e,rr,t)}function D6(t,e,n){if(e=Dx(t,e,L6)[0],t=Up(Nl)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=o1(e)}catch(s){throw s===s1?Rm:s}else r=e;e=hi();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(mn.flags|=2048,Sh(9,Lm(),JD.bind(null,i,n),null)),[r,a,t]}function JD(t,e){t.action=e}function G4(t){var e=hi(),n=rr;if(n!==null)return D6(e,n,t);hi(),e=e.memoizedState,n=hi();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Sh(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=mn.updateQueue,e===null&&(e=Ix(),mn.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Lm(){return{destroy:void 0,resource:void 0}}function k6(){return hi().memoizedState}function Vp(t,e,n,r){var i=Ma();r=r===void 0?null:r,mn.flags|=t,i.memoizedState=Sh(1|e,Lm(),n,r)}function l1(t,e,n,r){var i=hi();r=r===void 0?null:r;var a=i.memoizedState.inst;rr!==null&&r!==null&&Sx(r,rr.memoizedState.deps)?i.memoizedState=Sh(e,a,n,r):(mn.flags|=t,i.memoizedState=Sh(1|e,a,n,r))}function $4(t,e){Vp(8390656,8,t,e)}function O6(t,e){l1(2048,8,t,e)}function P6(t,e){return l1(4,2,t,e)}function F6(t,e){return l1(4,4,t,e)}function M6(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B6(t,e,n){n=n!=null?n.concat([t]):null,l1(4,4,M6.bind(null,e,t),n)}function kx(){}function j6(t,e){var n=hi();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U6(t,e){var n=hi();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Sx(e,r[1]))return r[0];if(r=t(),qu){wc(!0);try{t()}finally{wc(!1)}}return n.memoizedState=[r,e],r}function Ox(t,e,n){return n===void 0||zc&1073741824?t.memoizedState=e:(t.memoizedState=n,t=IT(),mn.lanes|=t,qc|=t,n)}function V6(t,e,n,r){return Es(n,e)?n:Ah.current!==null?(t=Ox(t,n,r),Es(t,e)||(ki=!0),t):zc&42?(t=IT(),mn.lanes|=t,qc|=t,e):(ki=!0,t.memoizedState=n)}function z6(t,e,n,r,i){var a=jn.p;jn.p=a!==0&&8>a?a:8;var s=Xt.T,o={};Xt.T=o,Fx(t,!1,e,n);try{var l=i(),c=Xt.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=XD(l,r);K0(t,e,u,_s(t))}else K0(t,e,r,_s(t))}catch(d){K0(t,e,{then:function(){},status:"rejected",reason:d},_s())}finally{jn.p=a,Xt.T=s}}function ek(){}function jy(t,e,n,r){if(t.tag!==5)throw Error(et(476));var i=H6(t).queue;z6(t,i,e,Lu,n===null?ek:function(){return q6(t),n(r)})}function H6(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Lu,baseState:Lu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:Lu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function q6(t){var e=H6(t).next.queue;K0(t,e,{},_s())}function Px(){return fa(Cd)}function W6(){return hi().memoizedState}function G6(){return hi().memoizedState}function tk(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_s();t=Ic(n);var r=Lc(e,t,n);r!==null&&(ws(r,e,n),$0(r,e,n)),e={cache:wx()},t.payload=e;return}e=e.return}}function nk(t,e,n){var r=_s();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Dm(t)?Y6(e,n):(n=vx(t,e,n,r),n!==null&&(ws(n,t,r),X6(n,e,r)))}function $6(t,e,n){var r=_s();K0(t,e,n,r)}function K0(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dm(t))Y6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Es(o,s))return Nm(t,e,i,0),yr===null&&Cm(),!1}catch{}finally{}if(n=vx(t,e,i,r),n!==null)return ws(n,t,r),X6(n,e,r),!0}return!1}function Fx(t,e,n,r){if(r={lane:2,revertLane:qx(),action:r,hasEagerState:!1,eagerState:null,next:null},Dm(t)){if(e)throw Error(et(479))}else e=vx(t,n,r,2),e!==null&&ws(e,t,2)}function Dm(t){var e=t.alternate;return t===mn||e!==null&&e===mn}function Y6(t,e){sh=xg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X6(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jS(t,n)}}var wg={readContext:fa,use:Im,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr},K6={readContext:fa,use:Im,useCallback:function(t,e){return Ma().memoizedState=[t,e===void 0?null:e],t},useContext:fa,useEffect:$4,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Vp(4194308,4,M6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vp(4194308,4,t,e)},useInsertionEffect:function(t,e){Vp(4,2,t,e)},useMemo:function(t,e){var n=Ma();e=e===void 0?null:e;var r=t();if(qu){wc(!0);try{t()}finally{wc(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ma();if(n!==void 0){var i=n(e);if(qu){wc(!0);try{n(e)}finally{wc(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=nk.bind(null,mn,t),[r.memoizedState,t]},useRef:function(t){var e=Ma();return t={current:t},e.memoizedState=t},useState:function(t){t=My(t);var e=t.queue,n=$6.bind(null,mn,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kx,useDeferredValue:function(t,e){var n=Ma();return Ox(n,t,e)},useTransition:function(){var t=My(!1);return t=z6.bind(null,mn,t.queue,!0,!1),Ma().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=mn,i=Ma();if(Bn){if(n===void 0)throw Error(et(407));n=n()}else{if(n=e(),yr===null)throw Error(et(349));In&124||E6(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,$4(S6.bind(null,r,a,t),[t]),r.flags|=2048,Sh(9,Lm(),A6.bind(null,r,a,n,e),null),n},useId:function(){var t=Ma(),e=yr.identifierPrefix;if(Bn){var n=ml,r=gl;n=(r&~(1<<32-xs(r)-1)).toString(32)+n,e=""+e+"R"+n,n=_g++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=KD++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Px,useFormState:q4,useActionState:q4,useOptimistic:function(t){var e=Ma();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Fx.bind(null,mn,!0,n),n.dispatch=e,[t,e]},useMemoCache:Lx,useCacheRefresh:function(){return Ma().memoizedState=tk.bind(null,mn)}},Q6={readContext:fa,use:Im,useCallback:j6,useContext:fa,useEffect:O6,useImperativeHandle:B6,useInsertionEffect:P6,useLayoutEffect:F6,useMemo:U6,useReducer:Up,useRef:k6,useState:function(){return Up(Nl)},useDebugValue:kx,useDeferredValue:function(t,e){var n=hi();return V6(n,rr.memoizedState,t,e)},useTransition:function(){var t=Up(Nl)[0],e=hi().memoizedState;return[typeof t=="boolean"?t:o1(t),e]},useSyncExternalStore:b6,useId:W6,useHostTransitionStatus:Px,useFormState:W4,useActionState:W4,useOptimistic:function(t,e){var n=hi();return N6(n,rr,t,e)},useMemoCache:Lx,useCacheRefresh:G6},rk={readContext:fa,use:Im,useCallback:j6,useContext:fa,useEffect:O6,useImperativeHandle:B6,useInsertionEffect:P6,useLayoutEffect:F6,useMemo:U6,useReducer:Q2,useRef:k6,useState:function(){return Q2(Nl)},useDebugValue:kx,useDeferredValue:function(t,e){var n=hi();return rr===null?Ox(n,t,e):V6(n,rr.memoizedState,t,e)},useTransition:function(){var t=Q2(Nl)[0],e=hi().memoizedState;return[typeof t=="boolean"?t:o1(t),e]},useSyncExternalStore:b6,useId:W6,useHostTransitionStatus:Px,useFormState:G4,useActionState:G4,useOptimistic:function(t,e){var n=hi();return rr!==null?N6(n,rr,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Lx,useCacheRefresh:G6},lh=null,Ed=0;function rp(t){var e=Ed;return Ed+=1,lh===null&&(lh=[]),v6(lh,t,e)}function E0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ip(t,e){throw e.$$typeof===kL?Error(et(525)):(t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Y4(t){var e=t._init;return e(t._payload)}function Z6(t){function e(y,T){if(t){var C=y.deletions;C===null?(y.deletions=[T],y.flags|=16):C.push(T)}}function n(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function r(y){for(var T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(y,T){return y=wl(y,T),y.index=0,y.sibling=null,y}function a(y,T,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<T?(y.flags|=67108866,T):C):(y.flags|=67108866,T)):(y.flags|=1048576,T)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,T,C,O){return T===null||T.tag!==6?(T=Y2(C,y.mode,O),T.return=y,T):(T=i(T,C),T.return=y,T)}function l(y,T,C,O){var Y=C.type;return Y===zf?u(y,T,C.props.children,O,C.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===gc&&Y4(Y)===T.type)?(T=i(T,C.props),E0(T,C),T.return=y,T):(T=Bp(C.type,C.key,C.props,null,y.mode,O),E0(T,C),T.return=y,T)}function c(y,T,C,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=X2(C,y.mode,O),T.return=y,T):(T=i(T,C.children||[]),T.return=y,T)}function u(y,T,C,O,Y){return T===null||T.tag!==7?(T=Du(C,y.mode,O,Y),T.return=y,T):(T=i(T,C),T.return=y,T)}function d(y,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Y2(""+T,y.mode,C),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case K1:return C=Bp(T.type,T.key,T.props,null,y.mode,C),E0(C,T),C.return=y,C;case L0:return T=X2(T,y.mode,C),T.return=y,T;case gc:var O=T._init;return T=O(T._payload),d(y,T,C)}if(D0(T)||x0(T))return T=Du(T,y.mode,C,null),T.return=y,T;if(typeof T.then=="function")return d(y,rp(T),C);if(T.$$typeof===pl)return d(y,tp(y,T),C);ip(y,T)}return null}function g(y,T,C,O){var Y=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return Y!==null?null:o(y,T,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case K1:return C.key===Y?l(y,T,C,O):null;case L0:return C.key===Y?c(y,T,C,O):null;case gc:return Y=C._init,C=Y(C._payload),g(y,T,C,O)}if(D0(C)||x0(C))return Y!==null?null:u(y,T,C,O,null);if(typeof C.then=="function")return g(y,T,rp(C),O);if(C.$$typeof===pl)return g(y,T,tp(y,C),O);ip(y,C)}return null}function f(y,T,C,O,Y){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return y=y.get(C)||null,o(T,y,""+O,Y);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K1:return y=y.get(O.key===null?C:O.key)||null,l(T,y,O,Y);case L0:return y=y.get(O.key===null?C:O.key)||null,c(T,y,O,Y);case gc:var ae=O._init;return O=ae(O._payload),f(y,T,C,O,Y)}if(D0(O)||x0(O))return y=y.get(C)||null,u(T,y,O,Y,null);if(typeof O.then=="function")return f(y,T,C,rp(O),Y);if(O.$$typeof===pl)return f(y,T,C,tp(T,O),Y);ip(T,O)}return null}function x(y,T,C,O){for(var Y=null,ae=null,L=T,I=T=0,A=null;L!==null&&I<C.length;I++){L.index>I?(A=L,L=null):A=L.sibling;var F=g(y,L,C[I],O);if(F===null){L===null&&(L=A);break}t&&L&&F.alternate===null&&e(y,L),T=a(F,T,I),ae===null?Y=F:ae.sibling=F,ae=F,L=A}if(I===C.length)return n(y,L),Bn&&Eu(y,I),Y;if(L===null){for(;I<C.length;I++)L=d(y,C[I],O),L!==null&&(T=a(L,T,I),ae===null?Y=L:ae.sibling=L,ae=L);return Bn&&Eu(y,I),Y}for(L=r(L);I<C.length;I++)A=f(L,y,I,C[I],O),A!==null&&(t&&A.alternate!==null&&L.delete(A.key===null?I:A.key),T=a(A,T,I),ae===null?Y=A:ae.sibling=A,ae=A);return t&&L.forEach(function(S){return e(y,S)}),Bn&&Eu(y,I),Y}function v(y,T,C,O){if(C==null)throw Error(et(151));for(var Y=null,ae=null,L=T,I=T=0,A=null,F=C.next();L!==null&&!F.done;I++,F=C.next()){L.index>I?(A=L,L=null):A=L.sibling;var S=g(y,L,F.value,O);if(S===null){L===null&&(L=A);break}t&&L&&S.alternate===null&&e(y,L),T=a(S,T,I),ae===null?Y=S:ae.sibling=S,ae=S,L=A}if(F.done)return n(y,L),Bn&&Eu(y,I),Y;if(L===null){for(;!F.done;I++,F=C.next())F=d(y,F.value,O),F!==null&&(T=a(F,T,I),ae===null?Y=F:ae.sibling=F,ae=F);return Bn&&Eu(y,I),Y}for(L=r(L);!F.done;I++,F=C.next())F=f(L,y,I,F.value,O),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?I:F.key),T=a(F,T,I),ae===null?Y=F:ae.sibling=F,ae=F);return t&&L.forEach(function(D){return e(y,D)}),Bn&&Eu(y,I),Y}function _(y,T,C,O){if(typeof C=="object"&&C!==null&&C.type===zf&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case K1:e:{for(var Y=C.key;T!==null;){if(T.key===Y){if(Y=C.type,Y===zf){if(T.tag===7){n(y,T.sibling),O=i(T,C.props.children),O.return=y,y=O;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===gc&&Y4(Y)===T.type){n(y,T.sibling),O=i(T,C.props),E0(O,C),O.return=y,y=O;break e}n(y,T);break}else e(y,T);T=T.sibling}C.type===zf?(O=Du(C.props.children,y.mode,O,C.key),O.return=y,y=O):(O=Bp(C.type,C.key,C.props,null,y.mode,O),E0(O,C),O.return=y,y=O)}return s(y);case L0:e:{for(Y=C.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(y,T.sibling),O=i(T,C.children||[]),O.return=y,y=O;break e}else{n(y,T);break}else e(y,T);T=T.sibling}O=X2(C,y.mode,O),O.return=y,y=O}return s(y);case gc:return Y=C._init,C=Y(C._payload),_(y,T,C,O)}if(D0(C))return x(y,T,C,O);if(x0(C)){if(Y=x0(C),typeof Y!="function")throw Error(et(150));return C=Y.call(C),v(y,T,C,O)}if(typeof C.then=="function")return _(y,T,rp(C),O);if(C.$$typeof===pl)return _(y,T,tp(y,C),O);ip(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,T!==null&&T.tag===6?(n(y,T.sibling),O=i(T,C),O.return=y,y=O):(n(y,T),O=Y2(C,y.mode,O),O.return=y,y=O),s(y)):n(y,T)}return function(y,T,C,O){try{Ed=0;var Y=_(y,T,C,O);return lh=null,Y}catch(L){if(L===s1||L===Rm)throw L;var ae=gs(29,L,null,y.mode);return ae.lanes=O,ae.return=y,ae}finally{}}}var Th=Z6(!0),J6=Z6(!1),Hs=qo(null),Oo=null;function yc(t){var e=t.alternate;Nr(bi,bi.current&1),Nr(Hs,t),Oo===null&&(e===null||Ah.current!==null||e.memoizedState!==null)&&(Oo=t)}function eT(t){if(t.tag===22){if(Nr(bi,bi.current),Nr(Hs,t),Oo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Oo=t)}}else xc()}function xc(){Nr(bi,bi.current),Nr(Hs,Hs.current)}function yl(t){Fi(Hs),Oo===t&&(Oo=null),Fi(bi)}var bi=qo(0);function bg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n5(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Z2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:br({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uy={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_s(),i=Ic(r);i.payload=e,n!=null&&(i.callback=n),e=Lc(t,i,r),e!==null&&(ws(e,t,r),$0(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_s(),i=Ic(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Lc(t,i,r),e!==null&&(ws(e,t,r),$0(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_s(),r=Ic(n);r.tag=2,e!=null&&(r.callback=e),e=Lc(t,r,n),e!==null&&(ws(e,t,n),$0(e,t,n))}};function X4(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(i,a):!0}function K4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uy.enqueueReplaceState(e,e.state,null)}function Wu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=br({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Eg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tT(t){Eg(t)}function nT(t){console.error(t)}function rT(t){Eg(t)}function Ag(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Q4(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Vy(t,e,n){return n=Ic(n),n.tag=3,n.payload={element:null},n.callback=function(){Ag(t,e)},n}function iT(t){return t=Ic(t),t.tag=3,t}function aT(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){Q4(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Q4(e,n,r),typeof i!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function ik(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&i1(e,n,i,!0),n=Hs.current,n!==null){switch(n.tag){case 13:return Oo===null?Xy():n.alternate===null&&Hr===0&&(Hr=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ky?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),cv(t,r,i)),!1;case 22:return n.flags|=65536,r===ky?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),cv(t,r,i)),!1}throw Error(et(435,n.tag))}return cv(t,r,i),Xy(),!1}if(Bn)return e=Hs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Ny&&(t=Error(et(422),{cause:r}),wd(Us(t,n)))):(r!==Ny&&(e=Error(et(423),{cause:r}),wd(Us(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Us(r,n),i=Vy(t.stateNode,r,i),K2(t,i),Hr!==4&&(Hr=2)),!1;var a=Error(et(520),{cause:r});if(a=Us(a,n),J0===null?J0=[a]:J0.push(a),Hr!==4&&(Hr=2),e===null)return!0;r=Us(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Vy(n.stateNode,r,t),K2(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Dc===null||!Dc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=iT(i),aT(i,t,n,r),K2(n,i),!1}n=n.return}while(n!==null);return!1}var sT=Error(et(461)),ki=!1;function zi(t,e,n,r){e.child=t===null?J6(e,null,n,r):Th(e,t.child,n,r)}function Z4(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Hu(e),r=Tx(t,e,n,s,a,i),o=Cx(),t!==null&&!ki?(Nx(t,e,i),Rl(t,e,i)):(Bn&&o&&xx(e),e.flags|=1,zi(t,e,r,i),e.child)}function J4(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!yx(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,oT(t,e,a,r,i)):(t=Bp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Mx(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(s,r)&&t.ref===e.ref)return Rl(t,e,i)}return e.flags|=1,t=wl(a,r),t.ref=e.ref,t.return=e,e.child=t}function oT(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(_d(a,r)&&t.ref===e.ref)if(ki=!1,e.pendingProps=r=a,Mx(t,i))t.flags&131072&&(ki=!0);else return e.lanes=t.lanes,Rl(t,e,i)}return zy(t,e,n,r,i)}function lT(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return eb(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&jp(e,a!==null?a.cachePool:null),a!==null?V4(e,a):Fy(),eT(e);else return e.lanes=e.childLanes=536870912,eb(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(jp(e,a.cachePool),V4(e,a),xc(),e.memoizedState=null):(t!==null&&jp(e,null),Fy(),xc());return zi(t,e,i,n),e.child}function eb(t,e,n,r){var i=bx();return i=i===null?null:{parent:wi._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&jp(e,null),Fy(),eT(e),t!==null&&i1(t,e,r,!0),null}function zp(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(et(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function zy(t,e,n,r,i){return Hu(e),n=Tx(t,e,n,r,void 0,i),r=Cx(),t!==null&&!ki?(Nx(t,e,i),Rl(t,e,i)):(Bn&&r&&xx(e),e.flags|=1,zi(t,e,n,i),e.child)}function tb(t,e,n,r,i,a){return Hu(e),e.updateQueue=null,n=w6(e,r,n,i),_6(t),r=Cx(),t!==null&&!ki?(Nx(t,e,a),Rl(t,e,a)):(Bn&&r&&xx(e),e.flags|=1,zi(t,e,n,a),e.child)}function nb(t,e,n,r,i){if(Hu(e),e.stateNode===null){var a=Kf,s=n.contextType;typeof s=="object"&&s!==null&&(a=fa(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Uy,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},Ex(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?fa(s):Kf,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Z2(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Uy.enqueueReplaceState(a,a.state,null),X0(e,r,a,i),Y0(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Wu(n,o);a.props=l;var c=a.context,u=n.contextType;s=Kf,typeof u=="object"&&u!==null&&(s=fa(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&K4(e,a,r,s),mc=!1;var g=e.memoizedState;a.state=g,X0(e,r,a,i),Y0(),c=e.memoizedState,o||g!==c||mc?(typeof d=="function"&&(Z2(e,n,d,r),c=e.memoizedState),(l=mc||X4(e,n,l,r,g,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Oy(t,e),s=e.memoizedProps,u=Wu(n,s),a.props=u,d=e.pendingProps,g=a.context,c=n.contextType,l=Kf,typeof c=="object"&&c!==null&&(l=fa(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||g!==l)&&K4(e,a,r,l),mc=!1,g=e.memoizedState,a.state=g,X0(e,r,a,i),Y0();var f=e.memoizedState;s!==d||g!==f||mc||t!==null&&t.dependencies!==null&&vg(t.dependencies)?(typeof o=="function"&&(Z2(e,n,o,r),f=e.memoizedState),(u=mc||X4(e,n,u,r,g,f,l)||t!==null&&t.dependencies!==null&&vg(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,zp(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Th(e,t.child,null,i),e.child=Th(e,null,n,i)):zi(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Rl(t,e,i),t}function rb(t,e,n,r){return r1(),e.flags|=256,zi(t,e,n,r),e.child}var J2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ev(t){return{baseLanes:t,cachePool:g6()}}function tv(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zs),t}function cT(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(bi.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bn){if(i?yc(e):xc(),Bn){var o=Vr,l;if(l=o){e:{for(l=o,o=Ro;l.nodeType!==8;){if(!o){o=null;break e}if(l=ao(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:ku!==null?{id:gl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},l=gs(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Sa=e,Vr=null,l=!0):l=!1}l||zu(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return n5(o)?e.lanes=32:e.lanes=536870912,null;yl(e)}return o=r.children,r=r.fallback,i?(xc(),i=e.mode,o=Sg({mode:"hidden",children:o},i),r=Du(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=ev(n),i.childLanes=tv(t,s,n),e.memoizedState=J2,r):(yc(e),Hy(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(yc(e),e.flags&=-257,e=nv(t,e,n)):e.memoizedState!==null?(xc(),e.child=t.child,e.flags|=128,e=null):(xc(),i=r.fallback,o=e.mode,r=Sg({mode:"visible",children:r.children},o),i=Du(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Th(e,t.child,null,n),r=e.child,r.memoizedState=ev(n),r.childLanes=tv(t,s,n),e.memoizedState=J2,e=i);else if(yc(e),n5(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(et(419)),r.stack="",r.digest=s,wd({value:r,source:null,stack:null}),e=nv(t,e,n)}else if(ki||i1(t,e,n,!1),s=(n&t.childLanes)!==0,ki||s){if(s=yr,s!==null&&(r=n&-n,r=r&42?1:ox(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Vh(t,r),ws(s,t,r),sT;o.data==="$?"||Xy(),e=nv(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Vr=ao(o.nextSibling),Sa=e,Bn=!0,Ou=null,Ro=!1,t!==null&&(Ms[Bs++]=gl,Ms[Bs++]=ml,Ms[Bs++]=ku,gl=t.id,ml=t.overflow,ku=e),e=Hy(e,r.children),e.flags|=4096);return e}return i?(xc(),i=r.fallback,o=e.mode,l=t.child,c=l.sibling,r=wl(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=wl(c,i):(i=Du(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=ev(n):(l=o.cachePool,l!==null?(c=wi._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=g6(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=tv(t,s,n),e.memoizedState=J2,r):(yc(e),n=t.child,t=n.sibling,n=wl(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Hy(t,e){return e=Sg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Sg(t,e){return t=gs(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nv(t,e,n){return Th(e,t.child,null,n),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ib(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Iy(t.return,e,n)}function rv(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uT(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(zi(t,e,r.children,n),r=bi.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ib(t,n,e);else if(t.tag===19)ib(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Nr(bi,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rv(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rv(e,!0,n,null,a);break;case"together":rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qc|=e.lanes,!(n&e.childLanes))if(t!==null){if(i1(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,n=wl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mx(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&vg(t)))}function ak(t,e,n){switch(e.tag){case 3:cg(e,e.stateNode.containerInfo),vc(e,wi,t.memoizedState.cache),r1();break;case 27:case 5:yy(e);break;case 4:cg(e,e.stateNode.containerInfo);break;case 10:vc(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(yc(e),e.flags|=128,null):n&e.child.childLanes?cT(t,e,n):(yc(e),t=Rl(t,e,n),t!==null?t.sibling:null);yc(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(i1(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return uT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nr(bi,bi.current),r)break;return null;case 22:case 23:return e.lanes=0,lT(t,e,n);case 24:vc(e,wi,t.memoizedState.cache)}return Rl(t,e,n)}function fT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ki=!0;else{if(!Mx(t,n)&&!(e.flags&128))return ki=!1,ak(t,e,n);ki=!!(t.flags&131072)}else ki=!1,Bn&&e.flags&1048576&&d6(e,mg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")yx(r)?(t=Wu(r,t),e.tag=1,e=nb(null,e,r,t,n)):(e.tag=0,e=zy(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===ix){e.tag=11,e=Z4(null,e,r,t,n);break e}else if(i===ax){e.tag=14,e=J4(null,e,r,t,n);break e}}throw e=my(r)||r,Error(et(306,e,""))}}return e;case 0:return zy(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Wu(r,e.pendingProps),nb(t,e,r,i,n);case 3:e:{if(cg(e,e.stateNode.containerInfo),t===null)throw Error(et(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Oy(t,e),X0(e,r,null,n);var s=e.memoizedState;if(r=s.cache,vc(e,wi,r),r!==a.cache&&Ly(e,[wi],n,!0),Y0(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=rb(t,e,r,n);break e}else if(r!==i){i=Us(Error(et(424)),e),wd(i),e=rb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vr=ao(t.firstChild),Sa=e,Bn=!0,Ou=null,Ro=!0,n=J6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(r1(),r===i){e=Rl(t,e,n);break e}zi(t,e,r,n)}e=e.child}return e;case 26:return zp(t,e),t===null?(n=wb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Bn||(n=e.type,t=e.pendingProps,r=Dg(Rc.current).createElement(n),r[ua]=e,r[qa]=t,Xi(r,n,t),Li(r),e.stateNode=r):e.memoizedState=wb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return yy(e),t===null&&Bn&&(r=e.stateNode=QT(e.type,e.pendingProps,Rc.current),Sa=e,Ro=!0,i=Vr,ru(e.type)?(r5=i,Vr=ao(r.firstChild)):Vr=i),zi(t,e,e.pendingProps.children,n),zp(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bn&&((i=r=Vr)&&(r=kk(r,e.type,e.pendingProps,Ro),r!==null?(e.stateNode=r,Sa=e,Vr=ao(r.firstChild),Ro=!1,i=!0):i=!1),i||zu(e)),yy(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,e5(i,a)?r=null:s!==null&&e5(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=Tx(t,e,QD,null,null,n),Cd._currentValue=i),zp(t,e),zi(t,e,r,n),e.child;case 6:return t===null&&Bn&&((t=n=Vr)&&(n=Ok(n,e.pendingProps,Ro),n!==null?(e.stateNode=n,Sa=e,Vr=null,t=!0):t=!1),t||zu(e)),null;case 13:return cT(t,e,n);case 4:return cg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Th(e,null,r,n):zi(t,e,r,n),e.child;case 11:return Z4(t,e,e.type,e.pendingProps,n);case 7:return zi(t,e,e.pendingProps,n),e.child;case 8:return zi(t,e,e.pendingProps.children,n),e.child;case 12:return zi(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,vc(e,e.type,r.value),zi(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Hu(e),i=fa(i),r=r(i),e.flags|=1,zi(t,e,r,n),e.child;case 14:return J4(t,e,e.type,e.pendingProps,n);case 15:return oT(t,e,e.type,e.pendingProps,n);case 19:return uT(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Sg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=wl(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return lT(t,e,n);case 24:return Hu(e),r=fa(wi),t===null?(i=bx(),i===null&&(i=yr,a=wx(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},Ex(e),vc(e,wi,i)):(t.lanes&n&&(Oy(t,e),X0(e,null,null,n),Y0()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),vc(e,wi,r)):(r=a.cache,vc(e,wi,r),r!==i.cache&&Ly(e,[wi],n,!0))),zi(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(et(156,e.tag))}function ll(t){t.flags|=4}function ab(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e8(e)){if(e=Hs.current,e!==null&&((In&4194048)===In?Oo!==null:(In&62914560)!==In&&!(In&536870912)||e!==Oo))throw G0=ky,m6;t.flags|=8192}}function ap(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?MS():536870912,t.lanes|=e,Ch|=e)}function A0(t,e){if(!Bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sk(t,e,n){var r=e.pendingProps;switch(_x(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return kr(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),bl(wi),_h(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(b0(e)?ll(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,P4())),kr(e),null;case 26:return n=e.memoizedState,t===null?(ll(e),n!==null?(kr(e),ab(e,n)):(kr(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ll(e),kr(e),ab(e,n)):(kr(e),e.flags&=-16777217):(t.memoizedProps!==r&&ll(e),kr(e),e.flags&=-16777217),null;case 27:ug(e),n=Rc.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ll(e);else{if(!r){if(e.stateNode===null)throw Error(et(166));return kr(e),null}t=Do.current,b0(e)?k4(e):(t=QT(i,r,n),e.stateNode=t,ll(e))}return kr(e),null;case 5:if(ug(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ll(e);else{if(!r){if(e.stateNode===null)throw Error(et(166));return kr(e),null}if(t=Do.current,b0(e))k4(e);else{switch(i=Dg(Rc.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[ua]=e,t[qa]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Xi(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ll(e)}}return kr(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ll(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(t=Rc.current,b0(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Sa,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[ua]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||YT(t.nodeValue,n)),t||zu(e)}else t=Dg(t).createTextNode(r),t[ua]=e,e.stateNode=t}return kr(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=b0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(et(317));i[ua]=e}else r1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),i=!1}else i=P4(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(yl(e),e):(yl(e),null)}if(yl(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),ap(e,e.updateQueue),kr(e),null;case 4:return _h(),t===null&&Wx(e.stateNode.containerInfo),kr(e),null;case 10:return bl(e.type),kr(e),null;case 19:if(Fi(bi),i=e.memoizedState,i===null)return kr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)A0(i,!1);else{if(Hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bg(t),a!==null){for(e.flags|=128,A0(i,!1),t=a.updateQueue,e.updateQueue=t,ap(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)h6(n,t),n=n.sibling;return Nr(bi,bi.current&1|2),e.child}t=t.sibling}i.tail!==null&&ko()>Cg&&(e.flags|=128,r=!0,A0(i,!1),e.lanes=4194304)}else{if(!r)if(t=bg(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,ap(e,t),A0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Bn)return kr(e),null}else 2*ko()-i.renderingStartTime>Cg&&n!==536870912&&(e.flags|=128,r=!0,A0(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ko(),e.sibling=null,t=bi.current,Nr(bi,r?t&1|2:t&1),e):(kr(e),null);case 22:case 23:return yl(e),Ax(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),n=e.updateQueue,n!==null&&ap(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Fi(Pu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),bl(wi),kr(e),null;case 25:return null;case 30:return null}throw Error(et(156,e.tag))}function ok(t,e){switch(_x(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bl(wi),_h(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ug(e),null;case 13:if(yl(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));r1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fi(bi),null;case 4:return _h(),null;case 10:return bl(e.type),null;case 22:case 23:return yl(e),Ax(),t!==null&&Fi(Pu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return bl(wi),null;case 25:return null;default:return null}}function hT(t,e){switch(_x(e),e.tag){case 3:bl(wi),_h();break;case 26:case 27:case 5:ug(e);break;case 4:_h();break;case 13:yl(e);break;case 19:Fi(bi);break;case 10:bl(e.type);break;case 22:case 23:yl(e),Ax(),t!==null&&Fi(Pu);break;case 24:bl(wi)}}function c1(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){fr(e,e.return,o)}}function Hc(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(u){fr(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){fr(e,e.return,u)}}function dT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{x6(e,n)}catch(r){fr(t,t.return,r)}}}function pT(t,e,n){n.props=Wu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){fr(t,e,r)}}function Q0(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){fr(t,e,i)}}function Io(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){fr(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){fr(t,e,i)}else n.current=null}function gT(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){fr(t,t.return,i)}}function iv(t,e,n){try{var r=t.stateNode;Nk(r,t.type,n,e),r[qa]=e}catch(i){fr(t,t.return,i)}}function mT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ru(t.type)||t.tag===4}function av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ru(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fm));else if(r!==4&&(r===27&&ru(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(qy(t,e,n),t=t.sibling;t!==null;)qy(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ru(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function vT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e,r,n),e[ua]=t,e[qa]=n}catch(a){fr(t,t.return,a)}}var dl=!1,Jr=!1,sv=!1,sb=typeof WeakSet=="function"?WeakSet:Set,Ri=null;function lk(t,e){if(t=t.containerInfo,Zy=Fg,t=i6(t),gx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,g=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)g=d,d=f;for(;;){if(d===t)break t;if(g===n&&++c===i&&(o=s),g===a&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jy={focusedElem:t,selectionRange:n},Fg=!1,Ri=e;Ri!==null;)if(e=Ri,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ri=t;else for(;Ri!==null;){switch(e=Ri,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var x=Wu(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(x,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){fr(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)t5(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":t5(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(et(163))}if(t=e.sibling,t!==null){t.return=e.return,Ri=t;break}Ri=e.return}}function yT(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:cc(t,n),r&4&&c1(5,n);break;case 1:if(cc(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){fr(n,n.return,s)}else{var i=Wu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){fr(n,n.return,s)}}r&64&&dT(n),r&512&&Q0(n,n.return);break;case 3:if(cc(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{x6(t,e)}catch(s){fr(n,n.return,s)}}break;case 27:e===null&&r&4&&vT(n);case 26:case 5:cc(t,n),e===null&&r&4&&gT(n),r&512&&Q0(n,n.return);break;case 12:cc(t,n);break;case 13:cc(t,n),r&4&&wT(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=vk.bind(null,n),Pk(t,n))));break;case 22:if(r=n.memoizedState!==null||dl,!r){e=e!==null&&e.memoizedState!==null||Jr,i=dl;var a=Jr;dl=r,(Jr=e)&&!a?pc(t,n,(n.subtreeFlags&8772)!==0):cc(t,n),dl=i,Jr=a}break;case 30:break;default:cc(t,n)}}function xT(t){var e=t.alternate;e!==null&&(t.alternate=null,xT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&cx(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Sr=null,Ba=!1;function cl(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 26:Jr||Io(n,e),cl(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Jr||Io(n,e);var r=Sr,i=Ba;ru(n.type)&&(Sr=n.stateNode,Ba=!1),cl(t,e,n),td(n.stateNode),Sr=r,Ba=i;break;case 5:Jr||Io(n,e);case 6:if(r=Sr,i=Ba,Sr=null,cl(t,e,n),Sr=r,Ba=i,Sr!==null)if(Ba)try{(Sr.nodeType===9?Sr.body:Sr.nodeName==="HTML"?Sr.ownerDocument.body:Sr).removeChild(n.stateNode)}catch(a){fr(n,e,a)}else try{Sr.removeChild(n.stateNode)}catch(a){fr(n,e,a)}break;case 18:Sr!==null&&(Ba?(t=Sr,yb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Id(t)):yb(Sr,n.stateNode));break;case 4:r=Sr,i=Ba,Sr=n.stateNode.containerInfo,Ba=!0,cl(t,e,n),Sr=r,Ba=i;break;case 0:case 11:case 14:case 15:Jr||Hc(2,n,e),Jr||Hc(4,n,e),cl(t,e,n);break;case 1:Jr||(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&pT(n,e,r)),cl(t,e,n);break;case 21:cl(t,e,n);break;case 22:Jr=(r=Jr)||n.memoizedState!==null,cl(t,e,n),Jr=r;break;default:cl(t,e,n)}}function wT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Id(t)}catch(n){fr(e,e.return,n)}}function ck(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new sb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new sb),e;default:throw Error(et(435,t.tag))}}function ov(t,e){var n=ck(t);e.forEach(function(r){var i=yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function os(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(ru(o.type)){Sr=o.stateNode,Ba=!1;break e}break;case 5:Sr=o.stateNode,Ba=!1;break e;case 3:case 4:Sr=o.stateNode.containerInfo,Ba=!0;break e}o=o.return}if(Sr===null)throw Error(et(160));_T(a,s,i),Sr=null,Ba=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)bT(e,t),e=e.sibling}var no=null;function bT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:os(e,t),ls(t),r&4&&(Hc(3,t,t.return),c1(3,t),Hc(5,t,t.return));break;case 1:os(e,t),ls(t),r&512&&(Jr||n===null||Io(n,n.return)),r&64&&dl&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=no;if(os(e,t),ls(t),r&512&&(Jr||n===null||Io(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[t1]||a[ua]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Xi(a,r,n),a[ua]=t,Li(a),r=a;break e;case"link":var s=Eb("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Xi(a,r,n),i.head.appendChild(a);break;case"meta":if(s=Eb("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Xi(a,r,n),i.head.appendChild(a);break;default:throw Error(et(468,r))}a[ua]=t,Li(a),r=a}t.stateNode=r}else Ab(i,t.type,t.stateNode);else t.stateNode=bb(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Ab(i,t.type,t.stateNode):bb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&iv(t,t.memoizedProps,n.memoizedProps)}break;case 27:os(e,t),ls(t),r&512&&(Jr||n===null||Io(n,n.return)),n!==null&&r&4&&iv(t,t.memoizedProps,n.memoizedProps);break;case 5:if(os(e,t),ls(t),r&512&&(Jr||n===null||Io(n,n.return)),t.flags&32){i=t.stateNode;try{bh(i,"")}catch(f){fr(t,t.return,f)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,iv(t,i,n!==null?n.memoizedProps:i)),r&1024&&(sv=!0);break;case 6:if(os(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(et(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(f){fr(t,t.return,f)}}break;case 3:if(Wp=null,i=no,no=kg(e.containerInfo),os(e,t),no=i,ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Id(e.containerInfo)}catch(f){fr(t,t.return,f)}sv&&(sv=!1,ET(t));break;case 4:r=no,no=kg(t.stateNode.containerInfo),os(e,t),ls(t),no=r;break;case 12:os(e,t),ls(t);break;case 13:os(e,t),ls(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zx=ko()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ov(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=dl,u=Jr;if(dl=c||i,Jr=u||l,os(e,t),Jr=u,dl=c,ls(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||dl||Jr||Au(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,g=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(f){fr(l,l.return,f)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(f){fr(l,l.return,f)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ov(t,n))));break;case 19:os(e,t),ls(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ov(t,r)));break;case 30:break;case 21:break;default:os(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(mT(r)){n=r;break}r=r.return}if(n==null)throw Error(et(160));switch(n.tag){case 27:var i=n.stateNode,a=av(t);Tg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(bh(s,""),n.flags&=-33);var o=av(t);Tg(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=av(t);qy(t,c,l);break;default:throw Error(et(161))}}catch(u){fr(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ET(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ET(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function cc(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)yT(t,e.alternate,e),e=e.sibling}function Au(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Hc(4,e,e.return),Au(e);break;case 1:Io(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&pT(e,e.return,n),Au(e);break;case 27:td(e.stateNode);case 26:case 5:Io(e,e.return),Au(e);break;case 22:e.memoizedState===null&&Au(e);break;case 30:Au(e);break;default:Au(e)}t=t.sibling}}function pc(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:pc(i,a,n),c1(4,a);break;case 1:if(pc(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){fr(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)y6(l[i],o)}catch(c){fr(r,r.return,c)}}n&&s&64&&dT(a),Q0(a,a.return);break;case 27:vT(a);case 26:case 5:pc(i,a,n),n&&r===null&&s&4&&gT(a),Q0(a,a.return);break;case 12:pc(i,a,n);break;case 13:pc(i,a,n),n&&s&4&&wT(i,a);break;case 22:a.memoizedState===null&&pc(i,a,n),Q0(a,a.return);break;case 30:break;default:pc(i,a,n)}e=e.sibling}}function Bx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&a1(n))}function jx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&a1(t))}function bo(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)AT(t,e,n,r),e=e.sibling}function AT(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:bo(t,e,n,r),i&2048&&c1(9,e);break;case 1:bo(t,e,n,r);break;case 3:bo(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&a1(t)));break;case 12:if(i&2048){bo(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){fr(e,e.return,l)}}else bo(t,e,n,r);break;case 13:bo(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?bo(t,e,n,r):Z0(t,e):a._visibility&2?bo(t,e,n,r):(a._visibility|=2,kf(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&Bx(s,e);break;case 24:bo(t,e,n,r),i&2048&&jx(e.alternate,e);break;default:bo(t,e,n,r)}}function kf(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:kf(a,s,o,l,i),c1(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?kf(a,s,o,l,i):Z0(a,s):(u._visibility|=2,kf(a,s,o,l,i)),i&&c&2048&&Bx(s.alternate,s);break;case 24:kf(a,s,o,l,i),i&&c&2048&&jx(s.alternate,s);break;default:kf(a,s,o,l,i)}e=e.sibling}}function Z0(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Z0(n,r),i&2048&&Bx(r.alternate,r);break;case 24:Z0(n,r),i&2048&&jx(r.alternate,r);break;default:Z0(n,r)}e=e.sibling}}var O0=8192;function bf(t){if(t.subtreeFlags&O0)for(t=t.child;t!==null;)ST(t),t=t.sibling}function ST(t){switch(t.tag){case 26:bf(t),t.flags&O0&&t.memoizedState!==null&&Yk(no,t.memoizedState,t.memoizedProps);break;case 5:bf(t);break;case 3:case 4:var e=no;no=kg(t.stateNode.containerInfo),bf(t),no=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=O0,O0=16777216,bf(t),O0=e):bf(t));break;default:bf(t)}}function TT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function S0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ri=r,NT(r,t)}TT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)CT(t),t=t.sibling}function CT(t){switch(t.tag){case 0:case 11:case 15:S0(t),t.flags&2048&&Hc(9,t,t.return);break;case 3:S0(t);break;case 12:S0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Hp(t)):S0(t);break;default:S0(t)}}function Hp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ri=r,NT(r,t)}TT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Hc(8,e,e.return),Hp(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Hp(e));break;default:Hp(e)}t=t.sibling}}function NT(t,e){for(;Ri!==null;){var n=Ri;switch(n.tag){case 0:case 11:case 15:Hc(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:a1(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ri=r;else e:for(n=t;Ri!==null;){r=Ri;var i=r.sibling,a=r.return;if(xT(r),r===n){Ri=null;break e}if(i!==null){i.return=a,Ri=i;break e}Ri=a}}}var uk={getCacheForType:function(t){var e=fa(wi),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},fk=typeof WeakMap=="function"?WeakMap:Map,Kn=0,yr=null,_n=null,In=0,$n=0,fs=null,Ec=!1,zh=!1,Ux=!1,Il=0,Hr=0,qc=0,Fu=0,Vx=0,zs=0,Ch=0,J0=null,ja=null,Wy=!1,zx=0,Cg=1/0,Ng=null,Dc=null,Wi=0,kc=null,Nh=null,ch=0,Gy=0,$y=null,RT=null,ed=0,Yy=null;function _s(){if(Kn&2&&In!==0)return In&-In;if(Xt.T!==null){var t=Eh;return t!==0?t:qx()}return US()}function IT(){zs===0&&(zs=!(In&536870912)||Bn?FS():536870912);var t=Hs.current;return t!==null&&(t.flags|=32),zs}function ws(t,e,n){(t===yr&&($n===2||$n===9)||t.cancelPendingCommit!==null)&&(Rh(t,0),Ac(t,In,zs,!1)),e1(t,n),(!(Kn&2)||t!==yr)&&(t===yr&&(!(Kn&2)&&(Fu|=n),Hr===4&&Ac(t,In,zs,!1)),Wo(t))}function LT(t,e,n){if(Kn&6)throw Error(et(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Jd(t,e),i=r?pk(t,e):lv(t,e,!0),a=r;do{if(i===0){zh&&!r&&Ac(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!hk(n)){i=lv(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=J0;var l=o.current.memoizedState.isDehydrated;if(l&&(Rh(o,s).flags|=256),s=lv(o,s,!1),s!==2){if(Ux&&!l){o.errorRecoveryDisabledLanes|=a,Fu|=a,i=4;break e}a=ja,ja=i,a!==null&&(ja===null?ja=a:ja.push.apply(ja,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Rh(t,0),Ac(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(et(345));case 4:if((e&4194048)!==e)break;case 6:Ac(r,e,zs,!Ec);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(et(329))}if((e&62914560)===e&&(i=zx+300-ko(),10<i)){if(Ac(r,e,zs,!Ec),Em(r,0,!0)!==0)break e;r.timeoutHandle=KT(ob.bind(null,r,n,ja,Ng,Wy,e,zs,Fu,Ch,Ec,a,2,-0,0),i);break e}ob(r,n,ja,Ng,Wy,e,zs,Fu,Ch,Ec,a,0,-0,0)}}break}while(!0);Wo(t)}function ob(t,e,n,r,i,a,s,o,l,c,u,d,g,f){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Td={stylesheets:null,count:0,unsuspend:$k},ST(e),d=Xk(),d!==null)){t.cancelPendingCommit=d(cb.bind(null,t,e,a,n,r,i,s,o,l,u,1,g,f)),Ac(t,a,s,!c);return}cb(t,e,a,n,r,i,s,o,l)}function hk(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Es(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ac(t,e,n,r){e&=~Vx,e&=~Fu,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-xs(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&BS(t,n,e)}function km(){return Kn&6?!0:(u1(0),!1)}function Hx(){if(_n!==null){if($n===0)var t=_n.return;else t=_n,vl=sf=null,Rx(t),lh=null,Ed=0,t=_n;for(;t!==null;)hT(t.alternate,t),t=t.return;_n=null}}function Rh(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Ik(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Hx(),yr=t,_n=n=wl(t.current,null),In=e,$n=0,fs=null,Ec=!1,zh=Jd(t,e),Ux=!1,Ch=zs=Vx=Fu=qc=Hr=0,ja=J0=null,Wy=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-xs(r),a=1<<i;e|=t[i],r&=~a}return Il=e,Cm(),n}function DT(t,e){mn=null,Xt.H=wg,e===s1||e===Rm?(e=j4(),$n=3):e===m6?(e=j4(),$n=4):$n=e===sT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,fs=e,_n===null&&(Hr=1,Ag(t,Us(e,t.current)))}function kT(){var t=Xt.H;return Xt.H=wg,t===null?wg:t}function OT(){var t=Xt.A;return Xt.A=uk,t}function Xy(){Hr=4,Ec||(In&4194048)!==In&&Hs.current!==null||(zh=!0),!(qc&134217727)&&!(Fu&134217727)||yr===null||Ac(yr,In,zs,!1)}function lv(t,e,n){var r=Kn;Kn|=2;var i=kT(),a=OT();(yr!==t||In!==e)&&(Ng=null,Rh(t,e)),e=!1;var s=Hr;e:do try{if($n!==0&&_n!==null){var o=_n,l=fs;switch($n){case 8:Hx(),s=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(e=!0);var c=$n;if($n=0,fs=null,Jf(t,o,l,c),n&&zh){s=0;break e}break;default:c=$n,$n=0,fs=null,Jf(t,o,l,c)}}dk(),s=Hr;break}catch(u){DT(t,u)}while(!0);return e&&t.shellSuspendCounter++,vl=sf=null,Kn=r,Xt.H=i,Xt.A=a,_n===null&&(yr=null,In=0,Cm()),s}function dk(){for(;_n!==null;)PT(_n)}function pk(t,e){var n=Kn;Kn|=2;var r=kT(),i=OT();yr!==t||In!==e?(Ng=null,Cg=ko()+500,Rh(t,e)):zh=Jd(t,e);e:do try{if($n!==0&&_n!==null){e=_n;var a=fs;t:switch($n){case 1:$n=0,fs=null,Jf(t,e,a,1);break;case 2:case 9:if(B4(a)){$n=0,fs=null,lb(e);break}e=function(){$n!==2&&$n!==9||yr!==t||($n=7),Wo(t)},a.then(e,e);break e;case 3:$n=7;break e;case 4:$n=5;break e;case 7:B4(a)?($n=0,fs=null,lb(e)):($n=0,fs=null,Jf(t,e,a,7));break;case 5:var s=null;switch(_n.tag){case 26:s=_n.memoizedState;case 5:case 27:var o=_n;if(!s||e8(s)){$n=0,fs=null;var l=o.sibling;if(l!==null)_n=l;else{var c=o.return;c!==null?(_n=c,Om(c)):_n=null}break t}}$n=0,fs=null,Jf(t,e,a,5);break;case 6:$n=0,fs=null,Jf(t,e,a,6);break;case 8:Hx(),Hr=6;break e;default:throw Error(et(462))}}gk();break}catch(u){DT(t,u)}while(!0);return vl=sf=null,Xt.H=r,Xt.A=i,Kn=n,_n!==null?0:(yr=null,In=0,Cm(),Hr)}function gk(){for(;_n!==null&&!ML();)PT(_n)}function PT(t){var e=fT(t.alternate,t,Il);t.memoizedProps=t.pendingProps,e===null?Om(t):_n=e}function lb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=tb(n,e,e.pendingProps,e.type,void 0,In);break;case 11:e=tb(n,e,e.pendingProps,e.type.render,e.ref,In);break;case 5:Rx(e);default:hT(n,e),e=_n=h6(e,Il),e=fT(n,e,Il)}t.memoizedProps=t.pendingProps,e===null?Om(t):_n=e}function Jf(t,e,n,r){vl=sf=null,Rx(e),lh=null,Ed=0;var i=e.return;try{if(ik(t,i,e,n,In)){Hr=1,Ag(t,Us(n,t.current)),_n=null;return}}catch(a){if(i!==null)throw _n=i,a;Hr=1,Ag(t,Us(n,t.current)),_n=null;return}e.flags&32768?(Bn||r===1?t=!0:zh||In&536870912?t=!1:(Ec=t=!0,(r===2||r===9||r===3||r===6)&&(r=Hs.current,r!==null&&r.tag===13&&(r.flags|=16384))),FT(e,t)):Om(e)}function Om(t){var e=t;do{if(e.flags&32768){FT(e,Ec);return}t=e.return;var n=sk(e.alternate,e,Il);if(n!==null){_n=n;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=t}while(e!==null);Hr===0&&(Hr=5)}function FT(t,e){do{var n=ok(t.alternate,t);if(n!==null){n.flags&=32767,_n=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){_n=t;return}_n=t=n}while(t!==null);Hr=6,_n=null}function cb(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do Pm();while(Wi!==0);if(Kn&6)throw Error(et(327));if(e!==null){if(e===t.current)throw Error(et(177));if(a=e.lanes|e.childLanes,a|=mx,$L(t,n,a,s,o,l),t===yr&&(_n=yr=null,In=0),Nh=e,kc=t,ch=n,Gy=a,$y=i,RT=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,xk(fg,function(){return VT(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Xt.T,Xt.T=null,i=jn.p,jn.p=2,s=Kn,Kn|=4;try{lk(t,e,n)}finally{Kn=s,jn.p=i,Xt.T=r}}Wi=1,MT(),BT(),jT()}}function MT(){if(Wi===1){Wi=0;var t=kc,e=Nh,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Xt.T,Xt.T=null;var r=jn.p;jn.p=2;var i=Kn;Kn|=4;try{bT(e,t);var a=Jy,s=i6(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&r6(o.ownerDocument.documentElement,o)){if(l!==null&&gx(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,g=d&&d.defaultView||window;if(g.getSelection){var f=g.getSelection(),x=o.textContent.length,v=Math.min(l.start,x),_=l.end===void 0?v:Math.min(l.end,x);!f.extend&&v>_&&(s=_,_=v,v=s);var y=I4(o,v),T=I4(o,_);if(y&&T&&(f.rangeCount!==1||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==T.node||f.focusOffset!==T.offset)){var C=d.createRange();C.setStart(y.node,y.offset),f.removeAllRanges(),v>_?(f.addRange(C),f.extend(T.node,T.offset)):(C.setEnd(T.node,T.offset),f.addRange(C))}}}}for(d=[],f=o;f=f.parentNode;)f.nodeType===1&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var O=d[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Fg=!!Zy,Jy=Zy=null}finally{Kn=i,jn.p=r,Xt.T=n}}t.current=e,Wi=2}}function BT(){if(Wi===2){Wi=0;var t=kc,e=Nh,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Xt.T,Xt.T=null;var r=jn.p;jn.p=2;var i=Kn;Kn|=4;try{yT(t,e.alternate,e)}finally{Kn=i,jn.p=r,Xt.T=n}}Wi=3}}function jT(){if(Wi===4||Wi===3){Wi=0,BL();var t=kc,e=Nh,n=ch,r=RT;e.subtreeFlags&10256||e.flags&10256?Wi=5:(Wi=0,Nh=kc=null,UT(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Dc=null),lx(n),e=e.stateNode,ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Zd,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Xt.T,i=jn.p,jn.p=2,Xt.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{Xt.T=e,jn.p=i}}ch&3&&Pm(),Wo(t),i=t.pendingLanes,n&4194090&&i&42?t===Yy?ed++:(ed=0,Yy=t):ed=0,u1(0)}}function UT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,a1(e)))}function Pm(t){return MT(),BT(),jT(),VT()}function VT(){if(Wi!==5)return!1;var t=kc,e=Gy;Gy=0;var n=lx(ch),r=Xt.T,i=jn.p;try{jn.p=32>n?32:n,Xt.T=null,n=$y,$y=null;var a=kc,s=ch;if(Wi=0,Nh=kc=null,ch=0,Kn&6)throw Error(et(331));var o=Kn;if(Kn|=4,CT(a.current),AT(a,a.current,s,n),Kn=o,u1(0,!1),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Zd,a)}catch{}return!0}finally{jn.p=i,Xt.T=r,UT(t,e)}}function ub(t,e,n){e=Us(n,e),e=Vy(t.stateNode,e,2),t=Lc(t,e,2),t!==null&&(e1(t,2),Wo(t))}function fr(t,e,n){if(t.tag===3)ub(t,t,n);else for(;e!==null;){if(e.tag===3){ub(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dc===null||!Dc.has(r))){t=Us(n,t),n=iT(2),r=Lc(e,n,2),r!==null&&(aT(n,r,e,t),e1(r,2),Wo(r));break}}e=e.return}}function cv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Ux=!0,i.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,yr===t&&(In&n)===n&&(Hr===4||Hr===3&&(In&62914560)===In&&300>ko()-zx?!(Kn&2)&&Rh(t,0):Vx|=n,Ch===In&&(Ch=0)),Wo(t)}function zT(t,e){e===0&&(e=MS()),t=Vh(t,e),t!==null&&(e1(t,e),Wo(t))}function vk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zT(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(et(314))}r!==null&&r.delete(e),zT(t,n)}function xk(t,e){return sx(t,e)}var Rg=null,Of=null,Ky=!1,Ig=!1,uv=!1,Mu=0;function Wo(t){t!==Of&&t.next===null&&(Of===null?Rg=Of=t:Of=Of.next=t),Ig=!0,Ky||(Ky=!0,wk())}function u1(t,e){if(!uv&&Ig){uv=!0;do for(var n=!1,r=Rg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-xs(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,fb(r,a))}else a=In,a=Em(r,r===yr?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Jd(r,a)||(n=!0,fb(r,a));r=r.next}while(n);uv=!1}}function _k(){HT()}function HT(){Ig=Ky=!1;var t=0;Mu!==0&&(Rk()&&(t=Mu),Mu=0);for(var e=ko(),n=null,r=Rg;r!==null;){var i=r.next,a=qT(r,e);a===0?(r.next=null,n===null?Rg=i:n.next=i,i===null&&(Of=n)):(n=r,(t!==0||a&3)&&(Ig=!0)),r=i}u1(t)}function qT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-xs(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=GL(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=yr,n=In,n=Em(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&($n===2||$n===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&F2(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jd(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&F2(r),lx(n)){case 2:case 8:n=OS;break;case 32:n=fg;break;case 268435456:n=PS;break;default:n=fg}return r=WT.bind(null,t),n=sx(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&F2(r),t.callbackPriority=2,t.callbackNode=null,2}function WT(t,e){if(Wi!==0&&Wi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=In;return r=Em(t,t===yr?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(LT(t,r,e),qT(t,ko()),t.callbackNode!=null&&t.callbackNode===n?WT.bind(null,t):null)}function fb(t,e){if(Pm())return null;LT(t,e,!0)}function wk(){Lk(function(){Kn&6?sx(kS,_k):HT()})}function qx(){return Mu===0&&(Mu=FS()),Mu}function hb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pp(""+t)}function db(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function bk(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=hb((i[qa]||null).action),s=r.submitter;s&&(e=(e=s[qa]||null)?hb(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Am("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mu!==0){var l=s?db(i,s):new FormData(i);jy(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?db(i,s):new FormData(i),jy(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var fv=0;fv<Cy.length;fv++){var hv=Cy[fv],Ek=hv.toLowerCase(),Ak=hv[0].toUpperCase()+hv.slice(1);uo(Ek,"on"+Ak)}uo(s6,"onAnimationEnd");uo(o6,"onAnimationIteration");uo(l6,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(VD,"onTransitionRun");uo(zD,"onTransitionStart");uo(HD,"onTransitionCancel");uo(c6,"onTransitionEnd");wh("onMouseEnter",["mouseout","mouseover"]);wh("onMouseLeave",["mouseout","mouseover"]);wh("onPointerEnter",["pointerout","pointerover"]);wh("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function GT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Eg(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Eg(u)}i.currentTarget=null,a=l}}}}function xn(t,e){var n=e[_y];n===void 0&&(n=e[_y]=new Set);var r=t+"__bubble";n.has(r)||($T(e,t,2,!1),n.add(r))}function dv(t,e,n){var r=0;e&&(r|=4),$T(n,t,r,e)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Wx(t){if(!t[sp]){t[sp]=!0,VS.forEach(function(n){n!=="selectionchange"&&(Sk.has(n)||dv(n,!1,t),dv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sp]||(e[sp]=!0,dv("selectionchange",!1,e))}}function $T(t,e,n,r){switch(a8(e)){case 2:var i=Zk;break;case 8:i=Jk;break;default:i=Xx}n=i.bind(null,e,n,t),i=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pv(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=qf(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}XS(function(){var c=a,u=fx(n),d=[];e:{var g=u6.get(t);if(g!==void 0){var f=Am,x=t;switch(t){case"keypress":if(Mp(n)===0)break e;case"keydown":case"keyup":f=xD;break;case"focusin":x="focus",f=q2;break;case"focusout":x="blur",f=q2;break;case"beforeblur":case"afterblur":f=q2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=_4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=bD;break;case s6:case o6:case l6:f=uD;break;case c6:f=AD;break;case"scroll":case"scrollend":f=aD;break;case"wheel":f=TD;break;case"copy":case"cut":case"paste":f=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=b4;break;case"toggle":case"beforetoggle":f=ND}var v=(e&4)!==0,_=!v&&(t==="scroll"||t==="scrollend"),y=v?g!==null?g+"Capture":null:g;v=[];for(var T=c,C;T!==null;){var O=T;if(C=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||C===null||y===null||(O=yd(T,y),O!=null&&v.push(Sd(T,O,C))),_)break;T=T.return}0<v.length&&(g=new f(g,x,null,n,u),d.push({event:g,listeners:v}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",g&&n!==Ey&&(x=n.relatedTarget||n.fromElement)&&(qf(x)||x[jh]))break e;if((f||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,f?(x=n.relatedTarget||n.toElement,f=c,x=x?qf(x):null,x!==null&&(_=Qd(x),v=x.tag,x!==_||v!==5&&v!==27&&v!==6)&&(x=null)):(f=null,x=c),f!==x)){if(v=_4,O="onMouseLeave",y="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=b4,O="onPointerLeave",y="onPointerEnter",T="pointer"),_=f==null?g:k0(f),C=x==null?g:k0(x),g=new v(O,T+"leave",f,n,u),g.target=_,g.relatedTarget=C,O=null,qf(u)===c&&(v=new v(y,T+"enter",x,n,u),v.target=C,v.relatedTarget=_,O=v),_=O,f&&x)t:{for(v=f,y=x,T=0,C=v;C;C=Ef(C))T++;for(C=0,O=y;O;O=Ef(O))C++;for(;0<T-C;)v=Ef(v),T--;for(;0<C-T;)y=Ef(y),C--;for(;T--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ef(v),y=Ef(y)}v=null}else v=null;f!==null&&pb(d,g,f,v,!1),x!==null&&_!==null&&pb(d,_,x,v,!0)}}e:{if(g=c?k0(c):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var Y=T4;else if(S4(g))if(t6)Y=BD;else{Y=FD;var ae=PD}else f=g.nodeName,!f||f.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&ux(c.elementType)&&(Y=T4):Y=MD;if(Y&&(Y=Y(t,c))){e6(d,Y,n,u);break e}ae&&ae(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&by(g,"number",g.value)}switch(ae=c?k0(c):window,t){case"focusin":(S4(ae)||ae.contentEditable==="true")&&($f=ae,Sy=c,q0=null);break;case"focusout":q0=Sy=$f=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,L4(d,n,u);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":L4(d,n,u)}var L;if(px)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Gf?ZS(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(QS&&n.locale!=="ko"&&(Gf||I!=="onCompositionStart"?I==="onCompositionEnd"&&Gf&&(L=KS()):(bc=u,hx="value"in bc?bc.value:bc.textContent,Gf=!0)),ae=Lg(c,I),0<ae.length&&(I=new w4(I,t,null,n,u),d.push({event:I,listeners:ae}),L?I.data=L:(L=JS(n),L!==null&&(I.data=L)))),(L=ID?LD(t,n):DD(t,n))&&(I=Lg(c,"onBeforeInput"),0<I.length&&(ae=new w4("onBeforeInput","beforeinput",null,n,u),d.push({event:ae,listeners:I}),ae.data=L)),bk(d,t,c,n,u)}GT(d,e)})}function Sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=yd(t,n),i!=null&&r.unshift(Sd(t,i,a)),i=yd(t,e),i!=null&&r.push(Sd(t,i,a))),t.tag===3)return r;t=t.return}return[]}function Ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pb(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=yd(n,a),c!=null&&s.unshift(Sd(n,c,l))):i||(c=yd(n,a),c!=null&&s.push(Sd(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Tk=/\r\n?/g,Ck=/\u0000|\uFFFD/g;function gb(t){return(typeof t=="string"?t:""+t).replace(Tk,`
`).replace(Ck,"")}function YT(t,e){return e=gb(e),gb(t)===e}function Fm(){}function tr(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||bh(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&bh(t,""+r);break;case"className":J1(t,"class",r);break;case"tabIndex":J1(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":J1(t,n,r);break;case"style":YS(t,r,a);break;case"data":if(e!=="object"){J1(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Pp(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&tr(t,e,"name",i.name,i,null),tr(t,e,"formEncType",i.formEncType,i,null),tr(t,e,"formMethod",i.formMethod,i,null),tr(t,e,"formTarget",i.formTarget,i,null)):(tr(t,e,"encType",i.encType,i,null),tr(t,e,"method",i.method,i,null),tr(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Pp(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Fm);break;case"onScroll":r!=null&&xn("scroll",t);break;case"onScrollEnd":r!=null&&xn("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(et(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(et(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Pp(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":xn("beforetoggle",t),xn("toggle",t),Op(t,"popover",r);break;case"xlinkActuate":ol(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ol(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ol(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ol(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ol(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ol(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ol(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ol(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ol(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Op(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=rD.get(n)||n,Op(t,n,r))}}function Qy(t,e,n,r,i,a){switch(n){case"style":YS(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(et(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(et(60));t.innerHTML=n}}break;case"children":typeof r=="string"?bh(t,r):(typeof r=="number"||typeof r=="bigint")&&bh(t,""+r);break;case"onScroll":r!=null&&xn("scroll",t);break;case"onScrollEnd":r!=null&&xn("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Fm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[qa]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Op(t,n,r)}}}function Xi(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",t),xn("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(et(137,e));default:tr(t,e,a,s,n,null)}}i&&tr(t,e,"srcSet",n.srcSet,n,null),r&&tr(t,e,"src",n.src,n,null);return;case"input":xn("invalid",t);var o=a=s=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(u!=null)switch(r){case"name":i=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(et(137,e));break;default:tr(t,e,r,u,n,null)}}WS(t,a,o,l,c,s,i,!1),hg(t);return;case"select":xn("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:tr(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?rh(t,!!r,e,!1):n!=null&&rh(t,!!r,n,!0);return;case"textarea":xn("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(et(91));break;default:tr(t,e,s,o,n,null)}$S(t,r,i,a),hg(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:tr(t,e,l,r,n,null)}return;case"dialog":xn("beforetoggle",t),xn("toggle",t),xn("cancel",t),xn("close",t);break;case"iframe":case"object":xn("load",t);break;case"video":case"audio":for(r=0;r<Ad.length;r++)xn(Ad[r],t);break;case"image":xn("error",t),xn("load",t);break;case"details":xn("toggle",t);break;case"embed":case"source":case"link":xn("error",t),xn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(et(137,e));default:tr(t,e,c,r,n,null)}return;default:if(ux(e)){for(u in n)n.hasOwnProperty(u)&&(r=n[u],r!==void 0&&Qy(t,e,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&tr(t,e,o,r,n,null))}function Nk(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,c=null,u=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(f)||tr(t,e,f,null,r,d)}}for(var g in r){var f=r[g];if(d=n[g],r.hasOwnProperty(g)&&(f!=null||d!=null))switch(g){case"type":a=f;break;case"name":i=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(et(137,e));break;default:f!==d&&tr(t,e,g,f,r,d)}}wy(t,s,o,l,c,u,a,i);return;case"select":f=s=o=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(a)||tr(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&tr(t,e,i,a,r,l)}e=o,n=s,r=f,g!=null?rh(t,!!n,g,!1):!!r!=!!n&&(e!=null?rh(t,!!n,e,!0):rh(t,!!n,n?[]:"",!1));return;case"textarea":f=g=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:tr(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":g=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(et(91));break;default:i!==a&&tr(t,e,s,i,r,a)}GS(t,g,f);return;case"option":for(var x in n)if(g=n[x],n.hasOwnProperty(x)&&g!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:tr(t,e,x,null,r,g)}for(l in r)if(g=r[l],f=n[l],r.hasOwnProperty(l)&&g!==f&&(g!=null||f!=null))switch(l){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:tr(t,e,l,g,r,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)g=n[v],n.hasOwnProperty(v)&&g!=null&&!r.hasOwnProperty(v)&&tr(t,e,v,null,r,g);for(c in r)if(g=r[c],f=n[c],r.hasOwnProperty(c)&&g!==f&&(g!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(et(137,e));break;default:tr(t,e,c,g,r,f)}return;default:if(ux(e)){for(var _ in n)g=n[_],n.hasOwnProperty(_)&&g!==void 0&&!r.hasOwnProperty(_)&&Qy(t,e,_,void 0,r,g);for(u in r)g=r[u],f=n[u],!r.hasOwnProperty(u)||g===f||g===void 0&&f===void 0||Qy(t,e,u,g,r,f);return}}for(var y in n)g=n[y],n.hasOwnProperty(y)&&g!=null&&!r.hasOwnProperty(y)&&tr(t,e,y,null,r,g);for(d in r)g=r[d],f=n[d],!r.hasOwnProperty(d)||g===f||g==null&&f==null||tr(t,e,d,g,r,f)}var Zy=null,Jy=null;function Dg(t){return t.nodeType===9?t:t.ownerDocument}function mb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function e5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=null;function Rk(){var t=window.event;return t&&t.type==="popstate"?t===gv?!1:(gv=t,!0):(gv=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,vb=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof vb<"u"?function(t){return vb.resolve(null).then(t).catch(Dk)}:KT;function Dk(t){setTimeout(function(){throw t})}function ru(t){return t==="head"}function yb(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&td(s.documentElement),n&2&&td(s.body),n&4)for(n=s.head,td(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[t1]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(i===0){t.removeChild(a),Id(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Id(e)}function t5(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":t5(n),cx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function kk(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[t1])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ao(t.nextSibling),t===null)break}return null}function Ok(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ao(t.nextSibling),t===null))return null;return t}function n5(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Pk(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var r5=null;function xb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function QT(t,e,n){switch(e=Dg(n),t){case"html":if(t=e.documentElement,!t)throw Error(et(452));return t;case"head":if(t=e.head,!t)throw Error(et(453));return t;case"body":if(t=e.body,!t)throw Error(et(454));return t;default:throw Error(et(451))}}function td(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);cx(t)}var qs=new Map,_b=new Set;function kg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var jl=jn.d;jn.d={f:Fk,r:Mk,D:Bk,C:jk,L:Uk,m:Vk,X:Hk,S:zk,M:qk};function Fk(){var t=jl.f(),e=km();return t||e}function Mk(t){var e=Uh(t);e!==null&&e.tag===5&&e.type==="form"?q6(e):jl.r(t)}var Hh=typeof document>"u"?null:document;function ZT(t,e,n){var r=Hh;if(r&&typeof e=="string"&&e){var i=js(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),_b.has(i)||(_b.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Xi(e,"link",t),Li(e),r.head.appendChild(e)))}}function Bk(t){jl.D(t),ZT("dns-prefetch",t,null)}function jk(t,e){jl.C(t,e),ZT("preconnect",t,e)}function Uk(t,e,n){jl.L(t,e,n);var r=Hh;if(r&&t&&e){var i='link[rel="preload"][as="'+js(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+js(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+js(n.imageSizes)+'"]')):i+='[href="'+js(t)+'"]';var a=i;switch(e){case"style":a=Ih(t);break;case"script":a=qh(t)}qs.has(a)||(t=br({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qs.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(f1(a))||e==="script"&&r.querySelector(h1(a))||(e=r.createElement("link"),Xi(e,"link",t),Li(e),r.head.appendChild(e)))}}function Vk(t,e){jl.m(t,e);var n=Hh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+js(r)+'"][href="'+js(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=qh(t)}if(!qs.has(a)&&(t=br({rel:"modulepreload",href:t},e),qs.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(h1(a)))return}r=n.createElement("link"),Xi(r,"link",t),Li(r),n.head.appendChild(r)}}}function zk(t,e,n){jl.S(t,e,n);var r=Hh;if(r&&t){var i=nh(r).hoistableStyles,a=Ih(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(f1(a)))o.loading=5;else{t=br({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qs.get(a))&&Gx(t,n);var l=s=r.createElement("link");Li(l),Xi(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,qp(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function Hk(t,e){jl.X(t,e);var n=Hh;if(n&&t){var r=nh(n).hoistableScripts,i=qh(t),a=r.get(i);a||(a=n.querySelector(h1(i)),a||(t=br({src:t,async:!0},e),(e=qs.get(i))&&$x(t,e),a=n.createElement("script"),Li(a),Xi(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function qk(t,e){jl.M(t,e);var n=Hh;if(n&&t){var r=nh(n).hoistableScripts,i=qh(t),a=r.get(i);a||(a=n.querySelector(h1(i)),a||(t=br({src:t,async:!0,type:"module"},e),(e=qs.get(i))&&$x(t,e),a=n.createElement("script"),Li(a),Xi(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function wb(t,e,n,r){var i=(i=Rc.current)?kg(i):null;if(!i)throw Error(et(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ih(n.href),n=nh(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ih(n.href);var a=nh(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(f1(t)))&&!a._p&&(s.instance=a,s.state.loading=5),qs.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qs.set(t,n),a||Wk(i,t,n,s.state))),e&&r===null)throw Error(et(528,""));return s}if(e&&r!==null)throw Error(et(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qh(n),n=nh(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(et(444,t))}}function Ih(t){return'href="'+js(t)+'"'}function f1(t){return'link[rel="stylesheet"]['+t+"]"}function JT(t){return br({},t,{"data-precedence":t.precedence,precedence:null})}function Wk(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Xi(e,"link",n),Li(e),t.head.appendChild(e))}function qh(t){return'[src="'+js(t)+'"]'}function h1(t){return"script[async]"+t}function bb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+js(n.href)+'"]');if(r)return e.instance=r,Li(r),r;var i=br({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Li(r),Xi(r,"style",i),qp(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ih(n.href);var a=t.querySelector(f1(i));if(a)return e.state.loading|=4,e.instance=a,Li(a),a;r=JT(n),(i=qs.get(i))&&Gx(r,i),a=(t.ownerDocument||t).createElement("link"),Li(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Xi(a,"link",r),e.state.loading|=4,qp(a,n.precedence,t),e.instance=a;case"script":return a=qh(n.src),(i=t.querySelector(h1(a)))?(e.instance=i,Li(i),i):(r=n,(i=qs.get(a))&&(r=br({},n),$x(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Li(i),Xi(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(et(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,qp(r,n.precedence,t));return e.instance}function qp(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Gx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function $x(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Wp=null;function Eb(t,e,n){if(Wp===null){var r=new Map,i=Wp=new Map;i.set(n,r)}else i=Wp,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[t1]||a[ua]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ab(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Gk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function e8(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Td=null;function $k(){}function Yk(t,e,n){if(Td===null)throw Error(et(475));var r=Td;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ih(n.href),a=t.querySelector(f1(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Og.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,Li(a);return}a=t.ownerDocument||t,n=JT(n),(i=qs.get(i))&&Gx(n,i),a=a.createElement("link"),Li(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Xi(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Og.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Xk(){if(Td===null)throw Error(et(475));var t=Td;return t.stylesheets&&t.count===0&&i5(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&i5(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Og(){if(this.count--,this.count===0){if(this.stylesheets)i5(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pg=null;function i5(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pg=new Map,e.forEach(Kk,t),Pg=null,Og.call(t))}function Kk(t,e){if(!(e.state.loading&4)){var n=Pg.get(t);if(n)var r=n.get(null);else{n=new Map,Pg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Og.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Cd={$$typeof:pl,Provider:null,Consumer:null,_currentValue:Lu,_currentValue2:Lu,_threadCount:0};function Qk(t,e,n,r,i,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M2(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M2(0),this.hiddenUpdates=M2(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function t8(t,e,n,r,i,a,s,o,l,c,u,d){return t=new Qk(t,e,n,s,o,l,c,d),e=1,a===!0&&(e|=24),a=gs(3,null,null,e),t.current=a,a.stateNode=t,e=wx(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},Ex(a),t}function n8(t){return t?(t=Kf,t):Kf}function r8(t,e,n,r,i,a){i=n8(i),r.context===null?r.context=i:r.pendingContext=i,r=Ic(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Lc(t,r,e),n!==null&&(ws(n,t,e),$0(n,t,e))}function Sb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yx(t,e){Sb(t,e),(t=t.alternate)&&Sb(t,e)}function i8(t){if(t.tag===13){var e=Vh(t,67108864);e!==null&&ws(e,t,67108864),Yx(t,67108864)}}var Fg=!0;function Zk(t,e,n,r){var i=Xt.T;Xt.T=null;var a=jn.p;try{jn.p=2,Xx(t,e,n,r)}finally{jn.p=a,Xt.T=i}}function Jk(t,e,n,r){var i=Xt.T;Xt.T=null;var a=jn.p;try{jn.p=8,Xx(t,e,n,r)}finally{jn.p=a,Xt.T=i}}function Xx(t,e,n,r){if(Fg){var i=a5(r);if(i===null)pv(t,e,r,Mg,n),Tb(t,r);else if(t9(i,t,e,n,r))r.stopPropagation();else if(Tb(t,r),e&4&&-1<e9.indexOf(t)){for(;i!==null;){var a=Uh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=bu(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-xs(s);o.entanglements[1]|=l,s&=~l}Wo(a),!(Kn&6)&&(Cg=ko()+500,u1(0))}}break;case 13:o=Vh(a,2),o!==null&&ws(o,a,2),km(),Yx(a,2)}if(a=a5(r),a===null&&pv(t,e,r,Mg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else pv(t,e,r,null,n)}}function a5(t){return t=fx(t),Kx(t)}var Mg=null;function Kx(t){if(Mg=null,t=qf(t),t!==null){var e=Qd(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=RS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Mg=t,null}function a8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jL()){case kS:return 2;case OS:return 8;case fg:case UL:return 32;case PS:return 268435456;default:return 32}default:return 32}}var s5=!1,Oc=null,Pc=null,Fc=null,Nd=new Map,Rd=new Map,_c=[],e9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tb(t,e){switch(t){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Fc=null;break;case"pointerover":case"pointerout":Nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(e.pointerId)}}function T0(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Uh(e),e!==null&&i8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function t9(t,e,n,r,i){switch(e){case"focusin":return Oc=T0(Oc,t,e,n,r,i),!0;case"dragenter":return Pc=T0(Pc,t,e,n,r,i),!0;case"mouseover":return Fc=T0(Fc,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nd.set(a,T0(Nd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rd.set(a,T0(Rd.get(a)||null,t,e,n,r,i)),!0}return!1}function s8(t){var e=qf(t.target);if(e!==null){var n=Qd(e);if(n!==null){if(e=n.tag,e===13){if(e=RS(n),e!==null){t.blockedOn=e,YL(t.priority,function(){if(n.tag===13){var r=_s();r=ox(r);var i=Vh(n,r);i!==null&&ws(i,n,r),Yx(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=a5(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ey=r,n.target.dispatchEvent(r),Ey=null}else return e=Uh(n),e!==null&&i8(e),t.blockedOn=n,!1;e.shift()}return!0}function Cb(t,e,n){Gp(t)&&n.delete(e)}function n9(){s5=!1,Oc!==null&&Gp(Oc)&&(Oc=null),Pc!==null&&Gp(Pc)&&(Pc=null),Fc!==null&&Gp(Fc)&&(Fc=null),Nd.forEach(Cb),Rd.forEach(Cb)}function op(t,e){t.blockedOn===e&&(t.blockedOn=null,s5||(s5=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,n9)))}var lp=null;function Nb(t){lp!==t&&(lp=t,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,function(){lp===t&&(lp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Kx(r||n)===null)continue;break}var a=Uh(n);a!==null&&(t.splice(e,3),e-=3,jy(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Id(t){function e(l){return op(l,t)}Oc!==null&&op(Oc,t),Pc!==null&&op(Pc,t),Fc!==null&&op(Fc,t),Nd.forEach(e),Rd.forEach(e);for(var n=0;n<_c.length;n++){var r=_c[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)s8(n),n.blockedOn===null&&_c.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[qa]||null;if(typeof a=="function")s||Nb(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[qa]||null)o=s.formAction;else if(Kx(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Nb(n)}}}function Qx(t){this._internalRoot=t}Mm.prototype.render=Qx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));var n=e.current,r=_s();r8(n,r,t,e,null,null)};Mm.prototype.unmount=Qx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;r8(t.current,2,null,t,null,null),km(),e[jh]=null}};function Mm(t){this._internalRoot=t}Mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=US();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_c.length&&e!==0&&e<_c[n].priority;n++);_c.splice(n,0,t),n===0&&s8(t)}};var Rb=CS.version;if(Rb!=="19.1.1")throw Error(et(527,Rb,"19.1.1"));jn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=DL(e),t=t!==null?IS(t):null,t=t===null?null:t.stateNode,t};var r9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Xt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{Zd=cp.inject(r9),ys=cp}catch{}}wm.createRoot=function(t,e){if(!NS(t))throw Error(et(299));var n=!1,r="",i=tT,a=nT,s=rT,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=t8(t,1,!1,null,null,n,r,i,a,s,o,null),t[jh]=e.current,Wx(t),new Qx(e)};wm.hydrateRoot=function(t,e,n){if(!NS(t))throw Error(et(299));var r=!1,i="",a=tT,s=nT,o=rT,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=t8(t,1,!0,e,n??null,r,i,a,s,o,l,c),e.context=n8(null),n=e.current,r=_s(),r=ox(r),i=Ic(r),i.callback=null,Lc(n,i,r),n=r,e.current.lanes=n,e1(e,n),Wo(e),t[jh]=e.current,Wx(t),new Mm(e)};wm.version="19.1.1";function o8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o8)}catch(t){console.error(t)}}o8(),wS.exports=wm;var i9=wS.exports;const a9=fS(i9);/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ib="popstate";function s9(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return o5("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ld(i)}return l9(e,n,null,t)}function Or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o9(){return Math.random().toString(36).substring(2,10)}function Lb(t,e){return{usr:t.state,key:t.key,idx:e}}function o5(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wh(e):e,state:n,key:e&&e.key||r||o9()}}function Ld({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function l9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function d(){o="POP";let _=u(),y=_==null?null:_-c;c=_,l&&l({action:o,location:v.location,delta:y})}function g(_,y){o="PUSH";let T=o5(v.location,_,y);c=u()+1;let C=Lb(T,c),O=v.createHref(T);try{s.pushState(C,"",O)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(O)}a&&l&&l({action:o,location:v.location,delta:1})}function f(_,y){o="REPLACE";let T=o5(v.location,_,y);c=u();let C=Lb(T,c),O=v.createHref(T);s.replaceState(C,"",O),a&&l&&l({action:o,location:v.location,delta:0})}function x(_){return c9(_)}let v={get action(){return o},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ib,d),l=_,()=>{i.removeEventListener(Ib,d),l=null}},createHref(_){return e(i,_)},createURL:x,encodeLocation(_){let y=x(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:f,go(_){return s.go(_)}};return v}function c9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Or(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ld(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l8(t,e,n="/"){return u9(t,e,n,!1)}function u9(t,e,n,r){let i=typeof e=="string"?Wh(e):e,a=Ll(i.pathname||"/",n);if(a==null)return null;let s=c8(t);f9(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=b9(a);o=_9(s[l],c,r)}return o}function c8(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;Or(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let d=El([r,u.relativePath]),g=n.concat(u);s.children&&s.children.length>0&&(Or(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),c8(s.children,e,g,d,l)),!(s.path==null&&!s.index)&&e.push({path:d,score:y9(d,s.index),routesMeta:g})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of u8(s.path))a(s,o,!0,c)}),e}function u8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=u8(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function f9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h9=/^:[\w-]+$/,d9=3,p9=2,g9=1,m9=10,v9=-2,Db=t=>t==="*";function y9(t,e){let n=t.split("/"),r=n.length;return n.some(Db)&&(r+=v9),e&&(r+=p9),n.filter(i=>!Db(i)).reduce((i,a)=>i+(h9.test(a)?d9:a===""?g9:m9),r)}function x9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _9(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=Bg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),g=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Bg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:El([a,d.pathname]),pathnameBase:T9(El([a,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(a=El([a,d.pathnameBase]))}return s}function Bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=w9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},g)=>{if(u==="*"){let x=o[g]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const f=o[g];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function w9(t,e=!1,n=!0){Vo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function b9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wh(t):t;return{pathname:n?n.startsWith("/")?n:A9(n,e):e,search:C9(r),hash:N9(i)}}function A9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function f8(t){let e=S9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function h8(t,e,n,r=!1){let i;typeof t=="string"?i=Wh(t):(i={...t},Or(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}o=d>=0?e[d]:"/"}let l=E9(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var El=t=>t.join("/").replace(/\/\/+/g,"/"),T9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var d8=["POST","PUT","PATCH","DELETE"];new Set(d8);var I9=["GET",...d8];new Set(I9);var Gh=ge.createContext(null);Gh.displayName="DataRouter";var Bm=ge.createContext(null);Bm.displayName="DataRouterState";ge.createContext(!1);var p8=ge.createContext({isTransitioning:!1});p8.displayName="ViewTransition";var L9=ge.createContext(new Map);L9.displayName="Fetchers";var D9=ge.createContext(null);D9.displayName="Await";var Go=ge.createContext(null);Go.displayName="Navigation";var d1=ge.createContext(null);d1.displayName="Location";var Ul=ge.createContext({outlet:null,matches:[],isDataRoute:!1});Ul.displayName="Route";var Zx=ge.createContext(null);Zx.displayName="RouteError";function k9(t,{relative:e}={}){Or(p1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ge.useContext(Go),{hash:i,pathname:a,search:s}=g1(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:El([n,a])),r.createHref({pathname:o,search:s,hash:i})}function p1(){return ge.useContext(d1)!=null}function iu(){return Or(p1(),"useLocation() may be used only in the context of a <Router> component."),ge.useContext(d1).location}var g8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m8(t){ge.useContext(Go).static||ge.useLayoutEffect(t)}function jm(){let{isDataRoute:t}=ge.useContext(Ul);return t?G9():O9()}function O9(){Or(p1(),"useNavigate() may be used only in the context of a <Router> component.");let t=ge.useContext(Gh),{basename:e,navigator:n}=ge.useContext(Go),{matches:r}=ge.useContext(Ul),{pathname:i}=iu(),a=JSON.stringify(f8(r)),s=ge.useRef(!1);return m8(()=>{s.current=!0}),ge.useCallback((l,c={})=>{if(Vo(s.current,g8),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=h8(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:El([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,a,i,t])}ge.createContext(null);function g1(t,{relative:e}={}){let{matches:n}=ge.useContext(Ul),{pathname:r}=iu(),i=JSON.stringify(f8(n));return ge.useMemo(()=>h8(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function P9(t,e){return v8(t,e)}function v8(t,e,n,r,i){var T;Or(p1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ge.useContext(Go),{matches:s}=ge.useContext(Ul),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let C=d&&d.path||"";y8(c,!d||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=iu(),f;if(e){let C=typeof e=="string"?Wh(e):e;Or(u==="/"||((T=C.pathname)==null?void 0:T.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${C.pathname}" was given in the \`location\` prop.`),f=C}else f=g;let x=f.pathname||"/",v=x;if(u!=="/"){let C=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=l8(t,{pathname:v});Vo(d||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Vo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=U9(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:El([u,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:El([u,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return e&&y?ge.createElement(d1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function F9(){let t=W9(),e=R9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=ge.createElement(ge.Fragment,null,ge.createElement("p",null," Hey developer "),ge.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ge.createElement("code",{style:a},"ErrorBoundary")," or"," ",ge.createElement("code",{style:a},"errorElement")," prop on your route.")),ge.createElement(ge.Fragment,null,ge.createElement("h2",null,"Unexpected Application Error!"),ge.createElement("h3",{style:{fontStyle:"italic"}},e),n?ge.createElement("pre",{style:i},n):null,s)}var M9=ge.createElement(F9,null),B9=class extends ge.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?ge.createElement(Ul.Provider,{value:this.props.routeContext},ge.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j9({routeContext:t,match:e,children:n}){let r=ge.useContext(Gh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ge.createElement(Ul.Provider,{value:t},n)}function U9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Or(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:g}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!g||g[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let g,f=!1,x=null,v=null;n&&(g=s&&u.route.id?s[u.route.id]:void 0,x=u.route.errorElement||M9,o&&(l<0&&d===0?(y8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===d&&(f=!0,v=u.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,d+1)),y=()=>{let T;return g?T=x:f?T=v:u.route.Component?T=ge.createElement(u.route.Component,null):u.route.element?T=u.route.element:T=c,ge.createElement(j9,{match:u,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:T})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?ge.createElement(B9,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):y()},null)}function Jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V9(t){let e=ge.useContext(Gh);return Or(e,Jx(t)),e}function z9(t){let e=ge.useContext(Bm);return Or(e,Jx(t)),e}function H9(t){let e=ge.useContext(Ul);return Or(e,Jx(t)),e}function e_(t){let e=H9(t),n=e.matches[e.matches.length-1];return Or(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q9(){return e_("useRouteId")}function W9(){var r;let t=ge.useContext(Zx),e=z9("useRouteError"),n=e_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function G9(){let{router:t}=V9("useNavigate"),e=e_("useNavigate"),n=ge.useRef(!1);return m8(()=>{n.current=!0}),ge.useCallback(async(i,a={})=>{Vo(n.current,g8),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var kb={};function y8(t,e,n){!e&&!kb[t]&&(kb[t]=!0,Vo(!1,n))}ge.memo($9);function $9({routes:t,future:e,state:n,unstable_onError:r}){return v8(t,void 0,n,r,e)}function P0(t){Or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Or(!p1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=ge.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Wh(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:g="default"}=n,f=ge.useMemo(()=>{let x=Ll(l,s);return x==null?null:{location:{pathname:x,search:c,hash:u,state:d,key:g},navigationType:r}},[s,l,c,u,d,g,r]);return Vo(f!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:ge.createElement(Go.Provider,{value:o},ge.createElement(d1.Provider,{children:e,value:f}))}function X9({children:t,location:e}){return P9(l5(t),e)}function l5(t,e=[]){let n=[];return ge.Children.forEach(t,(r,i)=>{if(!ge.isValidElement(r))return;let a=[...e,i];if(r.type===ge.Fragment){n.push.apply(n,l5(r.props.children,a));return}Or(r.type===P0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Or(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=l5(r.props.children,a)),n.push(s)}),n}var $p="get",Yp="application/x-www-form-urlencoded";function Um(t){return t!=null&&typeof t.tagName=="string"}function K9(t){return Um(t)&&t.tagName.toLowerCase()==="button"}function Q9(t){return Um(t)&&t.tagName.toLowerCase()==="form"}function Z9(t){return Um(t)&&t.tagName.toLowerCase()==="input"}function J9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eO(t,e){return t.button===0&&(!e||e==="_self")&&!J9(t)}var up=null;function tO(){if(up===null)try{new FormData(document.createElement("form"),0),up=!1}catch{up=!0}return up}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vv(t){return t!=null&&!nO.has(t)?(Vo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):t}function rO(t,e){let n,r,i,a,s;if(Q9(t)){let o=t.getAttribute("action");r=o?Ll(o,e):null,n=t.getAttribute("method")||$p,i=vv(t.getAttribute("enctype"))||Yp,a=new FormData(t)}else if(K9(t)||Z9(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Ll(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||$p,i=vv(t.getAttribute("formenctype"))||vv(o.getAttribute("enctype"))||Yp,a=new FormData(o,t),!tO()){let{name:c,type:u,value:d}=t;if(u==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,d)}}else{if(Um(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$p,r=null,i=Yp,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ll(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function aO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oO(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await aO(a,n);return s.links?s.links():[]}return[]}));return fO(r.flat(1).filter(sO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ob(t,e,n,r,i,a){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function lO(t,e,{includeHydrateFallback:n}={}){return cO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function cO(t){return[...new Set(t)]}function uO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(uO(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function x8(){let t=ge.useContext(Gh);return t_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hO(){let t=ge.useContext(Bm);return t_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var n_=ge.createContext(void 0);n_.displayName="FrameworkContext";function _8(){let t=ge.useContext(n_);return t_(t,"You must render this element inside a <HydratedRouter> element"),t}function dO(t,e){let n=ge.useContext(n_),[r,i]=ge.useState(!1),[a,s]=ge.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,g=ge.useRef(null);ge.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let v=y=>{y.forEach(T=>{s(T.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),ge.useEffect(()=>{if(r){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:C0(o,f),onBlur:C0(l,x),onMouseEnter:C0(c,f),onMouseLeave:C0(u,x),onTouchStart:C0(d,f)}]:[!1,g,{}]}function C0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pO({page:t,...e}){let{router:n}=x8(),r=ge.useMemo(()=>l8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?ge.createElement(mO,{page:t,matches:r,...e}):null}function gO(t){let{manifest:e,routeModules:n}=_8(),[r,i]=ge.useState([]);return ge.useEffect(()=>{let a=!1;return oO(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function mO({page:t,matches:e,...n}){let r=iu(),{manifest:i,routeModules:a}=_8(),{basename:s}=x8(),{loaderData:o,matches:l}=hO(),c=ge.useMemo(()=>Ob(t,e,l,i,r,"data"),[t,e,l,i,r]),u=ge.useMemo(()=>Ob(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=ge.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(y=>{var C;let T=i.routes[y.route.id];!T||!T.hasLoader||(!c.some(O=>O.route.id===y.route.id)&&y.route.id in o&&((C=a[y.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?v=!0:x.add(y.route.id))}),x.size===0)return[];let _=iO(t,s,"data");return v&&x.size>0&&_.searchParams.set("_routes",e.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[_.pathname+_.search]},[s,o,r,i,c,e,t,a]),g=ge.useMemo(()=>lO(u,i),[u,i]),f=gO(u);return ge.createElement(ge.Fragment,null,d.map(x=>ge.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>ge.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),f.map(({key:x,link:v})=>ge.createElement("link",{key:x,nonce:n.nonce,...v})))}function vO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w8&&(window.__reactRouterVersion="7.9.2")}catch{}function yO({basename:t,children:e,window:n}){let r=ge.useRef();r.current==null&&(r.current=s9({window:n,v5Compat:!0}));let i=r.current,[a,s]=ge.useState({action:i.action,location:i.location}),o=ge.useCallback(l=>{ge.startTransition(()=>s(l))},[s]);return ge.useLayoutEffect(()=>i.listen(o),[i,o]),ge.createElement(Y9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var b8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r_=ge.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...g},f){let{basename:x}=ge.useContext(Go),v=typeof c=="string"&&b8.test(c),_,y=!1;if(typeof c=="string"&&v&&(_=c,w8))try{let A=new URL(window.location.href),F=c.startsWith("//")?new URL(A.protocol+c):new URL(c),S=Ll(F.pathname,x);F.origin===A.origin&&S!=null?c=S+F.search+F.hash:y=!0}catch{Vo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=k9(c,{relative:i}),[C,O,Y]=dO(r,g),ae=wO(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function L(A){e&&e(A),A.defaultPrevented||ae(A)}let I=ge.createElement("a",{...g,...Y,href:_||T,onClick:y||a?e:L,ref:vO(f,O),target:l,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?ge.createElement(ge.Fragment,null,I,ge.createElement(pO,{page:T})):I});r_.displayName="Link";var c5=ge.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},u){let d=g1(s,{relative:c.relative}),g=iu(),f=ge.useContext(Bm),{navigator:x,basename:v}=ge.useContext(Go),_=f!=null&&TO(d)&&o===!0,y=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,T=g.pathname,C=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&v&&(C=Ll(C,v)||C);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let Y=T===y||!i&&T.startsWith(y)&&T.charAt(O)==="/",ae=C!=null&&(C===y||!i&&C.startsWith(y)&&C.charAt(y.length)==="/"),L={isActive:Y,isPending:ae,isTransitioning:_},I=Y?e:void 0,A;typeof r=="function"?A=r(L):A=[r,Y?"active":null,ae?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(L):a;return ge.createElement(r_,{...c,"aria-current":I,className:A,ref:u,style:F,to:s,viewTransition:o},typeof l=="function"?l(L):l)});c5.displayName="NavLink";var xO=ge.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=$p,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...g},f)=>{let x=AO(),v=SO(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&b8.test(o),T=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,Y=(O==null?void 0:O.getAttribute("formmethod"))||s;x(O||C.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:d})};return ge.createElement("form",{ref:f,method:_,action:v,onSubmit:r?l:T,...g,"data-discover":!y&&t==="render"?"true":void 0})});xO.displayName="Form";function _O(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E8(t){let e=ge.useContext(Gh);return Or(e,_O(t)),e}function wO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=jm(),l=iu(),c=g1(t,{relative:a});return ge.useCallback(u=>{if(eO(u,e)){u.preventDefault();let d=n!==void 0?n:Ld(l)===Ld(c);o(t,{replace:d,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,n,r,e,t,i,a,s])}var bO=0,EO=()=>`__${String(++bO)}__`;function AO(){let{router:t}=E8("useSubmit"),{basename:e}=ge.useContext(Go),n=q9();return ge.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=rO(r,e);if(i.navigate===!1){let u=i.fetcherKey||EO();await t.fetch(u,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function SO(t,{relative:e}={}){let{basename:n}=ge.useContext(Go),r=ge.useContext(Ul);Or(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...g1(t||".",{relative:e})},s=iu();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();a.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:El([n,a.pathname])),Ld(a)}function TO(t,{relative:e}={}){let n=ge.useContext(p8);Or(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=E8("useViewTransitionState"),i=g1(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ll(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ll(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bg(i.pathname,s)!=null||Bg(i.pathname,a)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Pb=t=>{const e=NO(t);return e.charAt(0).toUpperCase()+e.slice(1)},A8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),RO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ge.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>ge.createElement("svg",{ref:l,...IO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A8("lucide",i),...!a&&!RO(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>ge.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=(t,e)=>{const n=ge.forwardRef(({className:r,...i},a)=>ge.createElement(LO,{ref:a,iconNode:e,className:A8(`lucide-${CO(Pb(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Pb(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kO=S8("menu",DO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PO=S8("x",OO),FO=()=>{};var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},C8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let g=(o&15)<<2|c>>6,f=c&63;l||(f=64,s||(g=64)),r.push(n[u],n[d],n[g],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new BO;const g=a<<2|o>>4;if(r.push(g),c!==64){const f=o<<4&240|c>>2;if(r.push(f),d!==64){const x=c<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jO=function(t){const e=T8(t);return C8.encodeByteArray(e,!0)},jg=function(t){return jO(t).replace(/\./g,"")},UO=function(t){try{return C8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=()=>VO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof Fb>"u")return;const t=Fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UO(t[1]);return e&&JSON.parse(e)},i_=()=>{try{return FO()||zO()||HO()||qO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WO=t=>{var e,n;return(n=(e=i_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},GO=t=>{const e=WO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N8=()=>{var t;return(t=i_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jg(JSON.stringify(n)),jg(JSON.stringify(s)),""].join(".")}const nd={};function KO(){const t={prod:[],emulator:[]};for(const e of Object.keys(nd))nd[e]?t.emulator.push(e):t.prod.push(e);return t}function QO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mb=!1;function ZO(t,e){if(typeof window>"u"||typeof document>"u"||!a_(window.location.host)||nd[t]===e||nd[t]||Mb)return;nd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=KO().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,f){g.setAttribute("width","24"),g.setAttribute("id",f),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Mb=!0,s()},g}function u(g,f){g.setAttribute("id",f),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=QO(r),f=n("text"),x=document.getElementById(f)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),y=n("preprendIcon"),T=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;o(C),u(_,v);const O=c();l(T,y),C.append(T,x,_,O),document.body.appendChild(C)}a?(x.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eP(){var e;const t=(e=i_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nP(){return!eP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R8(){try{return typeof indexedDB=="object"}catch{return!1}}function I8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function rP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FirebaseError";class au extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iP,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vm.prototype.create)}}class Vm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?aP(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new au(i,o,r)}}function aP(t,e){return t.replace(sP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sP=/\{\$([^}]+)}/g;function Dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(Bb(a)&&Bb(s)){if(!Dd(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1e3,lP=2,cP=4*60*60*1e3,uP=.5;function jb(t,e=oP,n=lP){const r=e*Math.pow(n,t),i=Math.round(uP*r*(Math.random()-.5)*2);return Math.min(cP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return t&&t._delegate?t._delegate:t}class Dl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $O;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dP(e))try{this.getOrInitializeService({instanceIdentifier:Su})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Su){return this.instances.has(e)}getOptions(e=Su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Su){return this.component?this.component.multipleInstances?e:Su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hP(t){return t===Su?void 0:t}function dP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rn||(Rn={}));const gP={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},mP=Rn.INFO,vP={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},yP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=mP,this._logHandler=yP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const xP=(t,e)=>e.some(n=>t instanceof n);let Ub,Vb;function _P(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L8=new WeakMap,u5=new WeakMap,D8=new WeakMap,yv=new WeakMap,o_=new WeakMap;function bP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Mc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&L8.set(n,t)}).catch(()=>{}),o_.set(e,t),e}function EP(t){if(u5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});u5.set(t,e)}let f5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){f5=t(f5)}function SP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xv(this),e,...n);return D8.set(r,e.sort?e.sort():[e]),Mc(r)}:wP().includes(t)?function(...e){return t.apply(xv(this),e),Mc(L8.get(this))}:function(...e){return Mc(t.apply(xv(this),e))}}function TP(t){return typeof t=="function"?SP(t):(t instanceof IDBTransaction&&EP(t),xP(t,_P())?new Proxy(t,f5):t)}function Mc(t){if(t instanceof IDBRequest)return bP(t);if(yv.has(t))return yv.get(t);const e=TP(t);return e!==t&&(yv.set(t,e),o_.set(e,t)),e}const xv=t=>o_.get(t);function k8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Mc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Mc(s.result),l.oldVersion,l.newVersion,Mc(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const CP=["get","getKey","getAll","getAllKeys","count"],NP=["put","add","delete","clear"],_v=new Map;function zb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CP.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return _v.set(e,a),a}AP(t=>({...t,get:(e,n,r)=>zb(e,n)||t.get(e,n,r),has:(e,n)=>!!zb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h5="@firebase/app",Hb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new s_("@firebase/app"),LP="@firebase/app-compat",DP="@firebase/analytics-compat",kP="@firebase/analytics",OP="@firebase/app-check-compat",PP="@firebase/app-check",FP="@firebase/auth",MP="@firebase/auth-compat",BP="@firebase/database",jP="@firebase/data-connect",UP="@firebase/database-compat",VP="@firebase/functions",zP="@firebase/functions-compat",HP="@firebase/installations",qP="@firebase/installations-compat",WP="@firebase/messaging",GP="@firebase/messaging-compat",$P="@firebase/performance",YP="@firebase/performance-compat",XP="@firebase/remote-config",KP="@firebase/remote-config-compat",QP="@firebase/storage",ZP="@firebase/storage-compat",JP="@firebase/firestore",eF="@firebase/ai",tF="@firebase/firestore-compat",nF="firebase",rF="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="[DEFAULT]",iF={[h5]:"fire-core",[LP]:"fire-core-compat",[kP]:"fire-analytics",[DP]:"fire-analytics-compat",[PP]:"fire-app-check",[OP]:"fire-app-check-compat",[FP]:"fire-auth",[MP]:"fire-auth-compat",[BP]:"fire-rtdb",[jP]:"fire-data-connect",[UP]:"fire-rtdb-compat",[VP]:"fire-fn",[zP]:"fire-fn-compat",[HP]:"fire-iid",[qP]:"fire-iid-compat",[WP]:"fire-fcm",[GP]:"fire-fcm-compat",[$P]:"fire-perf",[YP]:"fire-perf-compat",[XP]:"fire-rc",[KP]:"fire-rc-compat",[QP]:"fire-gcs",[ZP]:"fire-gcs-compat",[JP]:"fire-fst",[tF]:"fire-fst-compat",[eF]:"fire-vertex","fire-js":"fire-js",[nF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=new Map,aF=new Map,p5=new Map;function qb(t,e){try{t.container.addComponent(e)}catch(n){kl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wc(t){const e=t.name;if(p5.has(e))return kl.debug(`There were multiple attempts to register component ${e}.`),!1;p5.set(e,t);for(const n of Ug.values())qb(n,t);for(const n of aF.values())qb(n,t);return!0}function m1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sF(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bc=new Vm("app","Firebase",oF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=rF;function O8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:d5,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Bc.create("bad-app-name",{appName:String(i)});if(n||(n=N8()),!n)throw Bc.create("no-options");const a=Ug.get(i);if(a){if(Dd(n,a.options)&&Dd(r,a.config))return a;throw Bc.create("duplicate-app",{appName:i})}const s=new pP(i);for(const l of p5.values())s.addComponent(l);const o=new lF(n,r,s);return Ug.set(i,o),o}function P8(t=d5){const e=Ug.get(t);if(!e&&t===d5&&N8())return O8();if(!e)throw Bc.create("no-app",{appName:t});return e}function Po(t,e,n){let r=iF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kl.warn(s.join(" "));return}Wc(new Dl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-heartbeat-database",fF=1,kd="firebase-heartbeat-store";let wv=null;function F8(){return wv||(wv=k8(uF,fF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bc.create("idb-open",{originalErrorMessage:t.message})})),wv}async function hF(t){try{const n=(await F8()).transaction(kd),r=await n.objectStore(kd).get(M8(t));return await n.done,r}catch(e){if(e instanceof au)kl.warn(e.message);else{const n=Bc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kl.warn(n.message)}}}async function Wb(t,e){try{const r=(await F8()).transaction(kd,"readwrite");await r.objectStore(kd).put(e,M8(t)),await r.done}catch(n){if(n instanceof au)kl.warn(n.message);else{const r=Bc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kl.warn(r.message)}}}function M8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=1024,pF=30;class gF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pF){const s=yF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){kl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gb(),{heartbeatsToSend:r,unsentEntries:i}=mF(this._heartbeatsCache.heartbeats),a=jg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return kl.warn(n),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function mF(t,e=dF){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),$b(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$b(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R8()?I8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $b(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}function yF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){Wc(new Dl("platform-logger",e=>new RP(e),"PRIVATE")),Wc(new Dl("heartbeat",e=>new gF(e),"PRIVATE")),Po(h5,Hb,t),Po(h5,Hb,"esm2020"),Po("fire-js","")}xF("");var _F="firebase",wF="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(_F,wF,"app");var Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jc,B8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,I){function A(){}A.prototype=I.prototype,L.F=I.prototype,L.prototype=new A,L.prototype.constructor=L,L.D=function(F,S,D){for(var P=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)P[ue-2]=arguments[ue];return I.prototype[S].apply(F,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,I,A){A||(A=0);const F=Array(16);if(typeof I=="string")for(var S=0;S<16;++S)F[S]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(S=0;S<16;++S)F[S]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=L.g[0],A=L.g[1],S=L.g[2];let D=L.g[3],P;P=I+(D^A&(S^D))+F[0]+3614090360&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(S^I&(A^S))+F[1]+3905402710&4294967295,D=I+(P<<12&4294967295|P>>>20),P=S+(A^D&(I^A))+F[2]+606105819&4294967295,S=D+(P<<17&4294967295|P>>>15),P=A+(I^S&(D^I))+F[3]+3250441966&4294967295,A=S+(P<<22&4294967295|P>>>10),P=I+(D^A&(S^D))+F[4]+4118548399&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(S^I&(A^S))+F[5]+1200080426&4294967295,D=I+(P<<12&4294967295|P>>>20),P=S+(A^D&(I^A))+F[6]+2821735955&4294967295,S=D+(P<<17&4294967295|P>>>15),P=A+(I^S&(D^I))+F[7]+4249261313&4294967295,A=S+(P<<22&4294967295|P>>>10),P=I+(D^A&(S^D))+F[8]+1770035416&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(S^I&(A^S))+F[9]+2336552879&4294967295,D=I+(P<<12&4294967295|P>>>20),P=S+(A^D&(I^A))+F[10]+4294925233&4294967295,S=D+(P<<17&4294967295|P>>>15),P=A+(I^S&(D^I))+F[11]+2304563134&4294967295,A=S+(P<<22&4294967295|P>>>10),P=I+(D^A&(S^D))+F[12]+1804603682&4294967295,I=A+(P<<7&4294967295|P>>>25),P=D+(S^I&(A^S))+F[13]+4254626195&4294967295,D=I+(P<<12&4294967295|P>>>20),P=S+(A^D&(I^A))+F[14]+2792965006&4294967295,S=D+(P<<17&4294967295|P>>>15),P=A+(I^S&(D^I))+F[15]+1236535329&4294967295,A=S+(P<<22&4294967295|P>>>10),P=I+(S^D&(A^S))+F[1]+4129170786&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^S&(I^A))+F[6]+3225465664&4294967295,D=I+(P<<9&4294967295|P>>>23),P=S+(I^A&(D^I))+F[11]+643717713&4294967295,S=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(S^D))+F[0]+3921069994&4294967295,A=S+(P<<20&4294967295|P>>>12),P=I+(S^D&(A^S))+F[5]+3593408605&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^S&(I^A))+F[10]+38016083&4294967295,D=I+(P<<9&4294967295|P>>>23),P=S+(I^A&(D^I))+F[15]+3634488961&4294967295,S=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(S^D))+F[4]+3889429448&4294967295,A=S+(P<<20&4294967295|P>>>12),P=I+(S^D&(A^S))+F[9]+568446438&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^S&(I^A))+F[14]+3275163606&4294967295,D=I+(P<<9&4294967295|P>>>23),P=S+(I^A&(D^I))+F[3]+4107603335&4294967295,S=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(S^D))+F[8]+1163531501&4294967295,A=S+(P<<20&4294967295|P>>>12),P=I+(S^D&(A^S))+F[13]+2850285829&4294967295,I=A+(P<<5&4294967295|P>>>27),P=D+(A^S&(I^A))+F[2]+4243563512&4294967295,D=I+(P<<9&4294967295|P>>>23),P=S+(I^A&(D^I))+F[7]+1735328473&4294967295,S=D+(P<<14&4294967295|P>>>18),P=A+(D^I&(S^D))+F[12]+2368359562&4294967295,A=S+(P<<20&4294967295|P>>>12),P=I+(A^S^D)+F[5]+4294588738&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^S)+F[8]+2272392833&4294967295,D=I+(P<<11&4294967295|P>>>21),P=S+(D^I^A)+F[11]+1839030562&4294967295,S=D+(P<<16&4294967295|P>>>16),P=A+(S^D^I)+F[14]+4259657740&4294967295,A=S+(P<<23&4294967295|P>>>9),P=I+(A^S^D)+F[1]+2763975236&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^S)+F[4]+1272893353&4294967295,D=I+(P<<11&4294967295|P>>>21),P=S+(D^I^A)+F[7]+4139469664&4294967295,S=D+(P<<16&4294967295|P>>>16),P=A+(S^D^I)+F[10]+3200236656&4294967295,A=S+(P<<23&4294967295|P>>>9),P=I+(A^S^D)+F[13]+681279174&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^S)+F[0]+3936430074&4294967295,D=I+(P<<11&4294967295|P>>>21),P=S+(D^I^A)+F[3]+3572445317&4294967295,S=D+(P<<16&4294967295|P>>>16),P=A+(S^D^I)+F[6]+76029189&4294967295,A=S+(P<<23&4294967295|P>>>9),P=I+(A^S^D)+F[9]+3654602809&4294967295,I=A+(P<<4&4294967295|P>>>28),P=D+(I^A^S)+F[12]+3873151461&4294967295,D=I+(P<<11&4294967295|P>>>21),P=S+(D^I^A)+F[15]+530742520&4294967295,S=D+(P<<16&4294967295|P>>>16),P=A+(S^D^I)+F[2]+3299628645&4294967295,A=S+(P<<23&4294967295|P>>>9),P=I+(S^(A|~D))+F[0]+4096336452&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~S))+F[7]+1126891415&4294967295,D=I+(P<<10&4294967295|P>>>22),P=S+(I^(D|~A))+F[14]+2878612391&4294967295,S=D+(P<<15&4294967295|P>>>17),P=A+(D^(S|~I))+F[5]+4237533241&4294967295,A=S+(P<<21&4294967295|P>>>11),P=I+(S^(A|~D))+F[12]+1700485571&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~S))+F[3]+2399980690&4294967295,D=I+(P<<10&4294967295|P>>>22),P=S+(I^(D|~A))+F[10]+4293915773&4294967295,S=D+(P<<15&4294967295|P>>>17),P=A+(D^(S|~I))+F[1]+2240044497&4294967295,A=S+(P<<21&4294967295|P>>>11),P=I+(S^(A|~D))+F[8]+1873313359&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~S))+F[15]+4264355552&4294967295,D=I+(P<<10&4294967295|P>>>22),P=S+(I^(D|~A))+F[6]+2734768916&4294967295,S=D+(P<<15&4294967295|P>>>17),P=A+(D^(S|~I))+F[13]+1309151649&4294967295,A=S+(P<<21&4294967295|P>>>11),P=I+(S^(A|~D))+F[4]+4149444226&4294967295,I=A+(P<<6&4294967295|P>>>26),P=D+(A^(I|~S))+F[11]+3174756917&4294967295,D=I+(P<<10&4294967295|P>>>22),P=S+(I^(D|~A))+F[2]+718787259&4294967295,S=D+(P<<15&4294967295|P>>>17),P=A+(D^(S|~I))+F[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(S+(P<<21&4294967295|P>>>11))&4294967295,L.g[2]=L.g[2]+S&4294967295,L.g[3]=L.g[3]+D&4294967295}r.prototype.v=function(L,I){I===void 0&&(I=L.length);const A=I-this.blockSize,F=this.C;let S=this.h,D=0;for(;D<I;){if(S==0)for(;D<=A;)i(this,L,D),D+=this.blockSize;if(typeof L=="string"){for(;D<I;)if(F[S++]=L.charCodeAt(D++),S==this.blockSize){i(this,F),S=0;break}}else for(;D<I;)if(F[S++]=L[D++],S==this.blockSize){i(this,F),S=0;break}}this.h=S,this.o+=I},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;I=this.o*8;for(var A=L.length-8;A<L.length;++A)L[A]=I&255,I/=256;for(this.v(L),L=Array(16),I=0,A=0;A<4;++A)for(let F=0;F<32;F+=8)L[I++]=this.g[A]>>>F&255;return L};function a(L,I){var A=o;return Object.prototype.hasOwnProperty.call(A,L)?A[L]:A[L]=I(L)}function s(L,I){this.h=I;const A=[];let F=!0;for(let S=L.length-1;S>=0;S--){const D=L[S]|0;F&&D==I||(A[S]=D,F=!1)}this.g=A}var o={};function l(L){return-128<=L&&L<128?a(L,function(I){return new s([I|0],I<0?-1:0)}):new s([L|0],L<0?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return d;if(L<0)return _(c(-L));const I=[];let A=1;for(let F=0;L>=A;F++)I[F]=L/A|0,A*=4294967296;return new s(I,0)}function u(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return _(u(L.substring(1),I));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(I,8));let F=d;for(let D=0;D<L.length;D+=8){var S=Math.min(8,L.length-D);const P=parseInt(L.substring(D,D+S),I);S<8?(S=c(Math.pow(I,S)),F=F.j(S).add(c(P))):(F=F.j(A),F=F.add(c(P)))}return F}var d=l(0),g=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-_(this).m();let L=0,I=1;for(let A=0;A<this.g.length;A++){const F=this.i(A);L+=(F>=0?F:4294967296+F)*I,I*=4294967296}return L},t.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(x(this))return"0";if(v(this))return"-"+_(this).toString(L);const I=c(Math.pow(L,6));var A=this;let F="";for(;;){const S=O(A,I).g;A=y(A,S.j(I));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(L);if(A=S,x(A))return D+F;for(;D.length<6;)D="0"+D;F=D+F}},t.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function x(L){if(L.h!=0)return!1;for(let I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function v(L){return L.h==-1}t.l=function(L){return L=y(this,L),v(L)?-1:x(L)?0:1};function _(L){const I=L.g.length,A=[];for(let F=0;F<I;F++)A[F]=~L.g[F];return new s(A,~L.h).add(g)}t.abs=function(){return v(this)?_(this):this},t.add=function(L){const I=Math.max(this.g.length,L.g.length),A=[];let F=0;for(let S=0;S<=I;S++){let D=F+(this.i(S)&65535)+(L.i(S)&65535),P=(D>>>16)+(this.i(S)>>>16)+(L.i(S)>>>16);F=P>>>16,D&=65535,P&=65535,A[S]=P<<16|D}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(L,I){return L.add(_(I))}t.j=function(L){if(x(this)||x(L))return d;if(v(this))return v(L)?_(this).j(_(L)):_(_(this).j(L));if(v(L))return _(this.j(_(L)));if(this.l(f)<0&&L.l(f)<0)return c(this.m()*L.m());const I=this.g.length+L.g.length,A=[];for(var F=0;F<2*I;F++)A[F]=0;for(F=0;F<this.g.length;F++)for(let S=0;S<L.g.length;S++){const D=this.i(F)>>>16,P=this.i(F)&65535,ue=L.i(S)>>>16,me=L.i(S)&65535;A[2*F+2*S]+=P*me,T(A,2*F+2*S),A[2*F+2*S+1]+=D*me,T(A,2*F+2*S+1),A[2*F+2*S+1]+=P*ue,T(A,2*F+2*S+1),A[2*F+2*S+2]+=D*ue,T(A,2*F+2*S+2)}for(L=0;L<I;L++)A[L]=A[2*L+1]<<16|A[2*L];for(L=I;L<2*I;L++)A[L]=0;return new s(A,0)};function T(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function C(L,I){this.g=L,this.h=I}function O(L,I){if(x(I))throw Error("division by zero");if(x(L))return new C(d,d);if(v(L))return I=O(_(L),I),new C(_(I.g),_(I.h));if(v(I))return I=O(L,_(I)),new C(_(I.g),I.h);if(L.g.length>30){if(v(L)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var A=g,F=I;F.l(L)<=0;)A=Y(A),F=Y(F);var S=ae(A,1),D=ae(F,1);for(F=ae(F,2),A=ae(A,2);!x(F);){var P=D.add(F);P.l(L)<=0&&(S=S.add(A),D=P),F=ae(F,1),A=ae(A,1)}return I=y(L,S.j(I)),new C(S,I)}for(S=d;L.l(I)>=0;){for(A=Math.max(1,Math.floor(L.m()/I.m())),F=Math.ceil(Math.log(A)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),D=c(A),P=D.j(I);v(P)||P.l(L)>0;)A-=F,D=c(A),P=D.j(I);x(D)&&(D=g),S=S.add(D),L=y(L,P)}return new C(S,L)}t.B=function(L){return O(this,L).h},t.and=function(L){const I=Math.max(this.g.length,L.g.length),A=[];for(let F=0;F<I;F++)A[F]=this.i(F)&L.i(F);return new s(A,this.h&L.h)},t.or=function(L){const I=Math.max(this.g.length,L.g.length),A=[];for(let F=0;F<I;F++)A[F]=this.i(F)|L.i(F);return new s(A,this.h|L.h)},t.xor=function(L){const I=Math.max(this.g.length,L.g.length),A=[];for(let F=0;F<I;F++)A[F]=this.i(F)^L.i(F);return new s(A,this.h^L.h)};function Y(L){const I=L.g.length+1,A=[];for(let F=0;F<I;F++)A[F]=L.i(F)<<1|L.i(F-1)>>>31;return new s(A,L.h)}function ae(L,I){const A=I>>5;I%=32;const F=L.g.length-A,S=[];for(let D=0;D<F;D++)S[D]=I>0?L.i(D+A)>>>I|L.i(D+A+1)<<32-I:L.i(D+A);return new s(S,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,B8=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,jc=s}).apply(typeof Yb<"u"?Yb:typeof self<"u"?self:typeof window<"u"?window:{});var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j8,F0,U8,Xp,g5,V8,z8,H8;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof fp=="object"&&fp];for(var R=0;R<p.length;++R){var M=p[R];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(p,R){if(R)e:{var M=r;p=p.split(".");for(var K=0;K<p.length-1;K++){var Ne=p[K];if(!(Ne in M))break e;M=M[Ne]}p=p[p.length-1],K=M[p],R=R(K),R!=K&&R!=null&&e(M,p,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(R){var M=[],K;for(K in R)Object.prototype.hasOwnProperty.call(R,K)&&M.push([K,R[K]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(p){var R=typeof p;return R=="object"&&p!=null||R=="function"}function l(p,R,M){return p.call.apply(p.bind,arguments)}function c(p,R,M){return c=l,c.apply(null,arguments)}function u(p,R){var M=Array.prototype.slice.call(arguments,1);return function(){var K=M.slice();return K.push.apply(K,arguments),p.apply(this,K)}}function d(p,R){function M(){}M.prototype=R.prototype,p.Z=R.prototype,p.prototype=new M,p.prototype.constructor=p,p.Ob=function(K,Ne,je){for(var ht=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ht[Zt-2]=arguments[Zt];return R.prototype[Ne].apply(K,ht)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function f(p){const R=p.length;if(R>0){const M=Array(R);for(let K=0;K<R;K++)M[K]=p[K];return M}return[]}function x(p,R){for(let K=1;K<arguments.length;K++){const Ne=arguments[K];var M=typeof Ne;if(M=M!="object"?M:Ne?Array.isArray(Ne)?"array":M:"null",M=="array"||M=="object"&&typeof Ne.length=="number"){M=p.length||0;const je=Ne.length||0;p.length=M+je;for(let ht=0;ht<je;ht++)p[M+ht]=Ne[ht]}else p.push(Ne)}}class v{constructor(R,M){this.i=R,this.j=M,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function _(p){s.setTimeout(()=>{throw p},0)}function y(){var p=L;let R=null;return p.g&&(R=p.g,p.g=p.g.next,p.g||(p.h=null),R.next=null),R}class T{constructor(){this.h=this.g=null}add(R,M){const K=C.get();K.set(R,M),this.h?this.h.next=K:this.g=K,this.h=K}}var C=new v(()=>new O,p=>p.reset());class O{constructor(){this.next=this.g=this.h=null}set(R,M){this.h=R,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ae=!1,L=new T,I=()=>{const p=Promise.resolve(void 0);Y=()=>{p.then(A)}};function A(){for(var p;p=y();){try{p.h.call(p.g)}catch(M){_(M)}var R=C;R.j(p),R.h<100&&(R.h++,p.next=R.g,R.g=p)}ae=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(p,R){this.type=p,this.g=this.target=R,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,R=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const M=()=>{};s.addEventListener("test",M,R),s.removeEventListener("test",M,R)}catch{}return p}();function P(p){return/^[\s\xa0]*$/.test(p)}function ue(p,R){S.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,R)}d(ue,S),ue.prototype.init=function(p,R){const M=this.type=p.type,K=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=R,R=p.relatedTarget,R||(M=="mouseover"?R=p.fromElement:M=="mouseout"&&(R=p.toElement)),this.relatedTarget=R,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),de=0;function we(p,R,M,K,Ne){this.listener=p,this.proxy=null,this.src=R,this.type=M,this.capture=!!K,this.ha=Ne,this.key=++de,this.da=this.fa=!1}function J(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ie(p,R,M){for(const K in p)R.call(M,p[K],K,p)}function _e(p,R){for(const M in p)R.call(void 0,p[M],M,p)}function Ie(p){const R={};for(const M in p)R[M]=p[M];return R}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(p,R){let M,K;for(let Ne=1;Ne<arguments.length;Ne++){K=arguments[Ne];for(M in K)p[M]=K[M];for(let je=0;je<N.length;je++)M=N[je],Object.prototype.hasOwnProperty.call(K,M)&&(p[M]=K[M])}}function B(p){this.src=p,this.g={},this.h=0}B.prototype.add=function(p,R,M,K,Ne){const je=p.toString();p=this.g[je],p||(p=this.g[je]=[],this.h++);const ht=Q(p,R,K,Ne);return ht>-1?(R=p[ht],M||(R.fa=!1)):(R=new we(R,this.src,je,!!K,Ne),R.fa=M,p.push(R)),R};function z(p,R){const M=R.type;if(M in p.g){var K=p.g[M],Ne=Array.prototype.indexOf.call(K,R,void 0),je;(je=Ne>=0)&&Array.prototype.splice.call(K,Ne,1),je&&(J(R),p.g[M].length==0&&(delete p.g[M],p.h--))}}function Q(p,R,M,K){for(let Ne=0;Ne<p.length;++Ne){const je=p[Ne];if(!je.da&&je.listener==R&&je.capture==!!M&&je.ha==K)return Ne}return-1}var he="closure_lm_"+(Math.random()*1e6|0),xe={};function pe(p,R,M,K,Ne){if(Array.isArray(R)){for(let je=0;je<R.length;je++)pe(p,R[je],M,K,Ne);return null}return M=xt(M),p&&p[me]?p.J(R,M,o(K)?!!K.capture:!1,Ne):Ee(p,R,M,!1,K,Ne)}function Ee(p,R,M,K,Ne,je){if(!R)throw Error("Invalid event type");const ht=o(Ne)?!!Ne.capture:!!Ne;let Zt=wt(p);if(Zt||(p[he]=Zt=new B(p)),M=Zt.add(R,M,K,ht,je),M.proxy)return M;if(K=He(),M.proxy=K,K.src=p,K.listener=M,p.addEventListener)D||(Ne=ht),Ne===void 0&&(Ne=!1),p.addEventListener(R.toString(),K,Ne);else if(p.attachEvent)p.attachEvent(De(R.toString()),K);else if(p.addListener&&p.removeListener)p.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return M}function He(){function p(M){return R.call(p.src,p.listener,M)}const R=fe;return p}function Ye(p,R,M,K,Ne){if(Array.isArray(R))for(var je=0;je<R.length;je++)Ye(p,R[je],M,K,Ne);else K=o(K)?!!K.capture:!!K,M=xt(M),p&&p[me]?(p=p.i,je=String(R).toString(),je in p.g&&(R=p.g[je],M=Q(R,M,K,Ne),M>-1&&(J(R[M]),Array.prototype.splice.call(R,M,1),R.length==0&&(delete p.g[je],p.h--)))):p&&(p=wt(p))&&(R=p.g[R.toString()],p=-1,R&&(p=Q(R,M,K,Ne)),(M=p>-1?R[p]:null)&&ot(M))}function ot(p){if(typeof p!="number"&&p&&!p.da){var R=p.src;if(R&&R[me])z(R.i,p);else{var M=p.type,K=p.proxy;R.removeEventListener?R.removeEventListener(M,K,p.capture):R.detachEvent?R.detachEvent(De(M),K):R.addListener&&R.removeListener&&R.removeListener(K),(M=wt(R))?(z(M,p),M.h==0&&(M.src=null,R[he]=null)):J(p)}}}function De(p){return p in xe?xe[p]:xe[p]="on"+p}function fe(p,R){if(p.da)p=!0;else{R=new ue(R,this);const M=p.listener,K=p.ha||p.src;p.fa&&ot(p),p=M.call(K,R)}return p}function wt(p){return p=p[he],p instanceof B?p:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function xt(p){return typeof p=="function"?p:(p[Ke]||(p[Ke]=function(R){return p.handleEvent(R)}),p[Ke])}function Ve(){F.call(this),this.i=new B(this),this.M=this,this.G=null}d(Ve,F),Ve.prototype[me]=!0,Ve.prototype.removeEventListener=function(p,R,M,K){Ye(this,p,R,M,K)};function ft(p,R){var M,K=p.G;if(K)for(M=[];K;K=K.G)M.push(K);if(p=p.M,K=R.type||R,typeof R=="string")R=new S(R,p);else if(R instanceof S)R.target=R.target||p;else{var Ne=R;R=new S(K,p),j(R,Ne)}Ne=!0;let je,ht;if(M)for(ht=M.length-1;ht>=0;ht--)je=R.g=M[ht],Ne=st(je,K,!0,R)&&Ne;if(je=R.g=p,Ne=st(je,K,!0,R)&&Ne,Ne=st(je,K,!1,R)&&Ne,M)for(ht=0;ht<M.length;ht++)je=R.g=M[ht],Ne=st(je,K,!1,R)&&Ne}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var p=this.i;for(const R in p.g){const M=p.g[R];for(let K=0;K<M.length;K++)J(M[K]);delete p.g[R],p.h--}}this.G=null},Ve.prototype.J=function(p,R,M,K){return this.i.add(String(p),R,!1,M,K)},Ve.prototype.K=function(p,R,M,K){return this.i.add(String(p),R,!0,M,K)};function st(p,R,M,K){if(R=p.i.g[String(R)],!R)return!0;R=R.concat();let Ne=!0;for(let je=0;je<R.length;++je){const ht=R[je];if(ht&&!ht.da&&ht.capture==M){const Zt=ht.listener,sr=ht.ha||ht.src;ht.fa&&z(p.i,ht),Ne=Zt.call(sr,K)!==!1&&Ne}}return Ne&&!K.defaultPrevented}function Ht(p,R){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:s.setTimeout(p,R||0)}function ke(p){p.g=Ht(()=>{p.g=null,p.i&&(p.i=!1,ke(p))},p.l);const R=p.h;p.h=null,p.m.apply(null,R)}class ct extends F{constructor(R,M){super(),this.m=R,this.l=M,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(p){F.call(this),this.h=p,this.g={}}d(vt,F);var Lt=[];function tn(p){ie(p.g,function(R,M){this.g.hasOwnProperty(M)&&ot(R)},p),p.g={}}vt.prototype.N=function(){vt.Z.N.call(this),tn(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=s.JSON.stringify,Ct=s.JSON.parse,jt=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function St(){}function vn(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){S.call(this,"d")}d(Et,S);function qt(){S.call(this,"c")}d(qt,S);var gn={},Bt=null;function en(){return Bt=Bt||new Ve}gn.Ia="serverreachability";function Gt(p){S.call(this,gn.Ia,p)}d(Gt,S);function Ln(p){const R=en();ft(R,new Gt(R))}gn.STAT_EVENT="statevent";function zn(p,R){S.call(this,gn.STAT_EVENT,p),this.stat=R}d(zn,S);function Kt(p){const R=en();ft(R,new zn(R,p))}gn.Ja="timingevent";function Vt(p,R){S.call(this,gn.Ja,p),this.size=R}d(Vt,S);function hn(p,R){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},R)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Rr(p,R,M,K,Ne,je){p.info(function(){if(p.g)if(je){var ht="",Zt=je.split("&");for(let wn=0;wn<Zt.length;wn++){var sr=Zt[wn].split("=");if(sr.length>1){const pr=sr[0];sr=sr[1];const Ci=pr.split("_");ht=Ci.length>=2&&Ci[1]=="type"?ht+(pr+"="+sr+"&"):ht+(pr+"=redacted&")}}}else ht=null;else ht=je;return"XMLHTTP REQ ("+K+") [attempt "+Ne+"]: "+R+`
`+M+`
`+ht})}function Ir(p,R,M,K,Ne,je,ht){p.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+Ne+"]: "+R+`
`+M+`
`+je+" "+ht})}function Wr(p,R,M,K){p.info(function(){return"XMLHTTP TEXT ("+R+"): "+pa(p,M)+(K?" "+K:"")})}function Ut(p,R){p.info(function(){return"TIMEOUT: "+R})}ii.prototype.info=function(){};function pa(p,R){if(!p.g)return R;if(!R)return null;try{const je=JSON.parse(R);if(je){for(p=0;p<je.length;p++)if(Array.isArray(je[p])){var M=je[p];if(!(M.length<2)){var K=M[1];if(Array.isArray(K)&&!(K.length<1)){var Ne=K[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let ht=1;ht<K.length;ht++)K[ht]=""}}}}return _t(je)}catch{return R}}var Si={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ai;function Fn(){}d(Fn,St),Fn.prototype.g=function(){return new XMLHttpRequest},ai=new Fn;function Jn(p){return encodeURIComponent(String(p))}function H(p){var R=1;p=p.split(":");const M=[];for(;R>0&&p.length;)M.push(p.shift()),R--;return p.length&&M.push(p.join(":")),M}function ne(p,R,M,K){this.j=p,this.i=R,this.l=M,this.S=K||1,this.V=new vt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var te={},re={};function ce(p,R,M){p.M=1,p.A=Te(Dn(R)),p.u=M,p.R=!0,Re(p,null)}function Re(p,R){p.F=Date.now(),Fe(p),p.B=Dn(p.A);var M=p.B,K=p.S;Array.isArray(K)||(K=[String(K)]),er(M.i,"t",K),p.C=0,M=p.j.L,p.h=new Z,p.g=Tt(p.j,M?R:null,!p.u),p.P>0&&(p.O=new ct(c(p.Y,p,p.g),p.P)),R=p.V,M=p.g,K=p.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(Lt[0]=Ne.toString()),Ne=Lt);for(let je=0;je<Ne.length;je++){const ht=pe(M,Ne[je],K||R.handleEvent,!1,R.h||R);if(!ht)break;R.g[ht.key]=ht}R=p.J?Ie(p.J):{},p.u?(p.v||(p.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,R)):(p.v="GET",p.g.ea(p.B,p.v,null,R)),Ln(),Rr(p.i,p.v,p.B,p.l,p.S,p.u)}ne.prototype.ba=function(p){p=p.target;const R=this.O;R&&Oa(p)==3?R.j():this.Y(p)},ne.prototype.Y=function(p){try{if(p==this.g)e:{const Zt=Oa(this.g),sr=this.g.ya(),wn=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||Gl(this.g)))){this.K||Zt!=4||sr==7||(sr==8||wn<=0?Ln(3):Ln(2)),ut(this);var R=this.g.ca();this.X=R;var M=ze(this);if(this.o=R==200,Ir(this.i,this.v,this.B,this.l,this.S,Zt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var K,Ne=this.g;if((K=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(K)){var je=K;break t}}je=null}if(p=je)Wr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,p);else{this.o=!1,this.m=3,Kt(12),Ze(this),mt(this);break e}}if(this.R){p=!0;let pr;for(;!this.K&&this.C<M.length;)if(pr=Pe(this,M),pr==re){Zt==4&&(this.m=4,Kt(14),p=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==te){this.m=4,Kt(15),Wr(this.i,this.l,M,"[Invalid Chunk]"),p=!1;break}else Wr(this.i,this.l,pr,null),gt(this,pr);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||M.length!=0||this.h.h||(this.m=1,Kt(16),p=!1),this.o=this.o&&p,!p)Wr(this.i,this.l,M,"[Invalid Chunked Response]"),Ze(this),mt(this);else if(M.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Yl(ht),ht.P=!0,Kt(11))}}else Wr(this.i,this.l,M,null),gt(this,M);Zt==4&&Ze(this),this.o&&!this.K&&(Zt==4?se(this.j,this):(this.o=!1,Fe(this)))}else Zo(this.g),R==400&&M.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Ze(this),mt(this)}}}catch{}finally{}};function ze(p){if(!Oe(p))return p.g.la();const R=Gl(p.g);if(R==="")return"";let M="";const K=R.length,Ne=Oa(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ze(p),mt(p),"";p.h.i=new s.TextDecoder}for(let je=0;je<K;je++)p.h.h=!0,M+=p.h.i.decode(R[je],{stream:!(Ne&&je==K-1)});return R.length=0,p.h.g+=M,p.C=0,p.h.g}function Oe(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Pe(p,R){var M=p.C,K=R.indexOf(`
`,M);return K==-1?re:(M=Number(R.substring(M,K)),isNaN(M)?te:(K+=1,K+M>R.length?re:(R=R.slice(K,K+M),p.C=K+M,R)))}ne.prototype.cancel=function(){this.K=!0,Ze(this)};function Fe(p){p.T=Date.now()+p.H,it(p,p.H)}function it(p,R){if(p.D!=null)throw Error("WatchDog timer not null");p.D=hn(c(p.aa,p),R)}function ut(p){p.D&&(s.clearTimeout(p.D),p.D=null)}ne.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(Ln(),Kt(17)),Ze(this),this.m=2,mt(this)):it(this,this.T-p)};function mt(p){p.j.I==0||p.K||se(p.j,p)}function Ze(p){ut(p);var R=p.O;R&&typeof R.dispose=="function"&&R.dispose(),p.O=null,tn(p.V),p.g&&(R=p.g,p.g=null,R.abort(),R.dispose())}function gt(p,R){try{var M=p.j;if(M.I!=0&&(M.g==p||Ji(M.h,p))){if(!p.L&&Ji(M.h,p)&&M.I==3){try{var K=M.Ba.g.parse(R)}catch{K=null}if(Array.isArray(K)&&K.length==3){var Ne=K;if(Ne[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<p.F)U(M),vo(M);else break e;Xs(M),Kt(18)}}else M.xa=Ne[1],0<M.xa-M.K&&Ne[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=hn(c(M.Va,M),6e3));ir(M.h)<=1&&M.ta&&(M.ta=void 0)}else Ce(M,11)}else if((p.L||M.g==p)&&U(M),!P(R))for(Ne=M.Ba.g.parse(R),R=0;R<Ne.length;R++){let wn=Ne[R];const pr=wn[0];if(!(pr<=M.K))if(M.K=pr,wn=wn[1],M.I==2)if(wn[0]=="c"){M.M=wn[1],M.ba=wn[2];const Ci=wn[3];Ci!=null&&(M.ka=Ci,M.j.info("VER="+M.ka));const xa=wn[4];xa!=null&&(M.za=xa,M.j.info("SVER="+M.za));const xr=wn[5];xr!=null&&typeof xr=="number"&&xr>0&&(K=1.5*xr,M.O=K,M.j.info("backChannelRequestTimeoutMs_="+K)),K=M;const ta=p.g;if(ta){const Cs=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var je=K.h;je.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(Ti(je,je.h),je.h=null))}if(K.G){const el=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(K.wa=el,ye(K.J,K.G,el))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-p.F,M.j.info("Handshake RTT: "+M.T+"ms")),K=M;var ht=p;if(K.na=tt(K,K.L?K.ba:null,K.W),ht.L){ga(K.h,ht);var Zt=ht,sr=K.O;sr&&(Zt.H=sr),Zt.D&&(ut(Zt),Fe(Zt)),K.g=ht}else pu(K);M.i.length>0&&Jo(M)}else wn[0]!="stop"&&wn[0]!="close"||Ce(M,7);else M.I==3&&(wn[0]=="stop"||wn[0]=="close"?wn[0]=="stop"?Ce(M,7):mo(M):wn[0]!="noop"&&M.l&&M.l.qa(wn),M.A=0)}}Ln(4)}catch{}}var Wt=class{constructor(p,R){this.g=p,this.map=R}};function Sn(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ir(p){return p.h?1:p.g?p.g.size:0}function Ji(p,R){return p.h?p.h==R:p.g?p.g.has(R):!1}function Ti(p,R){p.g?p.g.add(R):p.h=R}function ga(p,R){p.h&&p.h==R?p.h=null:p.g&&p.g.has(R)&&p.g.delete(R)}Sn.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Lr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let R=p.i;for(const M of p.g.values())R=R.concat(M.G);return R}return f(p.i)}var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(p,R){if(p){p=p.split("&");for(let M=0;M<p.length;M++){const K=p[M].indexOf("=");let Ne,je=null;K>=0?(Ne=p[M].substring(0,K),je=p[M].substring(K+1)):Ne=p[M],R(Ne,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Ra(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;p instanceof Ra?(this.l=p.l,Ka(this,p.j),this.o=p.o,this.g=p.g,Qa(this,p.u),this.h=p.h,q(this,Ys(p.i)),this.m=p.m):p&&(R=String(p).match(Xa))?(this.l=!1,Ka(this,R[1]||"",!0),this.o=Se(R[2]||""),this.g=Se(R[3]||"",!0),Qa(this,R[4]),this.h=Se(R[5]||"",!0),q(this,R[6]||"",!0),this.m=Se(R[7]||"")):(this.l=!1,this.i=new La(null,this.l))}Ra.prototype.toString=function(){const p=[];var R=this.j;R&&p.push(Ue(R,Ot,!0),":");var M=this.g;return(M||R=="file")&&(p.push("//"),(R=this.o)&&p.push(Ue(R,Ot,!0),"@"),p.push(Jn(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&p.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&p.push("/"),p.push(Ue(M,M.charAt(0)=="/"?ma:yn,!0))),(M=this.i.toString())&&p.push("?",M),(M=this.m)&&p.push("#",Ue(M,Ia)),p.join("")},Ra.prototype.resolve=function(p){const R=Dn(this);let M=!!p.j;M?Ka(R,p.j):M=!!p.o,M?R.o=p.o:M=!!p.g,M?R.g=p.g:M=p.u!=null;var K=p.h;if(M)Qa(R,p.u);else if(M=!!p.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var Ne=R.h.lastIndexOf("/");Ne!=-1&&(K=R.h.slice(0,Ne+1)+K)}if(Ne=K,Ne==".."||Ne==".")K="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){K=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const je=[];for(let ht=0;ht<Ne.length;){const Zt=Ne[ht++];Zt=="."?K&&ht==Ne.length&&je.push(""):Zt==".."?((je.length>1||je.length==1&&je[0]!="")&&je.pop(),K&&ht==Ne.length&&je.push("")):(je.push(Zt),K=!0)}K=je.join("/")}else K=Ne}return M?R.h=K:M=p.i.toString()!=="",M?q(R,Ys(p.i)):M=!!p.m,M&&(R.m=p.m),R};function Dn(p){return new Ra(p)}function Ka(p,R,M){p.j=M?Se(R,!0):R,p.j&&(p.j=p.j.replace(/:$/,""))}function Qa(p,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);p.u=R}else p.u=null}function q(p,R,M){R instanceof La?(p.i=R,po(p.i,p.l)):(M||(R=Ue(R,Dr)),p.i=new La(R,p.l))}function ye(p,R,M){p.i.set(R,M)}function Te(p){return ye(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Se(p,R){return p?R?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ue(p,R,M){return typeof p=="string"?(p=encodeURI(p).replace(R,at),M&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function at(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Ot=/[#\/\?@]/g,yn=/[#\?:]/g,ma=/[#\?]/g,Dr=/[#\?@]/g,Ia=/#/g;function La(p,R){this.h=this.g=null,this.i=p||null,this.j=!!R}function gi(p){p.g||(p.g=new Map,p.h=0,p.i&&$r(p.i,function(R,M){p.add(decodeURIComponent(R.replace(/\+/g," ")),M)}))}t=La.prototype,t.add=function(p,R){gi(this),this.i=null,p=ea(this,p);let M=this.g.get(p);return M||this.g.set(p,M=[]),M.push(R),this.h+=1,this};function Da(p,R){gi(p),R=ea(p,R),p.g.has(R)&&(p.i=null,p.h-=p.g.get(R).length,p.g.delete(R))}function zl(p,R){return gi(p),R=ea(p,R),p.g.has(R)}t.forEach=function(p,R){gi(this),this.g.forEach(function(M,K){M.forEach(function(Ne){p.call(R,Ne,K,this)},this)},this)};function kn(p,R){gi(p);let M=[];if(typeof R=="string")zl(p,R)&&(M=M.concat(p.g.get(ea(p,R))));else for(p=Array.from(p.g.values()),R=0;R<p.length;R++)M=M.concat(p[R]);return M}t.set=function(p,R){return gi(this),this.i=null,p=ea(this,p),zl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[R]),this.h+=1,this},t.get=function(p,R){return p?(p=kn(this,p),p.length>0?String(p[0]):R):R};function er(p,R,M){Da(p,R),M.length>0&&(p.i=null,p.g.set(ea(p,R),f(M)),p.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],R=Array.from(this.g.keys());for(let K=0;K<R.length;K++){var M=R[K];const Ne=Jn(M);M=kn(this,M);for(let je=0;je<M.length;je++){let ht=Ne;M[je]!==""&&(ht+="="+Jn(M[je])),p.push(ht)}}return this.i=p.join("&")};function Ys(p){const R=new La;return R.i=p.i,p.g&&(R.g=new Map(p.g),R.h=p.h),R}function ea(p,R){return R=String(R),p.j&&(R=R.toLowerCase()),R}function po(p,R){R&&!p.j&&(gi(p),p.i=null,p.g.forEach(function(M,K){const Ne=K.toLowerCase();K!=Ne&&(Da(this,K),er(this,Ne,M))},p)),p.j=R}function r0(p,R){const M=new ii;if(s.Image){const K=new Image;K.onload=u(ka,M,"TestLoadImage: loaded",!0,R,K),K.onerror=u(ka,M,"TestLoadImage: error",!1,R,K),K.onabort=u(ka,M,"TestLoadImage: abort",!1,R,K),K.ontimeout=u(ka,M,"TestLoadImage: timeout",!1,R,K),s.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=p}else R(!1)}function Yo(p,R){const M=new ii,K=new AbortController,Ne=setTimeout(()=>{K.abort(),ka(M,"TestPingServer: timeout",!1,R)},1e4);fetch(p,{signal:K.signal}).then(je=>{clearTimeout(Ne),je.ok?ka(M,"TestPingServer: ok",!0,R):ka(M,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ne),ka(M,"TestPingServer: error",!1,R)})}function ka(p,R,M,K,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),K(M)}catch{}}function Qt(){this.g=new jt}function uu(p){this.i=p.Sb||null,this.h=p.ab||!1}d(uu,St),uu.prototype.g=function(){return new Hl(this.i,this.h)};function Hl(p,R){Ve.call(this),this.H=p,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Hl,Ve),t=Hl.prototype,t.open=function(p,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=R,this.readyState=1,va(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(R.body=p),(this.H||s).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mf(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function mf(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var R=p.value?p.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!p.done}))&&(this.response=this.responseText+=R)}p.done?Xo(this):va(this),this.readyState==3&&mf(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Xo(this))},t.Na=function(p){this.g&&(this.response=p,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,va(p)}t.setRequestHeader=function(p,R){this.A.append(p,R)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],R=this.h.entries();for(var M=R.next();!M.done;)M=M.value,p.push(M[0]+": "+M[1]),M=R.next();return p.join(`\r
`)};function va(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ss(p){let R="";return ie(p,function(M,K){R+=K,R+=":",R+=M,R+=`\r
`}),R}function fu(p,R,M){e:{for(K in M){var K=!1;break e}K=!0}K||(M=Ss(M),typeof p=="string"?M!=null&&Jn(M):ye(p,R,M))}function hr(p){Ve.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(hr,Ve);var ql=/^https?$/i,hu=["POST","PUT"];t=hr.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,R,M,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);R=R?R.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ai.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(R,String(p),!0),this.B=!1}catch(je){go(this,je);return}if(p=M||"",M=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var Ne in K)M.set(Ne,K[Ne]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const je of K.keys())M.set(je,K.get(je));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(M.keys()).find(je=>je.toLowerCase()=="content-type"),Ne=s.FormData&&p instanceof s.FormData,!(Array.prototype.indexOf.call(hu,R,void 0)>=0)||K||Ne||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,ht]of M)this.g.setRequestHeader(je,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(je){go(this,je)}};function go(p,R){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=R,p.o=5,Ko(p),Wl(p)}function Ko(p){p.A||(p.A=!0,ft(p,"complete"),ft(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ft(this,"complete"),ft(this,"abort"),Wl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wl(this,!0)),hr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qo(this):this.Xa())},t.Xa=function(){Qo(this)};function Qo(p){if(p.h&&typeof a<"u"){if(p.v&&Oa(p)==4)setTimeout(p.Ca.bind(p),0);else if(ft(p,"readystatechange"),Oa(p)==4){p.h=!1;try{const je=p.ca();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var M;if(!(M=R)){var K;if(K=je===0){let ht=String(p.D).match(Xa)[1]||null;!ht&&s.self&&s.self.location&&(ht=s.self.location.protocol.slice(0,-1)),K=!ql.test(ht?ht.toLowerCase():"")}M=K}if(M)ft(p,"complete"),ft(p,"success");else{p.o=6;try{var Ne=Oa(p)>2?p.g.statusText:""}catch{Ne=""}p.l=Ne+" ["+p.ca()+"]",Ko(p)}}finally{Wl(p)}}}}function Wl(p,R){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const M=p.g;p.g=null,R||ft(p,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oa(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Oa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var R=this.g.responseText;return p&&R.indexOf(p)==0&&(R=R.substring(p.length)),Ct(R)}};function Gl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Zo(p){const R={};p=(p.g&&Oa(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<p.length;K++){if(P(p[K]))continue;var M=H(p[K]);const Ne=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const je=R[Ne]||[];R[Ne]=je,je.push(M)}_e(R,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(p,R,M){return M&&M.internalChannelParams&&M.internalChannelParams[p]||R}function $l(p){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Za("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Za("baseRetryDelayMs",5e3,p),this.Za=Za("retryDelaySeedMs",1e4,p),this.Ta=Za("forwardChannelMaxRetries",2,p),this.va=Za("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Sn(p&&p.concurrentRequestLimit),this.Ba=new Qt,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$l.prototype,t.ka=8,t.I=1,t.connect=function(p,R,M,K){Kt(0),this.W=p,this.H=R||{},M&&K!==void 0&&(this.H.OSID=M,this.H.OAID=K),this.F=this.X,this.J=tt(this,null,this.W),Jo(this)};function mo(p){if(yo(p),p.I==3){var R=p.V++,M=Dn(p.J);if(ye(M,"SID",p.M),ye(M,"RID",R),ye(M,"TYPE","terminate"),ya(p,M),R=new ne(p,p.j,R),R.M=2,R.A=Te(Dn(M)),M=!1,s.navigator&&s.navigator.sendBeacon)try{M=s.navigator.sendBeacon(R.A.toString(),"")}catch{}!M&&s.Image&&(new Image().src=R.A,M=!0),M||(R.g=Tt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Fe(R)}Ge(p)}function vo(p){p.g&&(Yl(p),p.g.cancel(),p.g=null)}function yo(p){vo(p),p.v&&(s.clearTimeout(p.v),p.v=null),U(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&s.clearTimeout(p.m),p.m=null)}function Jo(p){if(!cn(p.h)&&!p.m){p.m=!0;var R=p.Ea;Y||I(),ae||(Y(),ae=!0),L.add(R,p),p.D=0}}function vf(p,R){return ir(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=R.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=hn(c(p.Ea,p,R),ve(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Ne=new ne(this,this.j,p);let je=this.o;if(this.U&&(je?(je=Ie(je),j(je,this.U)):je=this.U),this.u!==null||this.R||(Ne.J=je,je=null),this.S)e:{for(var R=0,M=0;M<this.i.length;M++){t:{var K=this.i[M];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(R+=K,R>4096){R=M;break e}if(R===4096||M===this.i.length-1){R=M+1;break e}}R=1e3}else R=1e3;R=du(this,Ne,R),M=Dn(this.J),ye(M,"RID",p),ye(M,"CVER",22),this.G&&ye(M,"X-HTTP-Session-Id",this.G),ya(this,M),je&&(this.R?R="headers="+Jn(Ss(je))+"&"+R:this.u&&fu(M,this.u,je)),Ti(this.h,Ne),this.Ra&&ye(M,"TYPE","init"),this.S?(ye(M,"$req",R),ye(M,"SID","null"),Ne.U=!0,ce(Ne,M,null)):ce(Ne,M,R),this.I=2}}else this.I==3&&(p?Ts(this,p):this.i.length==0||cn(this.h)||Ts(this))};function Ts(p,R){var M;R?M=R.l:M=p.V++;const K=Dn(p.J);ye(K,"SID",p.M),ye(K,"RID",M),ye(K,"AID",p.K),ya(p,K),p.u&&p.o&&fu(K,p.u,p.o),M=new ne(p,p.j,M,p.D+1),p.u===null&&(M.J=p.o),R&&(p.i=R.G.concat(p.i)),R=du(p,M,1e3),M.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ti(p.h,M),ce(M,K,R)}function ya(p,R){p.H&&ie(p.H,function(M,K){ye(R,K,M)}),p.l&&ie({},function(M,K){ye(R,K,M)})}function du(p,R,M){M=Math.min(p.i.length,M);const K=p.l?c(p.l.Ka,p.l,p):null;e:{var Ne=p.i;let Zt=-1;for(;;){const sr=["count="+M];Zt==-1?M>0?(Zt=Ne[0].g,sr.push("ofs="+Zt)):Zt=0:sr.push("ofs="+Zt);let wn=!0;for(let pr=0;pr<M;pr++){var je=Ne[pr].g;const Ci=Ne[pr].map;if(je-=Zt,je<0)Zt=Math.max(0,Ne[pr].g-100),wn=!1;else try{je="req"+je+"_"||"";try{var ht=Ci instanceof Map?Ci:Object.entries(Ci);for(const[xa,xr]of ht){let ta=xr;o(xr)&&(ta=_t(xr)),sr.push(je+xa+"="+encodeURIComponent(ta))}}catch(xa){throw sr.push(je+"type="+encodeURIComponent("_badmap")),xa}}catch{K&&K(Ci)}}if(wn){ht=sr.join("&");break e}}ht=void 0}return p=p.i.splice(0,M),R.G=p,ht}function pu(p){if(!p.g&&!p.v){p.Y=1;var R=p.Da;Y||I(),ae||(Y(),ae=!0),L.add(R,p),p.A=0}}function Xs(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=hn(c(p.Da,p),ve(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=hn(c(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),vo(this),w(this))};function Yl(p){p.B!=null&&(s.clearTimeout(p.B),p.B=null)}function w(p){p.g=new ne(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var R=Dn(p.na);ye(R,"RID","rpc"),ye(R,"SID",p.M),ye(R,"AID",p.K),ye(R,"CI",p.F?"0":"1"),!p.F&&p.ia&&ye(R,"TO",p.ia),ye(R,"TYPE","xmlhttp"),ya(p,R),p.u&&p.o&&fu(R,p.u,p.o),p.O&&(p.g.H=p.O);var M=p.g;p=p.ba,M.M=1,M.A=Te(Dn(R)),M.u=null,M.R=!0,Re(M,p)}t.Va=function(){this.C!=null&&(this.C=null,vo(this),Xs(this),Kt(19))};function U(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function se(p,R){var M=null;if(p.g==R){U(p),Yl(p),p.g=null;var K=2}else if(Ji(p.h,R))M=R.G,ga(p.h,R),K=1;else return;if(p.I!=0){if(R.o)if(K==1){M=R.u?R.u.length:0,R=Date.now()-R.F;var Ne=p.D;K=en(),ft(K,new Vt(K,M)),Jo(p)}else pu(p);else if(Ne=R.m,Ne==3||Ne==0&&R.X>0||!(K==1&&vf(p,R)||K==2&&Xs(p)))switch(M&&M.length>0&&(R=p.h,R.i=R.i.concat(M)),Ne){case 1:Ce(p,5);break;case 4:Ce(p,10);break;case 3:Ce(p,6);break;default:Ce(p,2)}}}function ve(p,R){let M=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(M*=2),M*R}function Ce(p,R){if(p.j.info("Error code "+R),R==2){var M=c(p.bb,p),K=p.Ua;const Ne=!K;K=new Ra(K||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ka(K,"https"),Te(K),Ne?r0(K.toString(),M):Yo(K.toString(),M)}else Kt(2);p.I=0,p.l&&p.l.pa(R),Ge(p),yo(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Ge(p){if(p.I=0,p.ja=[],p.l){const R=Lr(p.h);(R.length!=0||p.i.length!=0)&&(x(p.ja,R),x(p.ja,p.i),p.h.i.length=0,f(p.i),p.i.length=0),p.l.oa()}}function tt(p,R,M){var K=M instanceof Ra?Dn(M):new Ra(M);if(K.g!="")R&&(K.g=R+"."+K.g),Qa(K,K.u);else{var Ne=s.location;K=Ne.protocol,R=R?R+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const je=new Ra(null);K&&Ka(je,K),R&&(je.g=R),Ne&&Qa(je,Ne),M&&(je.h=M),K=je}return M=p.G,R=p.wa,M&&R&&ye(K,M,R),ye(K,"VER",p.ka),ya(p,K),K}function Tt(p,R,M){if(R&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=p.Aa&&!p.ma?new hr(new uu({ab:M})):new hr(p.ma),R.Fa(p.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function It(){}t=It.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $t(){}$t.prototype.g=function(p,R){return new Pt(p,R)};function Pt(p,R){Ve.call(this),this.g=new $l(R),this.l=p,this.h=R&&R.messageUrlParams||null,p=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(p?p["X-WebChannel-Content-Type"]=R.messageContentType:p={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(p?p["X-WebChannel-Client-Profile"]=R.sa:p={"X-WebChannel-Client-Profile":R.sa}),this.g.U=p,(p=R&&R.Qb)&&!P(p)&&(this.g.u=p),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!P(R)&&(this.g.G=R,p=this.h,p!==null&&R in p&&(p=this.h,R in p&&delete p[R])),this.j=new ar(this)}d(Pt,Ve),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){mo(this.g)},Pt.prototype.o=function(p){var R=this.g;if(typeof p=="string"){var M={};M.__data__=p,p=M}else this.v&&(M={},M.__data__=_t(p),p=M);R.i.push(new Wt(R.Ya++,p)),R.I==3&&Jo(R)},Pt.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,Pt.Z.N.call(this)};function Tn(p){Et.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var R=p.__sm__;if(R){e:{for(const M in R){p=M;break e}p=void 0}(this.i=p)&&(p=this.i,R=R!==null&&p in R?R[p]:void 0),this.data=R}else this.data=p}d(Tn,Et);function dr(){qt.call(this),this.status=1}d(dr,qt);function ar(p){this.g=p}d(ar,It),ar.prototype.ra=function(){ft(this.g,"a")},ar.prototype.qa=function(p){ft(this.g,new Tn(p))},ar.prototype.pa=function(p){ft(this.g,new dr)},ar.prototype.oa=function(){ft(this.g,"b")},$t.prototype.createWebChannel=$t.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,H8=function(){return new $t},z8=function(){return en()},V8=gn,g5={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Xp=Si,Gr.COMPLETE="complete",U8=Gr,vn.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,F0=vn,hr.prototype.listenOnce=hr.prototype.K,hr.prototype.getLastError=hr.prototype.Ha,hr.prototype.getLastErrorCode=hr.prototype.ya,hr.prototype.getStatus=hr.prototype.ca,hr.prototype.getResponseJson=hr.prototype.La,hr.prototype.getResponseText=hr.prototype.la,hr.prototype.send=hr.prototype.ea,hr.prototype.setWithCredentials=hr.prototype.Fa,j8=hr}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});const Xb="@firebase/firestore",Kb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}la.UNAUTHENTICATED=new la(null),la.GOOGLE_CREDENTIALS=new la("google-credentials-uid"),la.FIRST_PARTY=new la("first-party-uid"),la.MOCK_USER=new la("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new s_("@firebase/firestore");function Pf(){return Gu.logLevel}function At(t,...e){if(Gu.logLevel<=Rn.DEBUG){const n=e.map(l_);Gu.debug(`Firestore (${$h}): ${t}`,...n)}}function Ol(t,...e){if(Gu.logLevel<=Rn.ERROR){const n=e.map(l_);Gu.error(`Firestore (${$h}): ${t}`,...n)}}function Lh(t,...e){if(Gu.logLevel<=Rn.WARN){const n=e.map(l_);Gu.warn(`Firestore (${$h}): ${t}`,...n)}}function l_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,q8(t,r,n)}function q8(t,e,n){let r=`FIRESTORE (${$h}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ol(r),new Error(r)}function Vn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||q8(e,i,r)}function on(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends au{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(la.UNAUTHENTICATED))}shutdown(){}}class EF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AF{constructor(e){this.t=e,this.currentUser=la.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Uc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Uc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uc)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vn(typeof r.accessToken=="string",31837,{l:r}),new W8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vn(e===null||typeof e=="string",2055,{h:e}),new la(e)}}class SF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=la.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(la.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sF(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vn(this.o===void 0,3512);const r=a=>{a.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,At("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function bn(t,e){return t<e?-1:t>e?1:0}function m5(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return bv(i)===bv(a)?bn(i,a):bv(i)?1:-1}return bn(t.length,e.length)}const RF=55296,IF=57343;function bv(t){const e=t.charCodeAt(0);return e>=RF&&e<=IF}function Dh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="__name__";class Co{constructor(e,n,r){n===void 0?n=0:n>e.length&&Yt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Yt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Co?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Co.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return bn(e.length,n.length)}static compareSegments(e,n){const r=Co.isNumericId(e),i=Co.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Co.extractNumericId(e).compare(Co.extractNumericId(n)):m5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jc.fromString(e.substring(4,e.length-2))}}class mr extends Co{construct(e,n,r){return new mr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new bt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mr(n)}static emptyPath(){return new mr([])}}const LF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends Co{construct(e,n,r){return new Gi(e,n,r)}static isValidIdentifier(e){return LF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zb}static keyField(){return new Gi([Zb])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new bt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new bt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new bt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new bt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gi(n)}static emptyPath(){return new Gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.path=e}static fromPath(e){return new zt(mr.fromString(e))}static fromName(e){return new zt(mr.fromString(e).popFirst(5))}static empty(){return new zt(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new mr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e,n){if(!n)throw new bt(Qe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DF(t,e,n,r){if(e===!0&&r===!0)throw new bt(Qe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jb(t){if(!zt.isDocumentKey(t))throw new bt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e3(t){if(zt.isDocumentKey(t))throw new bt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Yt(12329,{type:typeof t})}function Fo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new bt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){const n={typeString:t};return e&&(n.value=e),n}function v1(t,e){if(!$8(t))throw new bt(Qe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new bt(Qe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=-62135596800,n3=1e6;class vr{static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n3);return new vr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new bt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t3)throw new bt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n3}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(v1(e,vr._jsonSchema))return new vr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vr._jsonSchemaVersion="firestore/timestamp/1.0",vr._jsonSchema={type:ui("string",vr._jsonSchemaVersion),seconds:ui("number"),nanoseconds:ui("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new vr(0,0))}static max(){return new an(new vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=-1;function kF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=an.fromTimestamp(r===1e9?new vr(n+1,0):new vr(n,r));return new Gc(i,zt.empty(),e)}function OF(t){return new Gc(t.readTime,t.key,Od)}class Gc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gc(an.min(),zt.empty(),Od)}static max(){return new Gc(an.max(),zt.empty(),Od)}}function PF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=zt.comparator(t.documentKey,e.documentKey),n!==0?n:bn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){if(t.code!==Qe.FAILED_PRECONDITION||t.message!==FF)throw t;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Je?n:Je.resolve(n)}catch(n){return Je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Je.reject(n)}static resolve(e){return new Je((n,r)=>{n(e)})}static reject(e){return new Je((n,r)=>{r(e)})}static waitFor(e){return new Je((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Je.resolve(!1);for(const r of e)n=n.next(i=>i?Je.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Je((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new Je((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function BF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-1;function qm(t){return t==null}function Vg(t){return t===0&&1/t==-1/0}function jF(t){return typeof t=="number"&&Number.isInteger(t)&&!Vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8="";function UF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r3(e)),e=VF(t.get(n),e);return r3(e)}function VF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Y8:n+="";break;default:n+=a}}return n}function r3(t){return t+Y8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function su(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.comparator=e,this.root=n||qi.EMPTY}insert(e,n){return new Pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??qi.RED,this.left=i??qi.EMPTY,this.right=a??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new qi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Yt(27949);return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1;qi.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt(57766)}get value(){throw Yt(16141)}get color(){throw Yt(16727)}get left(){throw Yt(29726)}get right(){throw Yt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new qi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a3(this.data.getIterator())}getIteratorFrom(e){return new a3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ei(this.comparator);return n.data=e,n}}class a3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.fields=e,e.sort(Gi.comparator)}static empty(){return new ms([])}unionWith(e){let n=new Ei(Gi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new K8("Invalid base64 string: "+a):a}}(e);return new Qi(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const zF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $c(t){if(Vn(!!t,39018),typeof t=="string"){let e=0;const n=zF.exec(t);if(Vn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(t.seconds),nanos:ei(t.nanos)}}function ei(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yc(t){return typeof t=="string"?Qi.fromBase64String(t):Qi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="server_timestamp",Z8="__type__",J8="__previous_value__",eC="__local_write_time__";function f_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Z8])==null?void 0:r.stringValue)===Q8}function Wm(t){const e=t.mapValue.fields[J8];return f_(e)?Wm(e):e}function Pd(t){const e=$c(t.mapValue.fields[eC].timestampValue);return new vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i,a,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const zg="(default)";class Fd{constructor(e,n){this.projectId=e,this.database=n||zg}static empty(){return new Fd("","")}get isDefaultDatabase(){return this.database===zg}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__type__",qF="__max__",dp={mapValue:{}},nC="__vector__",Hg="value";function Xc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f_(t)?4:GF(t)?9007199254740991:WF(t)?10:11:Yt(28295,{value:t})}function zo(t,e){if(t===e)return!0;const n=Xc(t);if(n!==Xc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=$c(i.timestampValue),o=$c(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Yc(i.bytesValue).isEqual(Yc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ei(i.geoPointValue.latitude)===ei(a.geoPointValue.latitude)&&ei(i.geoPointValue.longitude)===ei(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ei(i.integerValue)===ei(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ei(i.doubleValue),o=ei(a.doubleValue);return s===o?Vg(s)===Vg(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Dh(t.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(i3(s)!==i3(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!zo(s[l],o[l])))return!1;return!0}(t,e);default:return Yt(52216,{left:t})}}function Md(t,e){return(t.values||[]).find(n=>zo(n,e))!==void 0}function kh(t,e){if(t===e)return 0;const n=Xc(t),r=Xc(e);if(n!==r)return bn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bn(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ei(a.integerValue||a.doubleValue),l=ei(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return s3(t.timestampValue,e.timestampValue);case 4:return s3(Pd(t),Pd(e));case 5:return m5(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Yc(a),l=Yc(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=bn(o[c],l[c]);if(u!==0)return u}return bn(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=bn(ei(a.latitude),ei(s.latitude));return o!==0?o:bn(ei(a.longitude),ei(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o3(t.arrayValue,e.arrayValue);case 10:return function(a,s){var g,f,x,v;const o=a.fields||{},l=s.fields||{},c=(g=o[Hg])==null?void 0:g.arrayValue,u=(f=l[Hg])==null?void 0:f.arrayValue,d=bn(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((v=u==null?void 0:u.values)==null?void 0:v.length)||0);return d!==0?d:o3(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===dp.mapValue&&s===dp.mapValue)return 0;if(a===dp.mapValue)return 1;if(s===dp.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const g=m5(l[d],u[d]);if(g!==0)return g;const f=kh(o[l[d]],c[u[d]]);if(f!==0)return f}return bn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Yt(23264,{he:n})}}function s3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bn(t,e);const n=$c(t),r=$c(e),i=bn(n.seconds,r.seconds);return i!==0?i:bn(n.nanos,r.nanos)}function o3(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=kh(n[i],r[i]);if(a)return a}return bn(n.length,r.length)}function Oh(t){return v5(t)}function v5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$c(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return zt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=v5(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${v5(n.fields[s])}`;return i+"}"}(t.mapValue):Yt(61005,{value:t})}function Kp(t){switch(Xc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wm(t);return e?16+Kp(e):16;case 5:return 2*t.stringValue.length;case 6:return Yc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Kp(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return su(r.fields,(a,s)=>{i+=a.length+Kp(s)}),i}(t.mapValue);default:throw Yt(13486,{value:t})}}function l3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y5(t){return!!t&&"integerValue"in t}function h_(t){return!!t&&"arrayValue"in t}function c3(t){return!!t&&"nullValue"in t}function u3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qp(t){return!!t&&"mapValue"in t}function WF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tC])==null?void 0:r.stringValue)===nC}function rd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return su(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return{...t}}function GF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.value=e}static empty(){return new Va({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=Gi.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=rd(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){su(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Va(rd(this.value))}}function rC(t){const e=[];return su(t.fields,(n,r)=>{const i=new Gi([n]);if(Qp(r)){const a=rC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ca(e,0,an.min(),an.min(),an.min(),Va.empty(),0)}static newFoundDocument(e,n,r,i){return new ca(e,1,n,an.min(),r,i,0)}static newNoDocument(e,n){return new ca(e,2,n,an.min(),an.min(),Va.empty(),0)}static newUnknownDocument(e,n){return new ca(e,3,n,an.min(),an.min(),Va.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Va.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ca&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ca(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.position=e,this.inclusive=n}}function f3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=zt.comparator(zt.fromName(s.referenceValue),n.key):r=kh(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function h3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function $F(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class ci extends iC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XF(e,n,r):n==="array-contains"?new ZF(e,r):n==="in"?new JF(e,r):n==="not-in"?new eM(e,r):n==="array-contains-any"?new tM(e,r):new ci(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KF(e,r):new QF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kh(n,this.value)):n!==null&&Xc(this.value)===Xc(n)&&this.matchesComparison(kh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lo extends iC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lo(e,n)}matches(e){return aC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aC(t){return t.op==="and"}function sC(t){return YF(t)&&aC(t)}function YF(t){for(const e of t.filters)if(e instanceof lo)return!1;return!0}function x5(t){if(t instanceof ci)return t.field.canonicalString()+t.op.toString()+Oh(t.value);if(sC(t))return t.filters.map(e=>x5(e)).join(",");{const e=t.filters.map(n=>x5(n)).join(",");return`${t.op}(${e})`}}function oC(t,e){return t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.field.isEqual(i.field)&&zo(r.value,i.value)}(t,e):t instanceof lo?function(r,i){return i instanceof lo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&oC(s,i.filters[o]),!0):!1}(t,e):void Yt(19439)}function lC(t){return t instanceof ci?function(n){return`${n.field.canonicalString()} ${n.op} ${Oh(n.value)}`}(t):t instanceof lo?function(n){return n.op.toString()+" {"+n.getFilters().map(lC).join(" ,")+"}"}(t):"Filter"}class XF extends ci{constructor(e,n,r){super(e,n,r),this.key=zt.fromName(r.referenceValue)}matches(e){const n=zt.comparator(e.key,this.key);return this.matchesComparison(n)}}class KF extends ci{constructor(e,n){super(e,"in",n),this.keys=cC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QF extends ci{constructor(e,n){super(e,"not-in",n),this.keys=cC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>zt.fromName(r.referenceValue))}class ZF extends ci{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h_(n)&&Md(n.arrayValue,this.value)}}class JF extends ci{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Md(this.value.arrayValue,n)}}class eM extends ci{constructor(e,n){super(e,"not-in",n)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Md(this.value.arrayValue,n)}}class tM extends ci{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Md(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function d3(t,e=null,n=[],r=[],i=null,a=null,s=null){return new nM(t,e,n,r,i,a,s)}function d_(t){const e=on(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x5(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oh(r)).join(",")),e.Te=n}return e.Te}function p_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$F(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h3(t.startAt,e.startAt)&&h3(t.endAt,e.endAt)}function _5(t){return zt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rM(t,e,n,r,i,a,s,o){return new Kh(t,e,n,r,i,a,s,o)}function g_(t){return new Kh(t)}function p3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uC(t){return t.collectionGroup!==null}function id(t){const e=on(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ei(Gi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bd(a,r))}),n.has(Gi.keyField().canonicalString())||e.Ie.push(new Bd(Gi.keyField(),r))}return e.Ie}function Mo(t){const e=on(t);return e.Ee||(e.Ee=iM(e,id(t))),e.Ee}function iM(t,e){if(t.limitType==="F")return d3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bd(i.field,a)});const n=t.endAt?new qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qg(t.startAt.position,t.startAt.inclusive):null;return d3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w5(t,e){const n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function b5(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return p_(Mo(t),Mo(e))&&t.limitType===e.limitType}function fC(t){return`${d_(Mo(t))}|lt:${t.limitType}`}function Ff(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lC(i)).join(", ")}]`),qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oh(i)).join(",")),`Target(${r})`}(Mo(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):zt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of id(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=f3(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,id(r),i)||r.endAt&&!function(s,o,l){const c=f3(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,id(r),i))}(t,e)}function aM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hC(t){return(e,n)=>{let r=!1;for(const i of id(t)){const a=sM(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function sM(t,e,n){const r=t.field.isKeyField()?zt.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?kh(l,c):Yt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return X8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Pr(zt.comparator);function Pl(){return oM}const dC=new Pr(zt.comparator);function M0(...t){let e=dC;for(const n of t)e=e.insert(n.key,n);return e}function pC(t){let e=dC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ru(){return ad()}function gC(){return ad()}function ad(){return new of(t=>t.toString(),(t,e)=>t.isEqual(e))}const lM=new Pr(zt.comparator),cM=new Ei(zt.comparator);function En(...t){let e=cM;for(const n of t)e=e.add(n);return e}const uM=new Ei(bn);function fM(){return uM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vg(e)?"-0":e}}function mC(t){return{integerValue:""+t}}function hM(t,e){return jF(e)?mC(e):m_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function dM(t,e,n){return t instanceof jd?function(i,a){const s={fields:{[Z8]:{stringValue:Q8},[eC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&f_(a)&&(a=Wm(a)),a&&(s.fields[J8]=a),{mapValue:s}}(n,e):t instanceof Ud?yC(t,e):t instanceof Vd?xC(t,e):function(i,a){const s=vC(i,a),o=g3(s)+g3(i.Ae);return y5(s)&&y5(i.Ae)?mC(o):m_(i.serializer,o)}(t,e)}function pM(t,e,n){return t instanceof Ud?yC(t,e):t instanceof Vd?xC(t,e):n}function vC(t,e){return t instanceof Wg?function(r){return y5(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class jd extends Ym{}class Ud extends Ym{constructor(e){super(),this.elements=e}}function yC(t,e){const n=_C(e);for(const r of t.elements)n.some(i=>zo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vd extends Ym{constructor(e){super(),this.elements=e}}function xC(t,e){let n=_C(e);for(const r of t.elements)n=n.filter(i=>!zo(i,r));return{arrayValue:{values:n}}}class Wg extends Ym{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g3(t){return ei(t.integerValue||t.doubleValue)}function _C(t){return h_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.field=e,this.transform=n}}function mM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ud&&i instanceof Ud||r instanceof Vd&&i instanceof Vd?Dh(r.elements,i.elements,zo):r instanceof Wg&&i instanceof Wg?zo(r.Ae,i.Ae):r instanceof jd&&i instanceof jd}(t.transform,e.transform)}class vM{constructor(e,n){this.version=e,this.transformResults=n}}class so{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function wC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v_(t.key,so.none()):new y1(t.key,t.data,so.none());{const n=t.data,r=Va.empty();let i=new Ei(Gi.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ou(t.key,r,new ms(i.toArray()),so.none())}}function yM(t,e,n){t instanceof y1?function(i,a,s){const o=i.value.clone(),l=v3(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ou?function(i,a,s){if(!Zp(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=v3(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(bC(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sd(t,e,n,r){return t instanceof y1?function(a,s,o,l){if(!Zp(a.precondition,s))return o;const c=a.value.clone(),u=y3(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ou?function(a,s,o,l){if(!Zp(a.precondition,s))return o;const c=y3(a.fieldTransforms,l,s),u=s.data;return u.setAll(bC(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return Zp(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function xM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=vC(r.transform,i||null);a!=null&&(n===null&&(n=Va.empty()),n.set(r.field,a))}return n||null}function m3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dh(r,i,(a,s)=>mM(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class y1 extends Xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ou extends Xm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v3(t,e,n){const r=new Map;Vn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,pM(s,o,n[i]))}return r}function y3(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,dM(a,s,e))}return r}class v_ extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _M extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yM(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gC();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=wC(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(an.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),En())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,(n,r)=>m3(n,r))&&Dh(this.baseMutations,e.baseMutations,(n,r)=>m3(n,r))}}class y_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return lM}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new y_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi,Nn;function AM(t){switch(t){case Qe.OK:return Yt(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return Yt(15467,{code:t})}}function EC(t){if(t===void 0)return Ol("GRPC error has no .code"),Qe.UNKNOWN;switch(t){case oi.OK:return Qe.OK;case oi.CANCELLED:return Qe.CANCELLED;case oi.UNKNOWN:return Qe.UNKNOWN;case oi.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case oi.INTERNAL:return Qe.INTERNAL;case oi.UNAVAILABLE:return Qe.UNAVAILABLE;case oi.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case oi.NOT_FOUND:return Qe.NOT_FOUND;case oi.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case oi.ABORTED:return Qe.ABORTED;case oi.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case oi.DATA_LOSS:return Qe.DATA_LOSS;default:return Yt(39323,{code:t})}}(Nn=oi||(oi={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new jc([4294967295,4294967295],0);function x3(t){const e=SM().encode(t),n=new B8;return n.update(e),new Uint8Array(n.digest())}function _3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jc([n,r],0),new jc([i,a],0)]}class x_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new B0(`Invalid padding: ${n}`);if(r<0)throw new B0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new B0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new B0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(jc.fromNumber(r)));return i.compare(TM)===1&&(i=new jc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x3(e),[r,i]=_3(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new x_(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=x3(e),[r,i]=_3(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class B0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,x1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Km(an.min(),i,new Pr(bn),Pl(),En())}}class x1{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new x1(r,n,En(),En(),En())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class AC{constructor(e,n){this.targetId=e,this.Ce=n}}class SC{constructor(e,n,r=Qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class w3{constructor(){this.ve=0,this.Fe=b3(),this.Me=Qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=En(),n=En(),r=En();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Yt(38017,{changeType:a})}}),new x1(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=b3()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pl(),this.Je=pp(),this.He=pp(),this.Ye=new Pr(bn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Yt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(_5(a))if(r===0){const s=new zt(a.path);this.et(n,s,ca.newNoDocument(s,an.min()))}else Vn(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Yc(r).toUint8Array()}catch(l){if(l instanceof K8)return Lh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new x_(s,i,a)}catch(l){return Lh(l instanceof B0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&_5(o.target)){const l=new zt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,ca.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=En();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Km(e,n,this.Ye,this.je,r);return this.je=Pl(),this.Je=pp(),this.He=pp(),this.Ye=new Pr(bn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w3,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ei(bn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ei(bn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||At("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w3),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pp(){return new Pr(zt.comparator)}function b3(){return new Pr(zt.comparator)}const NM={asc:"ASCENDING",desc:"DESCENDING"},RM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IM={and:"AND",or:"OR"};class LM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E5(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function Gg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DM(t,e){return Gg(t,e.toTimestamp())}function Bo(t){return Vn(!!t,49232),an.fromTimestamp(function(n){const r=$c(n);return new vr(r.seconds,r.nanos)}(t))}function __(t,e){return A5(t,e).canonicalString()}function A5(t,e){const n=function(i){return new mr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CC(t){const e=mr.fromString(t);return Vn(DC(e),10190,{key:e.toString()}),e}function S5(t,e){return __(t.databaseId,e.path)}function Ev(t,e){const n=CC(e);if(n.get(1)!==t.databaseId.projectId)throw new bt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zt(RC(n))}function NC(t,e){return __(t.databaseId,e)}function kM(t){const e=CC(t);return e.length===4?mr.emptyPath():RC(e)}function T5(t){return new mr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RC(t){return Vn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function E3(t,e,n){return{name:S5(t,e),fields:n.value.mapValue.fields}}function OM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Yt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Vn(u===void 0||typeof u=="string",58123),Qi.fromBase64String(u||"")):(Vn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Qi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Qe.UNKNOWN:EC(c.code);return new bt(u,c.message||"")}(s);n=new SC(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ev(t,r.document.name),a=Bo(r.document.updateTime),s=r.document.createTime?Bo(r.document.createTime):an.min(),o=new Va({mapValue:{fields:r.document.fields}}),l=ca.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ev(t,r.document),a=r.readTime?Bo(r.readTime):an.min(),s=ca.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Jp([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ev(t,r.document),a=r.removedTargetIds||[];n=new Jp([],a,i,null)}else{if(!("filter"in e))return Yt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new EM(i,a),o=r.targetId;n=new AC(o,s)}}return n}function PM(t,e){let n;if(e instanceof y1)n={update:E3(t,e.key,e.value)};else if(e instanceof v_)n={delete:S5(t,e.key)};else if(e instanceof ou)n={update:E3(t,e.key,e.data),updateMask:qM(e.fieldMask)};else{if(!(e instanceof _M))return Yt(16599,{Vt:e.type});n={verify:S5(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof jd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wg)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Yt(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:DM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Yt(27497)}(t,e.precondition)),n}function FM(t,e){return t&&t.length>0?(Vn(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Bo(i.updateTime):Bo(a);return s.isEqual(an.min())&&(s=Bo(a)),new vM(s,i.transformResults||[])}(n,e))):[]}function MM(t,e){return{documents:[NC(t,e.path)]}}function BM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NC(t,i);const a=function(c){if(c.length!==0)return LC(lo.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(g){return{field:Mf(g.field),direction:VM(g.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=E5(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function jM(t){let e=kM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vn(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const g=IC(d);return g instanceof lo&&sC(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(g=>function(x){return new Bd(Bf(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(d){let g;return g=typeof d=="object"?d.value:d,qm(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,f=d.values||[];return new qg(f,g)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const g=!d.before,f=d.values||[];return new qg(f,g)}(n.endAt)),rM(e,i,s,a,o,"F",l,c)}function UM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bf(n.unaryFilter.field);return ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bf(n.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bf(n.unaryFilter.field);return ci.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bf(n.unaryFilter.field);return ci.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yt(61313);default:return Yt(60726)}}(t):t.fieldFilter!==void 0?function(n){return ci.create(Bf(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yt(58110);default:return Yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lo.create(n.compositeFilter.filters.map(r=>IC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Yt(1026)}}(n.compositeFilter.op))}(t):Yt(30097,{filter:t})}function VM(t){return NM[t]}function zM(t){return RM[t]}function HM(t){return IM[t]}function Mf(t){return{fieldPath:t.canonicalString()}}function Bf(t){return Gi.fromServerFormat(t.fieldPath)}function LC(t){return t instanceof ci?function(n){if(n.op==="=="){if(u3(n.value))return{unaryFilter:{field:Mf(n.field),op:"IS_NAN"}};if(c3(n.value))return{unaryFilter:{field:Mf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u3(n.value))return{unaryFilter:{field:Mf(n.field),op:"IS_NOT_NAN"}};if(c3(n.value))return{unaryFilter:{field:Mf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(n.field),op:zM(n.op),value:n.value}}}(t):t instanceof lo?function(n){const r=n.getFilters().map(i=>LC(i));return r.length===1?r[0]:{compositeFilter:{op:HM(n.op),filters:r}}}(t):Yt(54877,{filter:t})}function qM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r,i,a=an.min(),s=an.min(),o=Qi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.yt=e}}function GM(t){const e=jM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Cn=new YM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Je.resolve()}getCollectionParents(e,n){return Je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Je.resolve()}deleteFieldIndex(e,n){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,n){return Je.resolve()}getDocumentsMatchingTarget(e,n){return Je.resolve(null)}getIndexType(e,n){return Je.resolve(0)}getFieldIndexes(e,n){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,n){return Je.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,n){return Je.resolve(Gc.min())}updateCollectionGroup(e,n,r){return Je.resolve()}updateIndexEntries(e,n){return Je.resolve()}}class YM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ei(mr.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ei(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kC=41943040;class Ua{static withCacheSize(e){return new Ua(e,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua.DEFAULT_COLLECTION_PERCENTILE=10,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ua.DEFAULT=new Ua(kC,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ua.DISABLED=new Ua(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ph(0)}static cr(){return new Ph(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="LruGarbageCollector",XM=1048576;function T3([t,e],[n,r]){const i=bn(t,n);return i===0?bn(e,r):i}class KM{constructor(e){this.Ir=e,this.buffer=new Ei(T3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){At(S3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xh(n)?At(S3,"Ignoring IndexedDB error during garbage collection: ",n):await Yh(n)}await this.Vr(3e5)})}}class ZM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Je.resolve(Hm.ce);const r=new KM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(A3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A3):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Pf()<=Rn.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function JM(t,e){return new ZM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.changes=new of(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ca.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sd(r.mutation,i,ms.empty(),vr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,En()).next(()=>r))}getLocalViewOfDocuments(e,n,r=En()){const i=Ru();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=M0();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ru();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,En()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Pl();const s=ad(),o=function(){return ad()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ou)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),sd(u.mutation,c,u.mutation.getFieldMask(),vr.now())):s.set(c.key,ms.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new tB(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=ad();let i=new Pr((s,o)=>s-o),a=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ms.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||En()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=gC();u.forEach(g=>{if(!a.has(g)){const f=wC(n.get(g),r.get(g));f!==null&&d.set(g,f),a=a.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Je.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return zt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Je.resolve(Ru());let o=Od,l=a;return s.next(c=>Je.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?Je.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,En())).next(u=>({batchId:o,changes:pC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new zt(n)).next(r=>{let i=M0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=M0();return this.indexManager.getCollectionParents(e,a).next(o=>Je.forEach(o,l=>{const c=function(d,g){return new Kh(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,ca.newInvalidDocument(u)))});let o=M0();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&sd(u.mutation,c,ms.empty(),vr.now()),$m(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bo(i.createTime)}}(n)),Je.resolve()}getNamedQuery(e,n){return Je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:GM(i.bundledQuery),readTime:Bo(i.readTime)}}(n)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.overlays=new Pr(zt.comparator),this.qr=new Map}getOverlay(e,n){return Je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ru();return Je.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Je.resolve()}getOverlaysForCollection(e,n,r){const i=Ru(),a=n.length+1,s=new zt(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Pr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Ru(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Ru(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Je.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new bM(n,r));let a=this.qr.get(n);a===void 0&&(a=En(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.sessionToken=Qi.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.Qr=new Ei(Ni.$r),this.Ur=new Ei(Ni.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ni(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ni(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new zt(new mr([])),r=new Ni(n,e),i=new Ni(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new zt(new mr([])),r=new Ni(n,e),i=new Ni(n,e+1);let a=En();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Ni(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ni{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return zt.comparator(e.key,n.key)||bn(e.Yr,n.Yr)}static Kr(e,n){return bn(e.Yr,n.Yr)||zt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ei(Ni.$r)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wM(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Ni(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Je.resolve(s)}lookupMutationBatch(e,n){return Je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?u_:this.tr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ni(n,0),i=new Ni(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ei(bn);return n.forEach(i=>{const a=new Ni(i,0),s=new Ni(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),Je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;zt.isDocumentKey(a)||(a=a.child(""));const s=new Ni(new zt(a),0);let o=new Ei(bn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),Je.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Je.forEach(n.mutations,i=>{const a=new Ni(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ni(n,0),i=this.Zr.firstAfterOrEqual(r);return Je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.ri=e,this.docs=function(){return new Pr(zt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Je.resolve(r?r.document.mutableCopy():ca.newInvalidDocument(n))}getEntries(e,n){let r=Pl();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ca.newInvalidDocument(i))}),Je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Pl();const s=n.path,o=new zt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||PF(OF(u),r)<=0||(i.has(u.key)||$m(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Yt(9500)}ii(e,n){return Je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lB(this)}getSize(e){return Je.resolve(this.size)}}class lB extends eB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.persistence=e,this.si=new of(n=>d_(n),p_),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.oi=0,this._i=new w_,this.targetCount=0,this.ai=Ph.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ph(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Je.resolve()}updateTargetData(e,n){return this.Pr(n),Je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Je.waitFor(a).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Je.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Je.resolve(r)}containsKey(e,n){return Je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hm(0),this.li=!1,this.li=!0,this.hi=new aB,this.referenceDelegate=e(this),this.Pi=new cB(this),this.indexManager=new $M,this.remoteDocumentCache=function(i){return new oB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WM(n),this.Ii=new rB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){At("MemoryPersistence","Starting transaction:",e);const i=new uB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return Je.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class uB extends MF{constructor(e){super(),this.currentSequenceNumber=e}}class b_{constructor(e){this.persistence=e,this.Ri=new w_,this.Vi=null}static mi(e){return new b_(e)}get fi(){if(this.Vi)return this.Vi;throw Yt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.fi,r=>{const i=zt.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,an.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Je.or([()=>Je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $g{constructor(e,n){this.persistence=e,this.pi=new of(r=>UF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JM(this,n)}static mi(e,n){return new $g(e,n)}Ei(){}di(e){return Je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Je.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?Je.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,an.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kp(e.data.value)),n}br(e,n,r){return Je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=En(),i=En();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new E_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nP()?8:BF(JO())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new fB;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Pf()<=Rn.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Ff(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Je.resolve()):(Pf()<=Rn.DEBUG&&At("QueryEngine","Query:",Ff(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Pf()<=Rn.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Ff(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mo(n))):Je.resolve())}ys(e,n){if(p3(n))return Je.resolve(null);let r=Mo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=b5(n,null,"F"),r=Mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=En(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,s,l.readTime)?this.ys(e,b5(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return p3(n)||i.isEqual(an.min())?Je.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?Je.resolve(null):(Pf()<=Rn.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ff(n)),this.vs(e,s,n,kF(i,Od)).next(o=>o))})}Ds(e,n){let r=new Ei(hC(e));return n.forEach((i,a)=>{$m(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Pf()<=Rn.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Ff(n)),this.ps.getDocumentsMatchingQuery(e,n,Gc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LocalStore",dB=3e8;class pB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pr(bn),this.xs=new of(a=>d_(a),p_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gB(t,e,n,r){return new pB(t,e,n,r)}async function PC(t,e){const n=on(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=En();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function mB(t,e){const n=on(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,g=d.keys();let f=Je.resolve();return g.forEach(x=>{f=f.next(()=>u.getEntry(l,x)).next(v=>{const _=c.docVersions.get(x);Vn(_!==null,48541),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=En();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FC(t){const e=on(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vB(t,e){const n=on(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((u,d)=>{const g=i.get(d);if(!g)return;o.push(n.Pi.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(a,u.addedDocuments,d)));let f=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Qi.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(v,_,y){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=dB?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,f,u)&&o.push(n.Pi.updateTargetData(a,f))});let l=Pl(),c=En();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(yB(a,s,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(an.min())){const u=n.Pi.getLastRemoteSnapshotVersion(a).next(d=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return Je.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Ms=i,a))}function yB(t,e,n){let r=En(),i=En();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Pl();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(an.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):At(A_,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function xB(t,e){const n=on(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=u_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _B(t,e){const n=on(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,Je.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Sc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function C5(t,e,n){const r=on(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Xh(s))throw s;At(A_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function C3(t,e,n){const r=on(t);let i=an.min(),a=En();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=on(l),g=d.xs.get(u);return g!==void 0?Je.resolve(d.Ms.get(g)):d.Pi.getTargetData(c,u)}(r,s,Mo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:an.min(),n?a:En())).next(o=>(wB(r,aM(e),o),{documents:o,Qs:a})))}function wB(t,e,n){let r=t.Os.get(e)||an.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class N3{constructor(){this.activeTargetIds=fM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bB{constructor(){this.Mo=new N3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="ConnectivityMonitor";class I3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(R3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){At(R3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function N5(){return gp===null?gp=function(){return 268435456+Math.round(2147483648*Math.random())}():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",AB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===zg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=N5(),o=this.zo(e,n.toUriEncodedString());At(Av,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=a_(c);return this.Jo(e,o,l,r,u).then(d=>(At(Av,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Lh(Av,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$h}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=AB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="WebChannelConnection";class CB extends SB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=N5();return new Promise((o,l)=>{const c=new j8;c.setWithCredentials(!0),c.listenOnce(U8.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xp.NO_ERROR:const d=c.getResponseJson();At(ra,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xp.TIMEOUT:At(ra,`RPC '${e}' ${s} timed out`),l(new bt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:const g=c.getStatus();if(At(ra,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const x=f==null?void 0:f.error;if(x&&x.status&&x.message){const v=function(y){const T=y.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(T)>=0?T:Qe.UNKNOWN}(x.status);l(new bt(v,x.message))}else l(new bt(Qe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new bt(Qe.UNAVAILABLE,"Connection failed."));break;default:Yt(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{At(ra,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);At(ra,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=N5(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=H8(),o=z8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=a.join("");At(ra,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);this.I_(d);let g=!1,f=!1;const x=new TB({Yo:_=>{f?At(ra,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(At(ra,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),At(ra,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},Zo:()=>d.close()}),v=(_,y,T)=>{_.listen(y,C=>{try{T(C)}catch(O){setTimeout(()=>{throw O},0)}})};return v(d,F0.EventType.OPEN,()=>{f||(At(ra,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),v(d,F0.EventType.CLOSE,()=>{f||(f=!0,At(ra,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(d))}),v(d,F0.EventType.ERROR,_=>{f||(f=!0,Lh(ra,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),x.a_(new bt(Qe.UNAVAILABLE,"The operation could not be completed")))}),v(d,F0.EventType.MESSAGE,_=>{var y;if(!f){const T=_.data[0];Vn(!!T,16349);const C=T,O=(C==null?void 0:C.error)||((y=C[0])==null?void 0:y.error);if(O){At(ra,`RPC '${e}' stream ${i} received error:`,O);const Y=O.status;let ae=function(A){const F=oi[A];if(F!==void 0)return EC(F)}(Y),L=O.message;ae===void 0&&(ae=Qe.INTERNAL,L="Unknown error status: "+Y+" with message "+O.message),f=!0,x.a_(new bt(ae,L)),d.close()}else At(ra,`RPC '${e}' stream ${i} received:`,T),x.u_(T)}}),v(o,V8.STAT_EVENT,_=>{_.stat===g5.PROXY?At(ra,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===g5.NOPROXY&&At(ra,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return new LM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="PersistentStream";class BC{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Qe.RESOURCE_EXHAUSTED?(Ol(n.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new bt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return At(L3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(At(L3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NB extends BC{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OM(this.serializer,e),r=function(a){if(!("targetChange"in a))return an.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?an.min():s.readTime?Bo(s.readTime):an.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=T5(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=_5(l)?{documents:MM(a,l)}:{query:BM(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=TC(a,s.resumeToken);const c=E5(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(an.min())>0){o.readTime=Gg(a,s.snapshotVersion.toTimestamp());const c=E5(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=UM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=T5(this.serializer),n.removeTarget=e,this.q_(n)}}class RB extends BC{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FM(e.writeResults,e.commitTime),r=Bo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=T5(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{}class LB extends IB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new bt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,A5(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new bt(Qe.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,A5(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new bt(Qe.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class DB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ol(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="RemoteStore";class kB{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{lf(this)&&(At($u,"Restarting streams for network reachability change."),await async function(l){const c=on(l);c.Ea.add(4),await _1(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Zm(c)}(this))})}),this.Ra=new DB(r,i)}}async function Zm(t){if(lf(t))for(const e of t.da)await e(!0)}async function _1(t){for(const e of t.da)await e(!1)}function jC(t,e){const n=on(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),N_(n)?C_(n):Qh(n).O_()&&T_(n,e))}function S_(t,e){const n=on(t),r=Qh(n);n.Ia.delete(e),r.O_()&&UC(n,e),n.Ia.size===0&&(r.O_()?r.L_():lf(n)&&n.Ra.set("Unknown"))}function T_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qh(t).Y_(e)}function UC(t,e){t.Va.Ue(e),Qh(t).Z_(e)}function C_(t){t.Va=new CM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qh(t).start(),t.Ra.ua()}function N_(t){return lf(t)&&!Qh(t).x_()&&t.Ia.size>0}function lf(t){return on(t).Ea.size===0}function VC(t){t.Va=void 0}async function OB(t){t.Ra.set("Online")}async function PB(t){t.Ia.forEach((e,n)=>{T_(t,e)})}async function FB(t,e){VC(t),N_(t)?(t.Ra.ha(e),C_(t)):t.Ra.set("Unknown")}async function MB(t,e,n){if(t.Ra.set("Online"),e instanceof SC&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){At($u,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yg(t,r)}else if(e instanceof Jp?t.Va.Ze(e):e instanceof AC?t.Va.st(e):t.Va.tt(e),!n.isEqual(an.min()))try{const r=await FC(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Qi.EMPTY_BYTE_STRING,u.snapshotVersion)),UC(a,l);const d=new Sc(u.target,l,c,u.sequenceNumber);T_(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){At($u,"Failed to raise snapshot:",r),await Yg(t,r)}}async function Yg(t,e,n){if(!Xh(e))throw e;t.Ea.add(1),await _1(t),t.Ra.set("Offline"),n||(n=()=>FC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{At($u,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zm(t)})}function zC(t,e){return e().catch(n=>Yg(t,n,e))}async function Jm(t){const e=on(t),n=Kc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:u_;for(;BB(e);)try{const i=await xB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,jB(e,i)}catch(i){await Yg(e,i)}HC(e)&&qC(e)}function BB(t){return lf(t)&&t.Ta.length<10}function jB(t,e){t.Ta.push(e);const n=Kc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HC(t){return lf(t)&&!Kc(t).x_()&&t.Ta.length>0}function qC(t){Kc(t).start()}async function UB(t){Kc(t).ra()}async function VB(t){const e=Kc(t);for(const n of t.Ta)e.ea(n.mutations)}async function zB(t,e,n){const r=t.Ta.shift(),i=y_.from(r,e,n);await zC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jm(t)}async function HB(t,e){e&&Kc(t).X_&&await async function(r,i){if(function(s){return AM(s)&&s!==Qe.ABORTED}(i.code)){const a=r.Ta.shift();Kc(r).B_(),await zC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Jm(r)}}(t,e),HC(t)&&qC(t)}async function D3(t,e){const n=on(t);n.asyncQueue.verifyOperationInProgress(),At($u,"RemoteStore received new credentials");const r=lf(n);n.Ea.add(3),await _1(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zm(n)}async function qB(t,e){const n=on(t);e?(n.Ea.delete(2),await Zm(n)):e||(n.Ea.add(2),await _1(n),n.Ra.set("Unknown"))}function Qh(t){return t.ma||(t.ma=function(n,r,i){const a=on(n);return a.sa(),new NB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:OB.bind(null,t),t_:PB.bind(null,t),r_:FB.bind(null,t),H_:MB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),N_(t)?C_(t):t.Ra.set("Unknown")):(await t.ma.stop(),VC(t))})),t.ma}function Kc(t){return t.fa||(t.fa=function(n,r,i){const a=on(n);return a.sa(),new RB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UB.bind(null,t),r_:HB.bind(null,t),ta:VB.bind(null,t),na:zB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Jm(t)):(await t.fa.stop(),t.Ta.length>0&&(At($u,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new R_(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I_(t,e){if(Ol("AsyncQueue",`${e}: ${t}`),Xh(t))return new bt(Qe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{static emptySet(e){return new uh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||zt.comparator(n.key,r.key):(n,r)=>zt.comparator(n.key,r.key),this.keyedMap=M0(),this.sortedSet=new Pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.ga=new Pr(zt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Yt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fh{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Fh(e,n,uh.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GB{constructor(){this.queries=O3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=on(n),a=i.queries;i.queries=O3(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new bt(Qe.ABORTED,"Firestore shutting down"))}}function O3(){return new of(t=>fC(t),Gm)}async function WC(t,e){const n=on(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new WB,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=I_(s,`Initialization of query '${Ff(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&L_(n)}async function GC(t,e){const n=on(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $B(t,e){const n=on(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&L_(n)}function YB(t,e,n){const r=on(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function L_(t){t.Ca.forEach(e=>{e.next()})}var R5,P3;(P3=R5||(R5={})).Ma="default",P3.Cache="cache";class $C{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==R5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.key=e}}class XC{constructor(e){this.key=e}}class XB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=En(),this.mutatedKeys=En(),this.eu=hC(e),this.tu=new uh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new k3,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const g=i.get(u),f=$m(this.query,d)?d:null,x=!!g&&this.mutatedKeys.has(g.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;g&&f?g.data.isEqual(f.data)?x!==v&&(r.track({type:3,doc:f}),_=!0):this.su(g,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!g&&f?(r.track({type:0,doc:f}),_=!0):g&&!f&&(r.track({type:1,doc:g}),_=!0,(l||c)&&(o=!0)),_&&(f?(s=s.add(f),a=v?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(f,x){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt(20277,{Rt:_})}};return v(f)-v(x)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new Fh(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=En(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=En();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D_="SyncEngine";class KB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QB{constructor(e){this.key=e,this.hu=!1}}class ZB{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new of(o=>fC(o),Gm),this.Iu=new Map,this.Eu=new Set,this.du=new Pr(zt.comparator),this.Au=new Map,this.Ru=new w_,this.Vu={},this.mu=new Map,this.fu=Ph.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JB(t,e,n=!0){const r=tN(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await KC(r,e,n,!0),i}async function ej(t,e){const n=tN(t);await KC(n,e,!0,!1)}async function KC(t,e,n,r){const i=await _B(t.localStore,Mo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await tj(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jC(t.remoteStore,i),o}async function tj(t,e,n,r,i){t.pu=(d,g,f)=>async function(v,_,y,T){let C=_.view.ru(y);C.Cs&&(C=await C3(v.localStore,_.query,!1).then(({documents:L})=>_.view.ru(L,C)));const O=T&&T.targetChanges.get(_.targetId),Y=T&&T.targetMismatches.get(_.targetId)!=null,ae=_.view.applyChanges(C,v.isPrimaryClient,O,Y);return M3(v,_.targetId,ae.au),ae.snapshot}(t,d,g,f);const a=await C3(t.localStore,e,!0),s=new XB(e,a.Qs),o=s.ru(a.documents),l=x1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);M3(t,n,c.au);const u=new KB(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function nj(t,e,n){const r=on(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Gm(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await C5(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&S_(r.remoteStore,i.targetId),I5(r,i.targetId)}).catch(Yh)):(I5(r,i.targetId),await C5(r.localStore,i.targetId,!0))}async function rj(t,e){const n=on(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S_(n.remoteStore,r.targetId))}async function ij(t,e,n){const r=fj(t);try{const i=await function(s,o){const l=on(s),c=vr.now(),u=o.reduce((f,x)=>f.add(x.key),En());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let x=Pl(),v=En();return l.Ns.getEntries(f,u).next(_=>{x=_,x.forEach((y,T)=>{T.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,x)).next(_=>{d=_;const y=[];for(const T of o){const C=xM(T,d.get(T.key).overlayedDocument);C!=null&&y.push(new ou(T.key,C,rC(C.value.mapValue),so.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,o)}).next(_=>{g=_;const y=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,_.batchId,y)})}).then(()=>({batchId:g.batchId,changes:pC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Pr(bn)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await w1(r,i.changes),await Jm(r.remoteStore)}catch(i){const a=I_(i,"Failed to persist write");n.reject(a)}}async function QC(t,e){const n=on(t);try{const r=await vB(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Vn(s.hu,14607):i.removedDocuments.size>0&&(Vn(s.hu,42227),s.hu=!1))}),await w1(n,r,e)}catch(r){await Yh(r)}}function F3(t,e,n){const r=on(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=on(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const g of d.Sa)g.va(o)&&(c=!0)}),c&&L_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aj(t,e,n){const r=on(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Pr(zt.comparator);s=s.insert(a,ca.newNoDocument(a,an.min()));const o=En().add(a),l=new Km(an.min(),new Map,new Pr(bn),s,o);await QC(r,l),r.du=r.du.remove(a),r.Au.delete(e),k_(r)}else await C5(r.localStore,e,!1).then(()=>I5(r,e,n)).catch(Yh)}async function sj(t,e){const n=on(t),r=e.batch.batchId;try{const i=await mB(n.localStore,e);JC(n,r,null),ZC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await w1(n,i)}catch(i){await Yh(i)}}async function oj(t,e,n){const r=on(t);try{const i=await function(s,o){const l=on(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(Vn(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);JC(r,e,n),ZC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await w1(r,i)}catch(i){await Yh(i)}}function ZC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function JC(t,e,n){const r=on(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function I5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||eN(t,r)})}function eN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(S_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),k_(t))}function M3(t,e,n){for(const r of n)r instanceof YC?(t.Ru.addReference(r.key,e),lj(t,r)):r instanceof XC?(At(D_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||eN(t,r.key)):Yt(19791,{wu:r})}function lj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(At(D_,"New document in limbo: "+n),t.Eu.add(r),k_(t))}function k_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new zt(mr.fromString(e)),r=t.fu.next();t.Au.set(r,new QB(n)),t.du=t.du.insert(n,r),jC(t.remoteStore,new Sc(Mo(g_(n.path)),r,"TargetPurposeLimboResolution",Hm.ce))}}async function w1(t,e,n){const r=on(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=E_.As(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,c){const u=on(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Je.forEach(c,g=>Je.forEach(g.Es,f=>u.persistence.referenceDelegate.addReference(d,g.targetId,f)).next(()=>Je.forEach(g.ds,f=>u.persistence.referenceDelegate.removeReference(d,g.targetId,f)))))}catch(d){if(!Xh(d))throw d;At(A_,"Failed to update sequence numbers: "+d)}for(const d of c){const g=d.targetId;if(!d.fromCache){const f=u.Ms.get(g),x=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(x);u.Ms=u.Ms.insert(g,v)}}}(r.localStore,a))}async function cj(t,e){const n=on(t);if(!n.currentUser.isEqual(e)){At(D_,"User change. New user:",e.toKey());const r=await PC(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new bt(Qe.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await w1(n,r.Ls)}}function uj(t,e){const n=on(t),r=n.Au.get(e);if(r&&r.hu)return En().add(r.key);{let i=En();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function tN(t){const e=on(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aj.bind(null,e),e.Pu.H_=$B.bind(null,e.eventManager),e.Pu.yu=YB.bind(null,e.eventManager),e}function fj(t){const e=on(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oj.bind(null,e),e}class Xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gB(this.persistence,new hB,e.initialUser,this.serializer)}Cu(e){return new OC(b_.mi,this.serializer)}Du(e){return new bB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xg.provider={build:()=>new Xg};class hj extends Xg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vn(this.persistence.referenceDelegate instanceof $g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ua.withCacheSize(this.cacheSizeBytes):Ua.DEFAULT;return new OC(r=>$g.mi(r,n),this.serializer)}}class L5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cj.bind(null,this.syncEngine),await qB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GB}()}createDatastore(e){const n=Qm(e.databaseInfo.databaseId),r=function(a){return new CB(a)}(e.databaseInfo);return function(a,s,o,l){return new LB(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new kB(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>F3(this.syncEngine,n,0),function(){return I3.v()?new I3:new EB}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new ZB(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=on(i);At($u,"RemoteStore shutting down."),a.Ea.add(5),await _1(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}L5.provider={build:()=>new L5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="FirestoreClient";class dj{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=la.UNAUTHENTICATED,this.clientId=c_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{At(Qc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(At(Qc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tv(t,e){t.asyncQueue.verifyOperationInProgress(),At(Qc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pj(t);At(Qc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>D3(e.remoteStore,i)),t._onlineComponents=e}async function pj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){At(Qc,"Using user provided OfflineComponentProvider");try{await Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Qe.FAILED_PRECONDITION||i.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lh("Error using user provided cache. Falling back to memory cache: "+n),await Tv(t,new Xg)}}else At(Qc,"Using default OfflineComponentProvider"),await Tv(t,new hj(void 0));return t._offlineComponents}async function rN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(At(Qc,"Using user provided OnlineComponentProvider"),await B3(t,t._uninitializedComponentsProvider._online)):(At(Qc,"Using default OnlineComponentProvider"),await B3(t,new L5))),t._onlineComponents}function gj(t){return rN(t).then(e=>e.syncEngine)}async function D5(t){const e=await rN(t),n=e.eventManager;return n.onListen=JB.bind(null,e.syncEngine),n.onUnlisten=nj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ej.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rj.bind(null,e.syncEngine),n}function mj(t,e,n={}){const r=new Uc;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new nN({next:g=>{u.Nu(),s.enqueueAndForget(()=>GC(a,d)),g.fromCache&&l.source==="server"?c.reject(new bt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),d=new $C(o,u,{includeMetadataChanges:!0,qa:!0});return WC(a,d)}(await D5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="firestore.googleapis.com",U3=!0;class V3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new bt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aN,this.ssl=U3}else this.host=e.host,this.ssl=e.ssl??U3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XM)throw new bt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bF;switch(r.type){case"firstParty":return new TF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j3.get(n);r&&(At("ComponentProvider","Removing Datastore"),j3.delete(n),r.terminate())}(this),Promise.resolve()}}function vj(t,e,n,r={}){var c;t=Fo(t,e2);const i=a_(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(YO(`https://${o}`),ZO("Firestore",!0)),a.host!==aN&&a.host!==o&&Lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Dd(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=la.MOCK_USER;else{u=XO(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new bt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new la(g)}t._authCredentials=new EF(new W8(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class fi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}toJSON(){return{type:fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(v1(n,fi._jsonSchema))return new fi(e,r||null,new zt(mr.fromString(n.referencePath)))}}fi._jsonSchemaVersion="firestore/documentReference/1.0",fi._jsonSchema={type:ui("string",fi._jsonSchemaVersion),referencePath:ui("string")};class Vc extends lu{constructor(e,n,r){super(e,n,g_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new zt(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function jr(t,e,...n){if(t=Ws(t),G8("collection","path",e),t instanceof e2){const r=mr.fromString(e,...n);return e3(r),new Vc(t,null,r)}{if(!(t instanceof fi||t instanceof Vc))throw new bt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return e3(r),new Vc(t.firestore,null,r)}}function Tr(t,e,...n){if(t=Ws(t),arguments.length===1&&(e=c_.newId()),G8("doc","path",e),t instanceof e2){const r=mr.fromString(e,...n);return Jb(r),new fi(t,null,new zt(r))}{if(!(t instanceof fi||t instanceof Vc))throw new bt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mr.fromString(e,...n));return Jb(r),new fi(t.firestore,t instanceof Vc?t.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="AsyncQueue";class H3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MC(this,"async_queue_retry"),this._c=()=>{const r=Sv();r&&At(z3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Uc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xh(e))throw e;At(z3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ol("INTERNAL UNHANDLED ERROR: ",q3(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=R_.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Yt(47125,{Pc:q3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Yu extends e2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H3(e),this._firestoreClient=void 0,await e}}}function yj(t,e){const n=typeof t=="object"?t:P8(),r=typeof t=="string"?t:zg,i=m1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=GO("firestore");a&&vj(i,...a)}return i}function O_(t){if(t._terminated)throw new bt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xj(t),t._firestoreClient}function xj(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,c,u){return new HF(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(Qi.fromBase64String(e))}catch(n){throw new bt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vs(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(v1(e,Vs._jsonSchema))return Vs.fromBase64String(e.bytes)}}Vs._jsonSchemaVersion="firestore/bytes/1.0",Vs._jsonSchema={type:ui("string",Vs._jsonSchemaVersion),bytes:ui("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new bt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new bt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new bt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jo._jsonSchemaVersion}}static fromJSON(e){if(v1(e,jo._jsonSchema))return new jo(e.latitude,e.longitude)}}jo._jsonSchemaVersion="firestore/geoPoint/1.0",jo._jsonSchema={type:ui("string",jo._jsonSchemaVersion),latitude:ui("number"),longitude:ui("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(v1(e,Uo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Uo(e.vectorValues);throw new bt(Qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Uo._jsonSchemaVersion="firestore/vectorValue/1.0",Uo._jsonSchema={type:ui("string",Uo._jsonSchemaVersion),vectorValues:ui("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^__.*__$/;class wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ou(e,this.data,this.fieldMask,n,this.fieldTransforms):new y1(e,this.data,n,this.fieldTransforms)}}class sN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ou(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt(40011,{Ac:t})}}class P_{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oN(this.Ac)&&_j.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qm(e)}Cc(e,n,r,i=!1){return new P_({Ac:e,methodName:n,Dc:r,path:Gi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F_(t){const e=t._freezeSettings(),n=Qm(t._databaseId);return new bj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ej(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);B_("Data must be an object, but it was:",s,r);const o=lN(r,s);let l,c;if(a.merge)l=new ms(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const g=k5(e,d,n);if(!s.contains(g))throw new bt(Qe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);uN(u,g)||u.push(g)}l=new ms(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new wj(new Va(o),l,c)}class r2 extends n2{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r2}}class M_ extends n2{_toFieldTransform(e){return new gM(e.path,new jd)}isEqual(e){return e instanceof M_}}function Aj(t,e,n,r){const i=t.Cc(1,e,n);B_("Data must be an object, but it was:",i,r);const a=[],s=Va.empty();su(r,(l,c)=>{const u=j_(e,l,n);c=Ws(c);const d=i.yc(u);if(c instanceof r2)a.push(u);else{const g=b1(c,d);g!=null&&(a.push(u),s.set(u,g))}});const o=new ms(a);return new sN(s,o,i.fieldTransforms)}function Sj(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[k5(e,r,n)],l=[i];if(a.length%2!=0)throw new bt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(k5(e,a[g])),l.push(a[g+1]);const c=[],u=Va.empty();for(let g=o.length-1;g>=0;--g)if(!uN(c,o[g])){const f=o[g];let x=l[g];x=Ws(x);const v=s.yc(f);if(x instanceof r2)c.push(f);else{const _=b1(x,v);_!=null&&(c.push(f),u.set(f,_))}}const d=new ms(c);return new sN(u,d,s.fieldTransforms)}function Tj(t,e,n,r=!1){return b1(n,t.Cc(r?4:3,e))}function b1(t,e){if(cN(t=Ws(t)))return B_("Unsupported field value:",e,t),lN(t,e);if(t instanceof n2)return function(r,i){if(!oN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=b1(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vr.fromDate(r);return{timestampValue:Gg(i.serializer,a)}}if(r instanceof vr){const a=new vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gg(i.serializer,a)}}if(r instanceof jo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vs)return{bytesValue:TC(i.serializer,r._byteString)};if(r instanceof fi){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:__(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uo)return function(s,o){return{mapValue:{fields:{[tC]:{stringValue:nC},[Hg]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return m_(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${zm(r)}`)}(t,e)}function lN(t,e){const n={};return X8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(t,(r,i)=>{const a=b1(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function cN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vr||t instanceof jo||t instanceof Vs||t instanceof fi||t instanceof n2||t instanceof Uo)}function B_(t,e,n){if(!cN(n)||!$8(n)){const r=zm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function k5(t,e,n){if((e=Ws(e))instanceof t2)return e._internalPath;if(typeof e=="string")return j_(t,e);throw Kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cj=new RegExp("[~\\*/\\[\\]]");function j_(t,e,n){if(e.search(Cj)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t2(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kg(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new bt(Qe.INVALID_ARGUMENT,o+t+l)}function uN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nj extends fN{data(){return super.data()}}function i2(t,e){return typeof e=="string"?j_(t,e):e instanceof t2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new bt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U_{}class dN extends U_{}function eg(t,e,...n){let r=[];e instanceof U_&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof V_).length,o=a.filter(l=>l instanceof a2).length;if(s>1||s>0&&o>0)throw new bt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class a2 extends dN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new a2(e,n,r)}_apply(e){const n=this._parse(e);return pN(e._query,n),new lu(e.firestore,e.converter,w5(e._query,n))}_parse(e){const n=F_(e.firestore);return function(a,s,o,l,c,u,d){let g;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new bt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$3(d,u);const x=[];for(const v of d)x.push(G3(l,a,v));g={arrayValue:{values:x}}}else g=G3(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$3(d,u),g=Tj(o,s,d,u==="in"||u==="not-in");return ci.create(c,u,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rj(t,e,n){const r=e,i=i2("where",t);return a2._create(i,r,n)}class V_ extends U_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)pN(s,l),s=w5(s,l)}(e._query,n),new lu(e.firestore,e.converter,w5(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends dN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z_(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new bt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new bt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bd(a,s)}(e._query,this._field,this._direction);return new lu(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Kh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Cv(t,e="asc"){const n=e,r=i2("orderBy",t);return z_._create(r,n)}function G3(t,e,n){if(typeof(n=Ws(n))=="string"){if(n==="")throw new bt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uC(e)&&n.indexOf("/")!==-1)throw new bt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mr.fromString(n));if(!zt.isDocumentKey(r))throw new bt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l3(t,new zt(r))}if(n instanceof fi)return l3(t,n._key);throw new bt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function $3(t,e){if(!Array.isArray(t)||t.length===0)throw new bt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pN(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new bt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ij{convertValue(e,n="none"){switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Yt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return su(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Hg].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ei(s.doubleValue));return new Uo(n)}convertGeoPoint(e){return new jo(ei(e.latitude),ei(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const n=$c(e);return new vr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mr.fromString(e);Vn(DC(r),9688,{name:e});const i=new Fd(r.get(1),r.get(3)),a=new zt(r.popFirst(5));return i.isEqual(n)||Ol(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class j0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends fN{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(Qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bu._jsonSchema={type:ui("string",Bu._jsonSchemaVersion),bundleSource:ui("string","DocumentSnapshot"),bundleName:ui("string"),bundle:ui("string")};class tg extends Bu{data(e={}){return super.data(e)}}class ju{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new j0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tg(this._firestore,this._userDataWriter,r.key,r,new j0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new bt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new tg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new j0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new tg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new j0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Dj(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(Qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ju._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt(61501,{type:t})}}ju._jsonSchemaVersion="firestore/querySnapshot/1.0",ju._jsonSchema={type:ui("string",ju._jsonSchemaVersion),bundleSource:ui("string","QuerySnapshot"),bundleName:ui("string"),bundle:ui("string")};class H_ extends Ij{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,n)}}function Nv(t){t=Fo(t,lu);const e=Fo(t.firestore,Yu),n=O_(e),r=new H_(e);return hN(t._query),mj(n,t._query).then(i=>new ju(e,r,t,i))}function Vi(t,e,n,...r){t=Fo(t,fi);const i=Fo(t.firestore,Yu),a=F_(i);let s;return s=typeof(e=Ws(e))=="string"||e instanceof t2?Sj(a,"updateDoc",t._key,e,n,r):Aj(a,"updateDoc",t._key,e),q_(i,[s.toMutation(t._key,so.exists(!0))])}function uc(t){return q_(Fo(t.firestore,Yu),[new v_(t._key,so.none())])}function xl(t,e){const n=Fo(t.firestore,Yu),r=Tr(t),i=Lj(t.converter,e);return q_(n,[Ej(F_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,so.exists(!1))]).then(()=>r)}function No(t,...e){var l,c,u;t=Ws(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||W3(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W3(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(u=d.complete)==null?void 0:u.bind(d)}let a,s,o;if(t instanceof fi)s=Fo(t.firestore,Yu),o=g_(t._key.path),a={next:d=>{e[r]&&e[r](kj(s,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Fo(t,lu);s=Fo(d.firestore,Yu),o=d._query;const g=new H_(s);a={next:f=>{e[r]&&e[r](new ju(s,g,d,f))},error:e[r+1],complete:e[r+2]},hN(t._query)}return function(g,f,x,v){const _=new nN(v),y=new $C(f,_,x);return g.asyncQueue.enqueueAndForget(async()=>WC(await D5(g),y)),()=>{_.Nu(),g.asyncQueue.enqueueAndForget(async()=>GC(await D5(g),y))}}(O_(s),o,i,a)}function q_(t,e){return function(r,i){const a=new Uc;return r.asyncQueue.enqueueAndForget(async()=>ij(await gj(r),i,a)),a.promise}(O_(t),e)}function kj(t,e,n){const r=n.docs.get(e._key),i=new H_(t);return new Bu(t,i,e._key,r,new j0(n.hasPendingWrites,n.fromCache),e.converter)}function gN(){return new M_("serverTimestamp")}(function(e,n=!0){(function(i){$h=i})(cF),Wc(new Dl("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Yu(new AF(r.getProvider("auth-internal")),new CF(s,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new bt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Po(Xb,Kb,e),Po(Xb,Kb,"esm2020")})();const mN="@firebase/installations",W_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e4,yN=`w:${W_}`,xN="FIS_v2",Oj="https://firebaseinstallations.googleapis.com/v1",Pj=60*60*1e3,Fj="installations",Mj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xu=new Vm(Fj,Mj,Bj);function _N(t){return t instanceof au&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN({projectId:t}){return`${Oj}/projects/${t}/installations`}function bN(t){return{token:t.token,requestStatus:2,expiresIn:Uj(t.expiresIn),creationTime:Date.now()}}async function EN(t,e){const r=(await e.json()).error;return Xu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jj(t,{refreshToken:e}){const n=AN(t);return n.append("Authorization",Vj(e)),n}async function SN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Uj(t){return Number(t.replace("s","000"))}function Vj(t){return`${xN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wN(t),i=AN(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:xN,appId:t.appId,sdkVersion:yN},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await SN(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bN(c.authToken)}}else throw await EN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=/^[cdef][\w-]{21}$/,O5="";function Wj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Gj(t);return qj.test(n)?n:O5}catch{return O5}}function Gj(t){return Hj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Map;function NN(t,e){const n=s2(t);RN(n,e),$j(n,e)}function RN(t,e){const n=CN.get(t);if(n)for(const r of n)r(e)}function $j(t,e){const n=Yj();n&&n.postMessage({key:t,fid:e}),Xj()}let Iu=null;function Yj(){return!Iu&&"BroadcastChannel"in self&&(Iu=new BroadcastChannel("[Firebase] FID Change"),Iu.onmessage=t=>{RN(t.data.key,t.data.fid)}),Iu}function Xj(){CN.size===0&&Iu&&(Iu.close(),Iu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-installations-database",Qj=1,Ku="firebase-installations-store";let Rv=null;function G_(){return Rv||(Rv=k8(Kj,Qj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ku)}}})),Rv}async function Qg(t,e){const n=s2(t),i=(await G_()).transaction(Ku,"readwrite"),a=i.objectStore(Ku),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&NN(t,e.fid),e}async function IN(t){const e=s2(t),r=(await G_()).transaction(Ku,"readwrite");await r.objectStore(Ku).delete(e),await r.done}async function o2(t,e){const n=s2(t),i=(await G_()).transaction(Ku,"readwrite"),a=i.objectStore(Ku),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&NN(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $_(t){let e;const n=await o2(t.appConfig,r=>{const i=Zj(r),a=Jj(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===O5?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Zj(t){const e=t||{fid:Wj(),registrationStatus:0};return LN(e)}function Jj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tU(t)}:{installationEntry:e}}async function eU(t,e){try{const n=await zj(t,e);return Qg(t.appConfig,n)}catch(n){throw _N(n)&&n.customData.serverCode===409?await IN(t.appConfig):await Qg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tU(t){let e=await Y3(t.appConfig);for(;e.registrationStatus===1;)await TN(100),e=await Y3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $_(t);return r||n}return e}function Y3(t){return o2(t,e=>{if(!e)throw Xu.create("installation-not-found");return LN(e)})}function LN(t){return nU(t)?{fid:t.fid,registrationStatus:0}:t}function nU(t){return t.registrationStatus===1&&t.registrationTime+vN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU({appConfig:t,heartbeatServiceProvider:e},n){const r=iU(t,n),i=jj(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:yN,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await SN(()=>fetch(r,o));if(l.ok){const c=await l.json();return bN(c)}else throw await EN("Generate Auth Token",l)}function iU(t,{fid:e}){return`${wN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(t,e=!1){let n;const r=await o2(t.appConfig,a=>{if(!DN(a))throw Xu.create("not-registered");const s=a.authToken;if(!e&&oU(s))return a;if(s.requestStatus===1)return n=aU(t,e),a;{if(!navigator.onLine)throw Xu.create("app-offline");const o=cU(a);return n=sU(t,o),o}});return n?await n:r.authToken}async function aU(t,e){let n=await X3(t.appConfig);for(;n.authToken.requestStatus===1;)await TN(100),n=await X3(t.appConfig);const r=n.authToken;return r.requestStatus===0?Y_(t,e):r}function X3(t){return o2(t,e=>{if(!DN(e))throw Xu.create("not-registered");const n=e.authToken;return uU(n)?{...e,authToken:{requestStatus:0}}:e})}async function sU(t,e){try{const n=await rU(t,e),r={...e,authToken:n};return await Qg(t.appConfig,r),n}catch(n){if(_N(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Qg(t.appConfig,r)}throw n}}function DN(t){return t!==void 0&&t.registrationStatus===2}function oU(t){return t.requestStatus===2&&!lU(t)}function lU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pj}function cU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function uU(t){return t.requestStatus===1&&t.requestTime+vN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t){const e=t,{installationEntry:n,registrationPromise:r}=await $_(e);return r?r.catch(console.error):Y_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e=!1){const n=t;return await dU(n),(await Y_(n,e)).token}async function dU(t){const{registrationPromise:e}=await $_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){if(!t||!t.options)throw Iv("App Configuration");if(!t.name)throw Iv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iv(t){return Xu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="installations",gU="installations-internal",mU=t=>{const e=t.getProvider("app").getImmediate(),n=pU(e),r=m1(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vU=t=>{const e=t.getProvider("app").getImmediate(),n=m1(e,kN).getImmediate();return{getId:()=>fU(n),getToken:i=>hU(n,i)}};function yU(){Wc(new Dl(kN,mU,"PUBLIC")),Wc(new Dl(gU,vU,"PRIVATE"))}yU();Po(mN,W_);Po(mN,W_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="analytics",xU="firebase_id",_U="origin",wU=60*1e3,bU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",X_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new s_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bs=new Vm("analytics","Analytics",EU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){if(!t.startsWith(X_)){const e=bs.create("invalid-gtag-resource",{gtagURL:t});return za.warn(e.message),""}return t}function ON(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function TU(t,e){const n=SU("firebase-js-sdk-policy",{createScriptURL:AU}),r=document.createElement("script"),i=`${X_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function CU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function NU(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await ON(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){za.error(o)}t("config",i,a)}async function RU(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await ON(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){za.error(a)}}function IU(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await RU(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await NU(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){za.error(o)}}return i}function LU(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=IU(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function DU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(X_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=30,OU=1e3;class PU{constructor(e={},n=OU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PN=new PU;function FU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function MU(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:FU(n)},i=bU.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw bs.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function BU(t,e=PN,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw bs.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw bs.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new VU;return setTimeout(async()=>{o.abort()},wU),FN({appId:r,apiKey:i,measurementId:a},s,o,e)}async function FN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PN){var o;const{appId:a,measurementId:s}=t;try{await jU(r,e)}catch(l){if(s)return za.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await MU(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!UU(c)){if(i.deleteThrottleMetadata(a),s)return za.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?jb(n,i.intervalMillis,kU):jb(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),za.debug(`Calling attemptFetch again in ${u} millis`),FN(t,d,r,i)}}function jU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(bs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UU(t){if(!(t instanceof au)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(){if(R8())try{await I8()}catch(t){return za.warn(bs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return za.warn(bs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qU(t,e,n,r,i,a,s){const o=BU(t);o.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&za.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>za.error(g)),e.push(o);const l=HU().then(g=>{if(g)return r.getId()}),[c,u]=await Promise.all([o,l]);DU(a)||TU(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[_U]="firebase",d.update=!0,u!=null&&(d[xU]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.app=e}_delete(){return delete od[this.app.options.appId],Promise.resolve()}}let od={},K3=[];const Q3={};let Lv="dataLayer",GU="gtag",Z3,MN,J3=!1;function $U(){const t=[];if(tP()&&t.push("This is a browser extension environment."),rP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bs.create("invalid-analytics-context",{errorInfo:e});za.warn(n.message)}}function YU(t,e,n){$U();const r=t.options.appId;if(!r)throw bs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)za.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bs.create("no-api-key");if(od[r]!=null)throw bs.create("already-exists",{id:r});if(!J3){CU(Lv);const{wrappedGtag:a,gtagCore:s}=LU(od,K3,Q3,Lv,GU);MN=a,Z3=s,J3=!0}return od[r]=qU(t,K3,Q3,e,Z3,Lv,n),new WU(t)}function XU(t=P8()){t=Ws(t);const e=m1(t,Zg);return e.isInitialized()?e.getImmediate():KU(t)}function KU(t,e={}){const n=m1(t,Zg);if(n.isInitialized()){const i=n.getImmediate();if(Dd(e,n.getOptions()))return i;throw bs.create("already-initialized")}return n.initialize({options:e})}function QU(t,e,n,r){t=Ws(t),zU(MN,od[t.app.options.appId],e,n,r).catch(i=>za.error(i))}const eE="@firebase/analytics",tE="0.10.18";function ZU(){Wc(new Dl(Zg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return YU(r,i,n)},"PUBLIC")),Wc(new Dl("analytics-internal",t,"PRIVATE")),Po(eE,tE),Po(eE,tE,"esm2020");function t(e){try{const n=e.getProvider(Zg).getImmediate();return{logEvent:(r,i,a)=>QU(n,r,i,a)}}catch(n){throw bs.create("interop-component-reg-failed",{reason:n})}}}ZU();const JU={apiKey:"AIzaSyDBU6OnM2RvNYGwETM9NXwTFtvzZZFFjFU",authDomain:"mi-app-a1f48.firebaseapp.com",projectId:"mi-app-a1f48",storageBucket:"mi-app-a1f48.firebasestorage.app",messagingSenderId:"552466856051",appId:"1:552466856051:web:f65801de3fdd84f13d5206",measurementId:"G-JY211TDZGG"},BN=O8(JU);XU(BN);const rn=yj(BN);function eV(){const t=jm(),[e,n]=ge.useState(!1),[r,i]=ge.useState(""),[a,s]=ge.useState(""),[o,l]=ge.useState(""),[c,u]=ge.useState(0),[d,g]=ge.useState(!1),[f,x]=ge.useState(""),[v,_]=ge.useState(!1),[y,T]=ge.useState(!1),[C,O]=ge.useState(""),[Y,ae]=ge.useState(!1),[L,I]=ge.useState(!1),[A,F]=ge.useState([]),S=()=>{u(ie=>ie+1),c>=4&&(g(!0),u(0)),setTimeout(()=>u(0),2e3)},D=()=>t("/cliente"),P=()=>{l("cocina"),n(!0)},ue=()=>{l("admin"),n(!0)},me=()=>{o==="cocina"&&r==="1234"?t("/cocina"):o==="admin"&&r==="4321"?t("/administrador"):s("Contrasea incorrecta ")},de=()=>{_(!0),O("")},we=async()=>{T(!1),ae(!0);try{await xl(jr(rn,"llamadasMesero"),{mesa:f,mensaje:`La mesa ${f} solicita atencin del mesero.`,fecha:gN(),atendido:!1}),O(` El mesero fue notificado para la mesa ${f}.`),x(""),_(!1)}catch(ie){console.error("Error al enviar la llamada:",ie),O(" Ocurri un error al llamar al mesero.")}ae(!1)};ge.useEffect(()=>{if(!L)return;const ie=No(jr(rn,"pedidos"),_e=>{const Ie=_e.docs.map(N=>({id:N.id,...N.data()}));F(Ie)});return()=>ie()},[L]);const J=A.filter(ie=>ie.estado!=="entregado"&&ie.estado!=="completado"&&ie.estado!=="Entregado"&&ie.estado!=="Completado");return b.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40",style:{backgroundImage:"url(/mi-app/fondo.jpeg)"}}),b.jsx("div",{className:"absolute inset-0 bg-black/60"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center px-4 text-center",children:[b.jsx("img",{src:"/mi-app/logo.png",alt:"Logo restaurante",onClick:S,className:"w-32 h-32 mb-6 drop-shadow-2xl cursor-pointer hover:scale-105 transition-transform duration-300"}),b.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 text-yellow-400 drop-shadow-lg",children:" Mi Restaurante"}),b.jsx("p",{className:"text-gray-300 mb-8 text-sm md:text-base",children:"Disfruta la mejor experiencia gastronmica. Bienvenido!"}),b.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-sm",children:[b.jsx("button",{onClick:D,className:"bg-gradient-to-r from-green-400 to-green-500 text-black font-bold text-lg py-4 rounded-xl shadow-xl hover:scale-105 transition-transform duration-300",children:" Bienvenido"}),b.jsx("button",{onClick:de,disabled:Y,className:"bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold text-lg py-4 rounded-xl shadow-xl hover:scale-105 transition-transform duration-300",children:" Llamar al Mesero"}),b.jsx("button",{onClick:()=>I(!L),className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold text-lg py-4 rounded-xl shadow-xl hover:scale-105 transition-transform duration-300",children:L?" Ocultar Estado":" Ver Estado del Pedido"})]}),C&&b.jsx("p",{className:"text-green-400 mt-4 font-medium text-center",children:C}),L&&b.jsxs("div",{className:"mt-10 w-full max-w-4xl bg-white/10 backdrop-blur-md border border-yellow-500/30 rounded-2xl p-6 shadow-2xl",children:[b.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4 flex items-center justify-center",children:" Estado de la Cocina"}),J.length===0?b.jsx("p",{className:"text-gray-300 text-center",children:"No hay pedidos en preparacin actualmente."}):b.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:J.map(ie=>b.jsxs("div",{className:"bg-black/50 border border-yellow-600/30 rounded-xl p-4 hover:bg-black/60 transition",children:[b.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-2",children:ie.mesa?`Mesa ${ie.mesa}`:"Pedido sin mesa"}),b.jsxs("p",{className:"text-sm text-gray-300 mb-1",children:["Estado:"," ",b.jsx("span",{className:"text-yellow-400 font-medium",children:ie.estado||"Pendiente"})]}),ie.items&&ie.items.length>0&&b.jsx("ul",{className:"mt-2 text-sm text-gray-400 list-disc pl-5",children:ie.items.map((_e,Ie)=>b.jsx("li",{children:_e.nombre},Ie))})]},ie.id))})]}),d&&b.jsxs("div",{className:"flex flex-col items-center space-y-3 mt-10",children:[b.jsx("button",{onClick:P,className:"bg-gray-800/60 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition",children:" Cocina"}),b.jsx("button",{onClick:ue,className:"bg-blue-800/60 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:" Administrador"})]})]}),e&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl shadow-2xl w-80 text-center",children:[b.jsx("h2",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Ingresar contrasea"}),b.jsx("input",{type:"password",value:r,onChange:ie=>i(ie.target.value),className:"w-full px-3 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 mb-3 focus:outline-none",placeholder:"Contrasea"}),a&&b.jsx("p",{className:"text-red-400 text-sm mb-2",children:a}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("button",{onClick:me,className:"bg-green-500 text-black px-4 py-2 rounded-lg font-bold hover:bg-green-400",children:"Entrar"}),b.jsx("button",{onClick:()=>{n(!1),i(""),s("")},className:"bg-red-500 text-black px-4 py-2 rounded-lg font-bold hover:bg-red-400",children:"Cancelar"})]})]})}),v&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-80 text-center border-4 border-gray-200",style:{backgroundColor:"#ffffff",color:"#000000"},children:[b.jsx("h2",{className:"text-xl font-black mb-4",style:{color:"#000000"},children:"Nmero de mesa"}),b.jsx("input",{type:"text",value:f,onChange:ie=>x(ie.target.value),placeholder:"Ej: 5",className:"border-3 border-gray-500 p-3 rounded-lg w-full text-center mb-4 font-bold text-xl bg-gray-100",style:{backgroundColor:"#f3f4f6",color:"#000000",borderColor:"#6b7280"}}),b.jsxs("div",{className:"flex justify-center gap-4",children:[b.jsx("button",{onClick:()=>{f.trim()?T(!0):alert("Por favor, escribe el nmero de mesa.")},className:"font-black px-6 py-3 rounded-lg shadow-lg text-lg",style:{backgroundColor:"#16a34a",color:"#000000",border:"2px solid #000000"},children:"Continuar"}),b.jsx("button",{onClick:()=>_(!1),className:"font-black px-6 py-3 rounded-lg shadow-lg text-lg",style:{backgroundColor:"#9ca3af",color:"#000000",border:"2px solid #000000"},children:"Cancelar"})]})]})}),y&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl w-80 text-center border-4 border-gray-200",style:{backgroundColor:"#ffffff",color:"#000000"},children:[b.jsxs("p",{className:"mb-4 font-black text-xl",style:{color:"#000000"},children:["Llamar al mesero para la mesa ",f,"?"]}),b.jsxs("div",{className:"flex justify-center gap-4",children:[b.jsx("button",{onClick:we,className:"font-black px-6 py-3 rounded-lg shadow-lg text-lg",style:{backgroundColor:"#16a34a",color:"#000000",border:"2px solid #000000"},children:"S, llamar"}),b.jsx("button",{onClick:()=>T(!1),className:"font-black px-6 py-3 rounded-lg shadow-lg text-lg",style:{backgroundColor:"#9ca3af",color:"#000000",border:"2px solid #000000"},children:"Cancelar"})]})]})})]})}const jN=ge.createContext();function tV({children:t}){const[e,n]=ge.useState([]),r=s=>{n(o=>[...o,s])},i=s=>{n(o=>o.filter(l=>l.id!==s))},a=async(s,o)=>{if(e.length===0){alert(" No hay platos en el carrito.");return}if(!s||s<1||s>10){alert(" Ingresa un nmero de mesa vlido (110).");return}if(!o){alert(" Selecciona un mtodo de pago.");return}const l={mesa:s,metodoPago:o,items:e.map(c=>({nombre:c.nombre,imagen:c.imagen,base:c.base,extras:c.extras,precioBase:c.precioBase,modificado:c.modificado||!1})),estado:"pendiente",tiempoRestante:1800,creado:vr.now()};try{await xl(jr(rn,"pedidos"),l),console.log(" Pedido guardado en Firebase:",l),alert(` Pedido enviado a la cocina.
 Mesa: ${s}
 Pago: ${o}`),n([])}catch(c){console.error(" Error al guardar pedido en Firebase:",c),alert("Hubo un error al enviar el pedido. Intenta de nuevo.")}};return b.jsx(jN.Provider,{value:{carrito:e,agregarAlCarrito:r,eliminarDelCarrito:i,finalizarPedido:a},children:t})}const mp=2e3,cr="#D4AF37",Ds="#b78f1b";function wu(t){return t.toLocaleString("es-CO")}function nV(){const t=jm(),{carrito:e,agregarAlCarrito:n,eliminarDelCarrito:r,finalizarPedido:i}=ge.useContext(jN),[a,s]=ge.useState([]),[o,l]=ge.useState(!0),[c,u]=ge.useState({open:!1,plato:null,base:[],extrasInput:"",extras:[]}),[d,g]=ge.useState(null),[f,x]=ge.useState(""),[v,_]=ge.useState(""),[y,T]=ge.useState(!1),[C,O]=ge.useState(!1),[Y,ae]=ge.useState("Todas"),[L,I]=ge.useState(""),[A,F]=ge.useState(!1),[S,D]=ge.useState(""),[P,ue]=ge.useState(!1),[me,de]=ge.useState(!1),[we,J]=ge.useState({x:window.innerWidth-80,y:window.innerHeight-200}),[ie,_e]=ge.useState(!1),[Ie,N]=ge.useState({x:0,y:0}),j=ge.useRef(null);ge.useEffect(()=>{const ke=No(jr(rn,"menu"),ct=>{const tn=ct.docs.map(_t=>({id:_t.id,..._t.data()})).filter(_t=>_t.disponible!==!1).map(_t=>({..._t,imagen:_t.imagen&&!_t.imagen.startsWith("http")?`/mi-app/${_t.imagen}`:_t.imagen,precio:Number(_t.precio)||0,categoria:_t.categoria||"Sin categora"}));s(tn),l(!1)});return()=>ke()},[]),ge.useEffect(()=>{if(!d)return;const ke=setTimeout(()=>g(null),2e3);return()=>clearTimeout(ke)},[d]);const B=ke=>{ke.preventDefault(),_e(!0);const ct=j.current.getBoundingClientRect();N({x:ke.clientX-ct.left,y:ke.clientY-ct.top})},z=ke=>{ke.preventDefault(),_e(!0);const ct=ke.touches[0],vt=j.current.getBoundingClientRect();N({x:ct.clientX-vt.left,y:ct.clientY-vt.top})},Q=ke=>{if(!ie)return;ke.preventDefault();const ct=ke.clientX-Ie.x,vt=ke.clientY-Ie.y,Lt=window.innerWidth-70,tn=window.innerHeight-70;J({x:Math.max(10,Math.min(ct,Lt)),y:Math.max(10,Math.min(vt,tn))})},he=ke=>{if(!ie)return;ke.preventDefault();const ct=ke.touches[0],vt=ct.clientX-Ie.x,Lt=ct.clientY-Ie.y,tn=window.innerWidth-70,_t=window.innerHeight-70;J({x:Math.max(10,Math.min(vt,tn)),y:Math.max(10,Math.min(Lt,_t))})},xe=()=>{_e(!1)},pe=()=>{_e(!1)};ge.useEffect(()=>{if(ie)return document.addEventListener("mousemove",Q),document.addEventListener("mouseup",xe),document.addEventListener("touchmove",he),document.addEventListener("touchend",pe),()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",xe),document.removeEventListener("touchmove",he),document.removeEventListener("touchend",pe)}},[ie,Ie]),ge.useEffect(()=>{const ke=()=>{J(ct=>({x:Math.min(ct.x,window.innerWidth-70),y:Math.min(ct.y,window.innerHeight-70)}))};return window.addEventListener("resize",ke),()=>window.removeEventListener("resize",ke)},[]);const Ee=ke=>{u({open:!0,plato:ke,base:(ke.ingredientes||[]).map(ct=>({name:ct,kept:!0})),extrasInput:"",extras:[]})},He=ke=>{u(ct=>{const vt=[...ct.base];return vt[ke].kept=!vt[ke].kept,{...ct,base:vt}})},Ye=()=>{const ke=c.extrasInput.trim();ke&&u(ct=>({...ct,extras:[...ct.extras,ke],extrasInput:""}))},ot=ke=>{u(ct=>{const vt=[...ct.extras];return vt.splice(ke,1),{...ct,extras:vt}})},De=()=>c.plato?c.plato.precio+c.extras.length*mp:0,fe=()=>{if(!c.plato)return;const ke=c.base.filter(Lt=>Lt.kept).map(Lt=>Lt.name),ct=ke.length!==(c.plato.ingredientes||[]).length||c.extras.length>0,vt={id:Date.now()+Math.random(),nombre:c.plato.nombre,imagen:c.plato.imagen,base:ke,extras:[...c.extras],precioBase:c.plato.precio,modificado:ct};n(vt),g(` ${vt.nombre} agregado`),u({open:!1,plato:null,base:[],extrasInput:"",extras:[]})},wt=()=>e.reduce((ke,ct)=>ke+ct.precioBase+ct.extras.length*mp,0),Ke=e.length,xt=()=>{if(e.length===0)return alert(" El carrito est vaco.");if(!f)return alert(" Selecciona un mtodo de pago.");const ke=parseInt(v,10);if(!ke||ke<1||ke>999)return alert(" Debes ingresar un nmero de mesa vlido.");i(ke,f),g(" Pedido enviado a la cocina"),x(""),_(""),O(!1),T(!0),setTimeout(()=>{T(!1),t("/")},1800)},Ve=()=>{D(""),ue(!1),F(!0)},ft=async()=>{if(!S||isNaN(Number(S))){alert("Ingresa un nmero de mesa vlido.");return}de(!0);try{await xl(jr(rn,"llamadasMesero"),{mesa:String(S),mensaje:`La mesa ${S} solicita atencin`,fecha:gN(),atendido:!1}),g(" Mesero notificado"),F(!1)}catch(ke){console.error("Error guardar llamada:",ke),g(" Error al notificar al mesero")}de(!1)},st=["Todas",...new Set(a.map(ke=>ke.categoria))],Ht=a.filter(ke=>{const ct=Y==="Todas"||ke.categoria===Y,vt=ke.nombre.toLowerCase().includes(L.toLowerCase());return ct&&vt});return b.jsxs("div",{className:"min-h-screen text-white pb-8",style:{background:"linear-gradient(180deg, rgba(8,8,8,1) 0%, rgba(18,18,18,1) 60%, rgba(20,14,8,0.8) 100%)",backgroundBlendMode:"overlay"},children:[b.jsxs("header",{className:"sticky top-0 z-40 bg-black/60 backdrop-blur-sm border-b border-opacity-10 p-3 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{style:{color:"#EDE6D6",fontSize:12},children:" Restaurante"}),b.jsx("div",{style:{color:cr,fontWeight:700,letterSpacing:"-0.2px"},children:"Restaurante Gourmet Dorado"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:Ve,"aria-label":"Llamar al mesero",className:"rounded-full p-2 shadow-md hover:scale-105 transition-transform",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`},children:""}),b.jsxs("button",{onClick:()=>O(!0),className:"relative rounded-full p-2 shadow-md flex items-center justify-center",style:{background:"rgba(255,255,255,0.03)"},"aria-label":"Ver carrito",children:[b.jsx("span",{style:{color:cr},children:""}),Ke>0&&b.jsx("span",{className:"absolute -top-2 -right-2 text-xs font-bold flex items-center justify-center",style:{width:20,height:20,borderRadius:999,background:cr,color:"#061217",animation:"smallPulse 1.6s infinite"},children:Ke})]})]})]}),b.jsxs("div",{className:"sticky top-[64px] z-40 backdrop-blur-sm p-3 space-y-3 border-b border-black/20",style:{background:"linear-gradient(180deg, rgba(212,175,55,0.06) 0%, rgba(0,0,0,0.75) 100%)"},children:[b.jsx("div",{className:"flex gap-2",children:b.jsx("input",{type:"text",placeholder:"Buscar plato...",value:L,onChange:ke=>I(ke.target.value),className:"flex-1 px-4 py-2 rounded-xl border border-black bg-black/40 placeholder-gray-400 text-white focus:outline-none",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)"}})}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:st.map((ke,ct)=>b.jsx("button",{onClick:()=>ae(ke),className:"whitespace-nowrap px-3 py-1 rounded-full text-sm font-medium border transition-all duration-200",style:Y===ke?{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217",borderColor:"rgba(0,0,0,0)"}:{background:"transparent",color:"#EDE6D6",borderColor:"rgba(212,175,55,0.15)"},children:ke},ct))})]}),b.jsx("main",{className:"p-3",children:o?b.jsx("div",{className:"text-center py-20 text-gray-400",children:"Cargando men..."}):Ht.length===0?b.jsx("div",{className:"text-center py-20 text-gray-400",children:"No se encontraron platos."}):b.jsx("div",{className:"grid grid-cols-1 gap-4",children:Ht.map(ke=>{var ct;return b.jsxs("article",{className:"rounded-2xl overflow-hidden",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",boxShadow:"0 8px 20px rgba(0,0,0,0.6)"},children:[b.jsx("div",{className:"w-full h-44 relative",children:b.jsx("img",{src:ke.imagen,alt:ke.nombre,className:"w-full h-full object-cover",loading:"lazy",style:{display:"block"}})}),b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex justify-between items-start gap-3",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"text-lg font-semibold",style:{color:"#F7F3EE"},children:ke.nombre}),b.jsx("p",{className:"text-sm mt-1",style:{color:"#CFC7BE"},children:(ct=ke.ingredientes)==null?void 0:ct.join(", ")})]}),b.jsx("div",{style:{width:0}})]}),b.jsxs("div",{className:"mt-4 space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"flex gap-2",children:b.jsx("button",{onClick:()=>Ee(ke),className:"px-3 py-1 text-sm rounded-md font-semibold shadow-sm",style:{background:"#111",color:cr},children:" Personalizar"})}),b.jsx("div",{className:"text-sm font-semibold",style:{color:cr},children:`$${wu(ke.precio)}`})]}),b.jsx("button",{onClick:()=>{const vt={id:Date.now()+Math.random(),nombre:ke.nombre,imagen:ke.imagen,base:ke.ingredientes||[],extras:[],precioBase:ke.precio,modificado:!1};n(vt),g(` ${ke.nombre} agregado`)},className:"w-full py-3 rounded-xl font-bold shadow hover:scale-[1.01] transition-transform",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},"aria-label":`Comprar ${ke.nombre}`,children:" Comprar"})]})]})]},ke.id)})})}),Ke>0&&b.jsxs("div",{ref:j,className:`fixed z-50 select-none ${ie?"cursor-grabbing":"cursor-grab"}`,style:{left:we.x,top:we.y,width:"60px",height:"60px"},onMouseDown:B,onTouchStart:z,children:[b.jsxs("div",{className:"relative w-full h-full rounded-full shadow-2xl flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95",style:{background:`radial-gradient(circle at 30% 30%, ${cr}, ${Ds})`,boxShadow:"0 8px 25px rgba(212,175,55,0.4), 0 0 0 3px rgba(212,175,55,0.1)"},onClick:ke=>{ie||O(!0)},children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("div",{className:"absolute -top-2 -right-2 text-xs font-bold flex items-center justify-center",style:{width:22,height:22,borderRadius:"50%",background:"#FF4444",color:"white",border:"2px solid white",animation:"bubblePulse 2s infinite"},children:Ke}),b.jsxs("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 px-2 py-1 rounded-full text-xs font-semibold whitespace-nowrap",style:{background:"rgba(0,0,0,0.8)",color:cr,backdropFilter:"blur(10px)"},children:["$",wu(wt())]})]}),ie&&b.jsx("div",{className:"absolute inset-0 rounded-full animate-ping",style:{background:"rgba(212,175,55,0.3)",transform:"scale(1.3)"}})]}),C&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-end md:items-center justify-center",children:b.jsxs("div",{className:"w-full max-w-md rounded-t-2xl md:rounded-2xl shadow-xl p-4 md:p-6",style:{background:"#0d0d0d",border:"1px solid rgba(212,175,55,0.08)"},children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h2",{className:"text-lg font-semibold",style:{color:cr},children:" Tu pedido"}),b.jsx("button",{onClick:()=>O(!1),className:"text-2xl",style:{color:"#EDE6D6"},children:""})]}),e.length===0?b.jsx("p",{className:"text-center text-gray-400 py-8",children:"An no has agregado platos."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto mb-4",children:e.map(ke=>b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:ke.imagen,alt:ke.nombre,className:"w-14 h-14 object-cover rounded-md"}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold",style:{color:"#F7F3EE"},children:ke.nombre}),b.jsx("div",{className:"text-xs",style:{color:"#CFC7BE"},children:ke.extras.length>0?`+ ${ke.extras.join(", ")}`:ke.base.join(", ")})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"font-semibold",style:{color:cr},children:`$${wu(ke.precioBase+ke.extras.length*mp)}`}),b.jsx("button",{onClick:()=>r(ke.id),className:"text-xs text-red-500 mt-1",children:"Eliminar"})]})]},ke.id))}),b.jsxs("div",{className:"border-t pt-3",style:{borderColor:"rgba(255,255,255,0.04)"},children:[b.jsx("label",{className:"text-sm font-semibold",style:{color:"#EDE6D6"},children:"Nmero de mesa"}),b.jsx("input",{type:"number",value:v,onChange:ke=>_(ke.target.value),placeholder:"Ej: 5",className:"w-full mt-2 mb-3 rounded-lg px-3 py-2 focus:outline-none",style:{background:"#0b0b0b",color:"#EDE6D6",border:"1px solid rgba(255,255,255,0.03)"}}),b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm",style:{color:"#CFC7BE"},children:"Total"}),b.jsx("div",{className:"text-xl font-bold",style:{color:cr},children:`$${wu(wt())}`})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>x("Efectivo"),className:"px-3 py-2 rounded-lg text-sm",style:f==="Efectivo"?{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"}:{background:"#111",color:"#EDE6D6"},children:" Efectivo"}),b.jsx("button",{onClick:()=>x("QR"),className:"px-3 py-2 rounded-lg text-sm",style:f==="QR"?{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"}:{background:"#111",color:"#EDE6D6"},children:" QR"})]})]}),b.jsx("button",{onClick:xt,className:"w-full py-3 rounded-xl font-semibold",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},children:"Finalizar pedido"})]})]})]})}),c.open&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",children:b.jsxs("div",{className:"w-full max-w-md rounded-2xl p-4 shadow-xl",style:{background:"#0d0d0d",border:"1px solid rgba(212,175,55,0.06)"},children:[b.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[b.jsx("img",{src:c.plato.imagen,alt:c.plato.nombre,className:"w-20 h-20 object-cover rounded-md"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold",style:{color:"#F7F3EE"},children:c.plato.nombre}),b.jsxs("div",{className:"text-sm",style:{color:"#CFC7BE"},children:["$",wu(c.plato.precio)]})]}),b.jsx("button",{onClick:()=>u({open:!1,plato:null,base:[],extrasInput:"",extras:[]}),className:"ml-auto text-2xl",style:{color:"#EDE6D6"},children:""})]}),b.jsx("p",{className:"text-sm mb-2",style:{color:"#CFC7BE"},children:"Quita o mantiene ingredientes base"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.base.map((ke,ct)=>b.jsx("button",{onClick:()=>He(ct),className:"px-2 py-1 rounded-full text-sm border",style:ke.kept?{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217",borderColor:"transparent"}:{background:"#111",color:"#EDE6D6",borderColor:"rgba(255,255,255,0.02)"},children:ke.name},ct))}),b.jsxs("p",{className:"text-sm mb-1",style:{color:"#CFC7BE"},children:["Agregar ingredientes extra (+$",wu(mp)," c/u)"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsx("input",{value:c.extrasInput,onChange:ke=>u(ct=>({...ct,extrasInput:ke.target.value})),onKeyDown:ke=>ke.key==="Enter"&&Ye(),className:"flex-1 rounded-lg px-3 py-2",placeholder:"Escribe y presiona Enter",style:{background:"#0b0b0b",color:"#EDE6D6",border:"1px solid rgba(255,255,255,0.03)"}}),b.jsx("button",{onClick:Ye,className:"px-3 py-2 rounded-lg",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},children:"Agregar"})]}),c.extras.length>0&&b.jsxs("div",{className:"mb-3",children:[b.jsx("div",{className:"text-sm mb-2",style:{color:cr},children:"Extras aadidos"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:c.extras.map((ke,ct)=>b.jsxs("span",{className:"bg-[#111] px-2 py-1 rounded-full flex items-center gap-2",style:{color:"#EDE6D6"},children:[ke,b.jsx("button",{onClick:()=>ot(ct),className:"text-red-400",children:""})]},ct))})]}),b.jsxs("div",{className:"flex items-center justify-between mt-4",children:[b.jsxs("div",{className:"font-bold",style:{color:cr},children:["Total: $",wu(De())]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>u({open:!1,plato:null,base:[],extrasInput:"",extras:[]}),className:"px-3 py-2 rounded-lg",style:{background:"#111",color:"#EDE6D6"},children:"Cancelar"}),b.jsx("button",{onClick:fe,className:"px-3 py-2 rounded-lg",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},children:"Confirmar"})]})]})]})}),A&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",children:b.jsx("div",{className:"w-full max-w-sm rounded-2xl p-5 shadow-xl",style:{background:"#0d0d0d",border:"1px solid rgba(212,175,55,0.06)"},children:P?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:cr},children:"Confirmar llamada"}),b.jsxs("p",{className:"text-sm mb-4",style:{color:"#CFC7BE"},children:["Deseas notificar al mesero para la mesa ",b.jsx("span",{className:"font-semibold",style:{color:"#F7F3EE"},children:S}),"?"]}),b.jsxs("div",{className:"flex gap-3 justify-center",children:[b.jsx("button",{onClick:()=>ue(!1),className:"px-4 py-2 rounded-lg",style:{background:"#111",color:"#EDE6D6"},children:"Volver"}),b.jsx("button",{onClick:ft,className:"px-4 py-2 rounded-lg",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},disabled:me,children:me?"Enviando...":"S, notificar"})]})]}):b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:cr},children:" Llamar al mesero"}),b.jsx("p",{className:"text-sm mb-3",style:{color:"#CFC7BE"},children:"Ingresa tu nmero de mesa para notificar al mesero."}),b.jsx("input",{type:"number",value:S,onChange:ke=>D(ke.target.value),placeholder:"Ej: 5",className:"w-full rounded-lg px-3 py-2 mb-3",style:{background:"#0b0b0b",color:"#EDE6D6",border:"1px solid rgba(255,255,255,0.03)"}}),b.jsxs("div",{className:"flex gap-3 justify-center",children:[b.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 rounded-lg",style:{background:"#111",color:"#EDE6D6"},children:"Cancelar"}),b.jsx("button",{onClick:()=>{if(!S||isNaN(Number(S))){alert("Ingresa un nmero de mesa vlido");return}ue(!0)},className:"px-4 py-2 rounded-lg",style:{background:`linear-gradient(90deg, ${cr} 0%, ${Ds} 100%)`,color:"#061217"},children:"Continuar"})]})]})})}),d&&b.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl shadow-lg z-50",style:{background:cr,color:"#061217"},children:d}),y&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center",children:b.jsxs("div",{className:"p-6 rounded-2xl text-center",style:{background:"#0d0d0d",border:"1px solid rgba(212,175,55,0.06)"},children:[b.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:cr},children:" Gracias!"}),b.jsx("p",{className:"text-gray-300",children:"Tu pedido est en camino a la cocina."})]})}),b.jsx("style",{children:`
        @keyframes smallPulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.08); }
        }
        
        @keyframes bubblePulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
        
        .select-none {
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }
      `})]})}function rV(){const[t,e]=ge.useState([]),[n,r]=ge.useState([]),[i,a]=ge.useState(!1),[s,o]=ge.useState(null),[l,c]=ge.useState([]),[u,d]=ge.useState([]),[g,f]=ge.useState(!1),[x,v]=ge.useState(null),[_,y]=ge.useState(""),T=()=>{const J=new(window.AudioContext||window.webkitAudioContext),ie=J.createOscillator(),_e=J.createGain();ie.type="square",ie.frequency.setValueAtTime(880,J.currentTime),_e.gain.setValueAtTime(.3,J.currentTime),ie.connect(_e),_e.connect(J.destination),ie.start(),ie.stop(J.currentTime+.3)};ge.useEffect(()=>{console.log(" Iniciando listener de pedidos en Cocina...");const J=No(jr(rn,"pedidos"),ie=>{const _e=ie.docs.map(N=>({id:N.id,...N.data()}));l.length>0&&C(_e,l),c(_e);const Ie=_e.filter(N=>N.estado!=="entregado");e(Ie)});return()=>J()},[l]),ge.useEffect(()=>{console.log(" Iniciando listener de cambios pendientes...");const J=eg(jr(rn,"comunicacionCocinaAdmin"),Rj("estado","==","pendiente")),ie=No(J,_e=>{const Ie=_e.docs.map(N=>({id:N.id,...N.data()}));console.log(" Cambios pendientes recibidos:",Ie),d(Ie),Ie.length>0&&T()});return()=>ie()},[]);const C=(J,ie)=>{J.forEach(_e=>{const Ie=ie.find(N=>N.id===_e.id);if(Ie&&_e.items&&Ie.items){if(_e.items.length>Ie.items.length&&_e.items.slice(Ie.items.length).forEach(j=>{O(_e.id,_e.mesa,"agregado",`Se agreg "${j.nombre}" al pedido`,{item:j,cambiosEspecificos:{tipo:"NUEVO_PLATO",detalles:{nombre:j.nombre,cantidad:j.cantidad||1,ingredientesPersonalizados:j.ingredientesPersonalizados||"",extras:j.extras||[],base:j.base||[]}}})}),_e.items.length<Ie.items.length){const N=Ie.items[_e.items.length];O(_e.id,_e.mesa,"eliminado",`Se elimin "${(N==null?void 0:N.nombre)||"un plato"}" del pedido`,{cambiosEspecificos:{tipo:"PLATO_ELIMINADO",detalles:{nombre:(N==null?void 0:N.nombre)||"Plato eliminado",cantidad:(N==null?void 0:N.cantidad)||1}}})}_e.items.forEach((N,j)=>{const B=Ie.items[j];if(B&&N.modificadoPorAdmin&&!B.modificadoPorAdmin){let z=[],Q={tipo:"PLATO_MODIFICADO",detalles:{nombre:N.nombre,cambios:{}}};if(N.ingredientesPersonalizados!==B.ingredientesPersonalizados){const Ye=B.ingredientesPersonalizados||"Sin modificaciones",ot=N.ingredientesPersonalizados||"Sin modificaciones";z.push({campo:"Ingredientes personalizados",antes:Ye,despues:ot}),Q.detalles.cambios.ingredientes={antes:Ye,despues:ot}}const he=B.extras||[],xe=N.extras||[];JSON.stringify(he)!==JSON.stringify(xe)&&(z.push({campo:"Extras",antes:he.length>0?he.join(", "):"Sin extras",despues:xe.length>0?xe.join(", "):"Sin extras"}),Q.detalles.cambios.extras={antes:he,despues:xe}),N.cantidad!==B.cantidad&&(z.push({campo:"Cantidad",antes:B.cantidad||1,despues:N.cantidad||1}),Q.detalles.cambios.cantidad={antes:B.cantidad||1,despues:N.cantidad||1});const pe=B.base||[],Ee=N.base||[];JSON.stringify(pe)!==JSON.stringify(Ee)&&(z.push({campo:"Base",antes:pe.length>0?pe.join(", "):"Sin base especificada",despues:Ee.length>0?Ee.join(", "):"Sin base especificada"}),Q.detalles.cambios.base={antes:pe,despues:Ee});const He=`"${N.nombre}" modificado por el administrador`;O(_e.id,_e.mesa,"modificado",He,{item:N,cambiosDetallados:z,cambiosEspecificos:Q,itemIndex:j})}})}})},O=async(J,ie,_e,Ie,N)=>{try{console.log(" Creando solicitud de confirmacin:",{pedidoId:J,tipoCambio:_e,descripcion:Ie,detalles:N}),await xl(jr(rn,"comunicacionCocinaAdmin"),{pedidoId:J,mesa:ie,tipoCambio:_e,descripcion:Ie,detalles:N,estado:"pendiente",fechaCreacion:new Date,timestampCreacion:Date.now()})}catch(j){console.error("Error al crear solicitud de confirmacin:",j)}},Y=async J=>{try{const ie=Tr(rn,"comunicacionCocinaAdmin",J);await Vi(ie,{estado:"aceptado",fechaRespuesta:new Date,timestampRespuesta:Date.now()}),console.log(" Cambio confirmado:",J),A(" Cambio confirmado y notificado al administrador","exito")}catch(ie){console.error("Error al confirmar cambio:",ie),A(" Error al confirmar el cambio","error")}},ae=J=>{v(J),f(!0)},L=async()=>{if(!x||!_.trim()){alert("Por favor, proporciona un motivo para el rechazo.");return}try{const J=Tr(rn,"comunicacionCocinaAdmin",x.id);await Vi(J,{estado:"rechazado",motivoRechazo:_.trim(),fechaRespuesta:new Date,timestampRespuesta:Date.now()}),console.log(" Cambio rechazado:",x.id,"Motivo:",_),A(" Cambio rechazado y notificado al administrador","advertencia"),I()}catch(J){console.error("Error al rechazar cambio:",J),A(" Error al rechazar el cambio","error")}},I=()=>{f(!1),v(null),y("")},A=(J,ie="general")=>{const _e={id:Date.now(),mensaje:J,tipo:ie,timestamp:new Date().toLocaleTimeString()};r(Ie=>[_e,...Ie.slice(0,4)]),setTimeout(()=>{r(Ie=>Ie.filter(N=>N.id!==_e.id))},6e3)},F=async()=>{const J=prompt("Cul es el motivo de la llamada? (opcional)");try{await xl(jr(rn,"llamadasCocina"),{mensaje:" Cocina necesita asistencia",motivo:J||"Solicitud general de la cocina",timestamp:new Date().toISOString(),atendida:!1}),T(),o(" Administrador notificado exitosamente"),setTimeout(()=>o(null),4e3)}catch(ie){console.error("Error al enviar aviso al administrador:",ie),o(" No se pudo enviar el aviso."),setTimeout(()=>o(null),4e3)}},S=J=>{const ie=Math.floor(J/60),_e=J%60;return`${ie.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`},D=async J=>{try{const ie=Tr(rn,"pedidos",J);await Vi(ie,{estado:"preparando"}),A(" Pedido marcado como preparando. El administrador fue notificado.","exito")}catch(ie){console.error(" Error al actualizar el pedido:",ie),alert(" Hubo un problema al actualizar el pedido.")}},P=async J=>{try{const ie=Tr(rn,"pedidos",J);await Vi(ie,{estado:"listo"}),A(" Pedido marcado como listo. El administrador fue notificado.","exito")}catch(ie){console.error(" Error al actualizar el pedido:",ie),alert(" Hubo un problema al actualizar el pedido.")}},ue=async J=>{try{const ie=Tr(rn,"pedidos",J);await Vi(ie,{estado:"entregado"}),A(" Pedido entregado. El administrador fue notificado.","exito")}catch(ie){console.error(" Error al marcar entregado:",ie),alert(" Hubo un problema al actualizar el pedido.")}},me=J=>{switch(J){case"exito":return{bg:"#d4edda",border:"#28a745",text:"#155724"};case"error":return{bg:"#f8d7da",border:"#dc3545",text:"#721c24"};case"advertencia":return{bg:"#fff3cd",border:"#ffc107",text:"#856404"};default:return{bg:"#e2e3e5",border:"#6c757d",text:"#383d41"}}},de=J=>{switch(J){case"agregado":return{bg:"#e8f5e8",border:"#28a745",text:"#155724"};case"eliminado":return{bg:"#ffeaea",border:"#dc3545",text:"#721c24"};case"modificado":return{bg:"#fff8e1",border:"#ff9800",text:"#e65100"};default:return{bg:"#f0f0f0",border:"#666",text:"#333"}}},we=J=>{var _e,Ie,N,j,B;if(!((_e=J.detalles)!=null&&_e.cambiosDetallados)&&!((Ie=J.detalles)!=null&&Ie.cambiosEspecificos))return null;const ie=J.detalles.cambiosEspecificos;return b.jsxs("div",{style:{background:"#f8f9fa",border:"2px solid #dee2e6",borderRadius:"8px",padding:"12px",marginTop:"10px"},children:[b.jsx("h4",{style:{color:"#212529",margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold"},children:" DETALLES DEL CAMBIO:"}),(ie==null?void 0:ie.tipo)==="NUEVO_PLATO"&&b.jsxs("div",{children:[b.jsxs("p",{style:{margin:"5px 0",color:"#155724",fontWeight:"bold"},children:[" ",b.jsx("strong",{children:"NUEVO PLATO AGREGADO:"})]}),b.jsxs("ul",{style:{margin:"5px 0 5px 20px",color:"#212529"},children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Plato:"})," ",ie.detalles.nombre]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Cantidad:"})," ",ie.detalles.cantidad]}),((N=ie.detalles.base)==null?void 0:N.length)>0&&b.jsxs("li",{children:[b.jsx("strong",{children:"Base:"})," ",ie.detalles.base.join(", ")]}),((j=ie.detalles.extras)==null?void 0:j.length)>0&&b.jsxs("li",{children:[b.jsx("strong",{children:"Extras:"})," ",ie.detalles.extras.join(", ")]}),ie.detalles.ingredientesPersonalizados&&b.jsxs("li",{children:[b.jsx("strong",{children:"Instrucciones especiales:"})," ",ie.detalles.ingredientesPersonalizados]})]})]}),(ie==null?void 0:ie.tipo)==="PLATO_ELIMINADO"&&b.jsxs("div",{children:[b.jsxs("p",{style:{margin:"5px 0",color:"#721c24",fontWeight:"bold"},children:[" ",b.jsx("strong",{children:"PLATO ELIMINADO:"})]}),b.jsxs("ul",{style:{margin:"5px 0 5px 20px",color:"#212529"},children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Plato:"})," ",ie.detalles.nombre]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Cantidad eliminada:"})," ",ie.detalles.cantidad]})]})]}),(ie==null?void 0:ie.tipo)==="PLATO_MODIFICADO"&&b.jsxs("div",{children:[b.jsxs("p",{style:{margin:"5px 0",color:"#e65100",fontWeight:"bold"},children:[" ",b.jsx("strong",{children:"PLATO MODIFICADO:"})," ",ie.detalles.nombre]}),Object.keys(ie.detalles.cambios).map(z=>{const Q=ie.detalles.cambios[z];return b.jsxs("div",{style:{background:"#fff3e0",border:"1px solid #ff9800",borderRadius:"6px",padding:"8px",margin:"8px 0"},children:[b.jsxs("p",{style:{margin:"0 0 5px 0",fontWeight:"bold",color:"#e65100"},children:[" ",z.toUpperCase(),":"]}),b.jsx("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:b.jsxs("div",{style:{flex:1},children:[b.jsxs("p",{style:{margin:"2px 0",fontSize:"13px"},children:[b.jsx("strong",{children:" ANTES:"})," ",b.jsx("span",{style:{color:"#666"},children:Array.isArray(Q.antes)?Q.antes.length>0?Q.antes.join(", "):"Ninguno":Q.antes})]}),b.jsxs("p",{style:{margin:"2px 0",fontSize:"13px"},children:[b.jsx("strong",{children:" AHORA:"})," ",b.jsx("span",{style:{color:"#d63384",fontWeight:"bold"},children:Array.isArray(Q.despues)?Q.despues.length>0?Q.despues.join(", "):"Ninguno":Q.despues})]})]})})]},z)})]}),((B=J.detalles)==null?void 0:B.cambiosDetallados)&&J.detalles.cambiosDetallados.length>0&&b.jsxs("div",{style:{marginTop:"10px"},children:[b.jsx("p",{style:{margin:"5px 0",fontWeight:"bold",color:"#212529"},children:" Resumen de cambios:"}),J.detalles.cambiosDetallados.map((z,Q)=>b.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"4px",padding:"6px",margin:"4px 0",fontSize:"12px"},children:[b.jsxs("strong",{children:[z.campo,":"]})," ",z.antes,"  ",b.jsx("strong",{style:{color:"#d63384"},children:z.despues})]},Q))]})]})};return b.jsxs("div",{style:{padding:"20px",backgroundColor:"#f8f9fa",minHeight:"100vh",position:"relative",fontFamily:"Arial, sans-serif"},children:[b.jsx("h1",{style:{textAlign:"center",marginBottom:"20px",color:"#212529",fontWeight:"bold"},children:" Pedidos en Cocina"}),u.length>0&&b.jsxs("div",{style:{marginBottom:"25px"},children:[b.jsxs("h2",{style:{color:"#dc3545",textAlign:"center",marginBottom:"15px",fontSize:"20px",fontWeight:"bold",animation:"parpadeoTexto 1s ease-in-out infinite alternate"},children:[" CAMBIOS PENDIENTES DE CONFIRMACIN (",u.length,")"]}),u.map(J=>{var _e,Ie;const ie=de(J.tipoCambio);return b.jsx("div",{style:{background:ie.bg,border:`3px solid ${ie.border}`,borderRadius:"12px",padding:"15px",marginBottom:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",animation:"pulsarSuave 2s ease-in-out infinite"},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsxs("h3",{style:{color:ie.text,margin:"0 0 8px 0",fontSize:"16px",fontWeight:"bold"},children:[" Mesa ",J.mesa," - ",J.tipoCambio.toUpperCase()]}),b.jsxs("p",{style:{color:ie.text,margin:"5px 0",fontSize:"14px",lineHeight:"1.4"},children:[" ",J.descripcion]}),b.jsxs("small",{style:{color:ie.text,opacity:.8,fontSize:"12px"},children:[" ",(Ie=(_e=J.fechaCreacion)==null?void 0:_e.toDate)!=null&&Ie.call(_e)?J.fechaCreacion.toDate().toLocaleString():new Date(J.timestampCreacion).toLocaleString()]}),we(J)]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"15px"},children:[b.jsx("button",{onClick:()=>Y(J.id),style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",transition:"all 0.3s ease",minWidth:"120px"},onMouseOver:N=>{N.target.style.backgroundColor="#34ce57",N.target.style.transform="scale(1.05)"},onMouseOut:N=>{N.target.style.backgroundColor="#28a745",N.target.style.transform="scale(1)"},children:" CONFIRMAR"}),b.jsx("button",{onClick:()=>ae(J),style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",transition:"all 0.3s ease",minWidth:"120px"},onMouseOver:N=>{N.target.style.backgroundColor="#e74c3c",N.target.style.transform="scale(1.05)"},onMouseOut:N=>{N.target.style.backgroundColor="#dc3545",N.target.style.transform="scale(1)"},children:" NO SE PUEDE"})]})]})},J.id)})]}),s&&b.jsx("div",{style:{background:s.includes("")?"#f8d7da":"#d4edda",color:s.includes("")?"#721c24":"#155724",textAlign:"center",fontWeight:"bold",padding:"10px",borderRadius:"8px",marginBottom:"15px",border:s.includes("")?"2px solid #dc3545":"2px solid #28a745"},children:s}),b.jsx("div",{style:{textAlign:"center",marginBottom:"25px"},children:b.jsx("button",{onClick:F,style:{padding:"12px 24px",fontSize:"16px",backgroundColor:"#ff6b00",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(255, 107, 0, 0.3)",transition:"all 0.3s ease"},onMouseOver:J=>{J.target.style.backgroundColor="#ff8c00",J.target.style.transform="scale(1.05)"},onMouseOut:J=>{J.target.style.backgroundColor="#ff6b00",J.target.style.transform="scale(1)"},children:" Llamar al Administrador"})}),b.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:999,maxWidth:"350px"},children:n.map(J=>{const ie=me(J.tipo);return b.jsx("div",{style:{background:ie.bg,color:ie.text,border:`2px solid ${ie.border}`,padding:"12px 18px",borderRadius:"8px",marginBottom:"10px",fontWeight:"bold",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",fontSize:"14px",lineHeight:"1.3"},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[b.jsx("span",{style:{flex:1},children:J.mensaje}),b.jsx("small",{style:{color:ie.text,opacity:.8,marginLeft:"8px",fontSize:"11px"},children:J.timestamp})]})},J.id)})}),g&&b.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:b.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"25px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[b.jsx("h3",{style:{color:"#dc3545",marginBottom:"15px",textAlign:"center",fontSize:"20px"},children:" Rechazar Cambio"}),x&&b.jsxs("div",{children:[b.jsx("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",marginBottom:"15px",border:"2px solid #dee2e6"},children:b.jsxs("p",{style:{color:"#212529",margin:"0",fontWeight:"bold"},children:[" Mesa ",x.mesa,": ",x.descripcion]})}),we(x)]}),b.jsx("label",{style:{display:"block",color:"#212529",fontWeight:"bold",marginBottom:"8px",marginTop:"15px"},children:"Por qu no se puede hacer este cambio?"}),b.jsx("textarea",{value:_,onChange:J=>y(J.target.value),placeholder:"Ej: No tenemos ese ingrediente disponible, El plato ya est en preparacin, No tenemos tiempo suficiente, etc.",style:{width:"100%",height:"100px",padding:"10px",border:"2px solid #dee2e6",borderRadius:"6px",fontSize:"14px",resize:"vertical",fontFamily:"Arial, sans-serif"}}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[b.jsx("button",{onClick:I,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"Cancelar"}),b.jsx("button",{onClick:L,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:" Confirmar Rechazo"})]})]})}),t.length===0?b.jsx("p",{style:{textAlign:"center",color:"#495057",fontSize:"18px",marginTop:"40px",fontWeight:"500"},children:" No hay pedidos en la cocina."}):t.map(J=>{var ie;return b.jsxs("div",{style:{border:"2px solid #343a40",borderRadius:"10px",padding:"15px",marginBottom:"15px",backgroundColor:J.estado==="entregado"?"#d4edda":J.estado==="listo"?"#cce5ff":J.estado==="preparando"?"#fff3cd":"#ffffff",transition:"background-color 0.3s ease"},children:[b.jsxs("h2",{style:{color:"#212529",marginBottom:"10px"},children:[" Pedido #",J.id.slice(-5)]}),b.jsxs("p",{style:{color:"#343a40",fontSize:"16px",margin:"5px 0"},children:[" Mesa: ",b.jsx("strong",{style:{color:"#000000"},children:J.mesa})]}),b.jsxs("p",{style:{color:"#343a40",fontSize:"16px",margin:"5px 0"},children:[" Pago: ",b.jsx("strong",{style:{color:"#000000"},children:J.metodoPago})]}),b.jsxs("p",{style:{color:"#343a40",fontSize:"16px",margin:"5px 0"},children:[" Fecha:"," ",b.jsx("strong",{style:{color:"#000000"},children:(ie=J.fecha)!=null&&ie.toDate?J.fecha.toDate().toLocaleString():"Sin fecha registrada"})]}),J.tiempoRestante!==void 0&&b.jsxs("p",{style:{color:"#343a40",fontSize:"16px",margin:"5px 0"},children:[" Tiempo restante:"," ",b.jsx("strong",{style:{color:"#dc3545"},children:S(J.tiempoRestante)})]}),b.jsxs("div",{style:{marginTop:"15px"},children:[b.jsx("h3",{style:{color:"#212529",marginBottom:"10px"},children:" Platos:"}),J.items.map((_e,Ie)=>b.jsxs("div",{style:{marginBottom:"12px",padding:"12px",border:_e.modificadoPorAdmin?"3px solid #dc3545":"2px solid #dee2e6",borderRadius:"8px",backgroundColor:_e.modificadoPorAdmin?"#fff5f5":"#ffffff",position:"relative"},children:[_e.modificadoPorAdmin&&b.jsx("div",{style:{position:"absolute",top:"-8px",right:"10px",background:"#dc3545",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold"},children:" MODIFICADO"}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[b.jsx("h4",{style:{color:"#000000",margin:0,fontSize:"18px",fontWeight:"bold"},children:_e.nombre}),_e.cantidad&&b.jsxs("span",{style:{background:"#007bff",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:["x",_e.cantidad]})]}),_e.base&&_e.base.length>0&&b.jsxs("p",{style:{color:"#495057",margin:"5px 0",fontSize:"14px"},children:[" ",b.jsx("strong",{children:"Base:"})," ",_e.base.join(", ")]}),_e.extras&&_e.extras.length>0&&b.jsxs("p",{style:{color:"#495057",margin:"5px 0",fontSize:"14px"},children:[" ",b.jsx("strong",{children:"Extras:"})," ",_e.extras.join(", ")]}),_e.ingredientesPersonalizados&&b.jsx("div",{style:{background:"#e3f2fd",border:"2px solid #2196f3",borderRadius:"6px",padding:"8px",marginTop:"8px"},children:b.jsxs("p",{style:{color:"#0d47a1",margin:0,fontSize:"14px",fontWeight:"bold"},children:[" ",b.jsx("strong",{children:"Instrucciones especiales:"})," ",_e.ingredientesPersonalizados]})}),_e.fechaModificacion&&b.jsxs("p",{style:{color:"#6c757d",fontSize:"12px",margin:"8px 0 0 0",fontStyle:"italic"},children:[" Modificado: ",new Date(_e.fechaModificacion).toLocaleString()]})]},Ie))]}),b.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"15px",flexWrap:"wrap"},children:[b.jsx("button",{onClick:()=>D(J.id),style:{flex:1,minWidth:"160px",padding:"12px 15px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"all 0.3s ease"},onMouseOver:_e=>{_e.target.style.backgroundColor="#1fb6cb",_e.target.style.transform="translateY(-2px)"},onMouseOut:_e=>{_e.target.style.backgroundColor="#17a2b8",_e.target.style.transform="translateY(0px)"},children:" Marcar preparando"}),b.jsx("button",{onClick:()=>P(J.id),style:{flex:1,minWidth:"160px",padding:"12px 15px",backgroundColor:"#ffc107",color:"#000000",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"all 0.3s ease"},onMouseOver:_e=>{_e.target.style.backgroundColor="#ffca2c",_e.target.style.transform="translateY(-2px)"},onMouseOut:_e=>{_e.target.style.backgroundColor="#ffc107",_e.target.style.transform="translateY(0px)"},children:" Marcar como listo"}),b.jsx("button",{onClick:()=>ue(J.id),style:{flex:1,minWidth:"160px",padding:"12px 15px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"all 0.3s ease"},onMouseOver:_e=>{_e.target.style.backgroundColor="#34ce57",_e.target.style.transform="translateY(-2px)"},onMouseOut:_e=>{_e.target.style.backgroundColor="#28a745",_e.target.style.transform="translateY(0px)"},children:" Marcar como entregado"})]})]},J.id)}),b.jsx("style",{children:`
        @keyframes parpadeoTexto {
          from { opacity: 1; }
          to { opacity: 0.6; }
        }
        
        @keyframes pulsarSuave {
          0% { transform: scale(1); }
          50% { transform: scale(1.02); }
          100% { transform: scale(1); }
        }
        
        * {
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
        textarea:focus {
          outline: none;
          border-color: #007bff !important;
          box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
        }
      `})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Jg={};Jg.version="0.18.5";var UN=1252,iV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],VN=function(t){iV.indexOf(t)!=-1&&(UN=t)};function aV(){VN(1252)}var zd=function(t){VN(t)};function sV(){zd(1200),aV()}var vp=function(e){return String.fromCharCode(e)},nE=function(e){return String.fromCharCode(e)},em,Tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hd(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),a=n>>2,r=t.charCodeAt(c++),s=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=Tc.charAt(a)+Tc.charAt(s)+Tc.charAt(o)+Tc.charAt(l);return e}function Fl(t){var e="",n=0,r=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=Tc.indexOf(t.charAt(c++)),s=Tc.indexOf(t.charAt(c++)),n=a<<2|s>>4,e+=String.fromCharCode(n),o=Tc.indexOf(t.charAt(c++)),r=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Tc.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Mn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Vl=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Qu(t){return Mn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function rE(t){return Mn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ro=function(e){return Mn?Vl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function l2(t){if(typeof ArrayBuffer>"u")return ro(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function E1(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function oV(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var $i=Mn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Vl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function lV(t){for(var e=[],n=0,r=t.length+250,i=Qu(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Qu(65535),r=65530)}return e.push(i.slice(0,n)),$i(e)}var ld=/\u0000/g,yp=/[\u0001-\u0006]/g;function fh(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function io(t,e){var n=""+t;return n.length>=e?n:zr("0",e-n.length)+n}function K_(t,e){var n=""+t;return n.length>=e?n:zr(" ",e-n.length)+n}function tm(t,e){var n=""+t;return n.length>=e?n:n+zr(" ",e-n.length)}function cV(t,e){var n=""+Math.round(t);return n.length>=e?n:zr("0",e-n.length)+n}function uV(t,e){var n=""+t;return n.length>=e?n:zr("0",e-n.length)+n}var iE=Math.pow(2,32);function Af(t,e){if(t>iE||t<-iE)return cV(t,e);var n=Math.round(t);return uV(n,e)}function nm(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var aE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fV(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},sE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},hV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function rm(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(i);c<e&&(d=Math.floor(i),o=d*s+a,u=d*c+l,!(i-d<5e-8));)i=1/(i-d),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!n)return[0,r*o,u];var g=Math.floor(r*o/u);return[g,r*o-g*u,u]}function xp(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=xV(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var zN=new Date(1899,11,31,0,0,0),dV=zN.getTime(),pV=new Date(1900,2,1,0,0,0);function HN(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=pV&&(n+=24*60*60*1e3),(n-(dV+(t.getTimezoneOffset()-zN.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Q_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gV(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function mV(t){var e=t<0?12:11,n=Q_(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function vV(t){var e=Q_(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yV(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=mV(t):e===10?n=t.toFixed(10).substr(0,12):n=vV(t),Q_(gV(n.toUpperCase()))}function P5(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yV(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Zc(14,HN(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function xV(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function _V(t,e,n,r){var i="",a=0,s=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return Dv[n.m-1][1];case 5:return Dv[n.m-1][0];default:return Dv[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return aE[n.q][0];default:return aE[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?io(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=io(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?io(l,c):"";return u}function Cc(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var qN=/%/g;function wV(t,e,n){var r=e.replace(qN,""),i=e.length-r.length;return Al(t,r,n*Math.pow(10,2*i))+zr("%",i)}function bV(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Al(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function WN(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+WN(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var GN=/# (\?+)( ?)\/( ?)(\d+)/;function EV(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?zr(" ",t[1].length+1+t[4].length):K_(s,t[1].length)+t[2]+"/"+t[3]+io(o,t[4].length))}function AV(t,e,n){return n+(e===0?"":""+e)+zr(" ",t[1].length+2+t[4].length)}var $N=/^#*0*\.([0#]+)/,YN=/\).*[0#]/,XN=/\(###\) ###\\?-####/;function Ea(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function oE(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function lE(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function SV(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function TV(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ks(t,e,n){if(t.charCodeAt(0)===40&&!e.match(YN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ks("n",r,n):"("+ks("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return bV(t,e,n);if(e.indexOf("%")!==-1)return wV(t,e,n);if(e.indexOf("E")!==-1)return WN(e,n);if(e.charCodeAt(0)===36)return"$"+ks(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Af(l,e.length);if(e.match(/^[#?]+$/))return i=Af(n,0),i==="0"&&(i=""),i.length>e.length?i:Ea(e.substr(0,e.length-i.length))+i;if(a=e.match(GN))return EV(a,l,c);if(e.match(/^#+0+$/))return c+Af(l,e.length-e.indexOf("0"));if(a=e.match($N))return i=oE(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Ea(a[1])).replace(/\.$/,"."+Ea(a[1])).replace(/\.(\d*)$/,function(x,v){return"."+v+zr("0",Ea(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+oE(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Cc(Af(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ks(t,e,-n):Cc(""+(Math.floor(n)+SV(n,a[1].length)))+"."+io(lE(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ks(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fh(ks(t,e.replace(/[\\-]/g,""),n)),s=0,fh(fh(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(e.match(XN))return i=ks(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=rm(l,Math.pow(10,s)-1,!1),i=""+c,u=Al("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=tm(o[2],s),u.length<a[4].length&&(u=Ea(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=rm(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?K_(o[1],s)+a[2]+"/"+a[3]+tm(o[2],s):zr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Af(n,0),e.length<=i.length?i:Ea(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=e.indexOf(".")-s,g=e.length-i.length-d;return Ea(e.substr(0,d)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=lE(n,a[1].length),n<0?"-"+ks(t,e,-n):Cc(TV(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(s,a[1].length);switch(e){case"###,##0.00":return ks(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=Cc(Af(l,0));return f!=="0"?c+f:"";case"###,###.00":return ks(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ks(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function CV(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Al(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function NV(t,e,n){var r=e.replace(qN,""),i=e.length-r.length;return Al(t,r,n*Math.pow(10,2*i))+zr("%",i)}function KN(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+KN(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ao(t,e,n){if(t.charCodeAt(0)===40&&!e.match(YN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ao("n",r,n):"("+Ao("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return CV(t,e,n);if(e.indexOf("%")!==-1)return NV(t,e,n);if(e.indexOf("E")!==-1)return KN(e,n);if(e.charCodeAt(0)===36)return"$"+Ao(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+io(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Ea(e.substr(0,e.length-i.length))+i;if(a=e.match(GN))return AV(a,l,c);if(e.match(/^#+0+$/))return c+io(l,e.length-e.indexOf("0"));if(a=e.match($N))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ea(a[1])).replace(/\.$/,"."+Ea(a[1])),i=i.replace(/\.(\d*)$/,function(x,v){return"."+v+zr("0",Ea(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Cc(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ao(t,e,-n):Cc(""+n)+"."+zr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Ao(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fh(Ao(t,e.replace(/[\\-]/g,""),n)),s=0,fh(fh(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(e.match(XN))return i=Ao(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=rm(l,Math.pow(10,s)-1,!1),i=""+c,u=Al("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=tm(o[2],s),u.length<a[4].length&&(u=Ea(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=rm(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?K_(o[1],s)+a[2]+"/"+a[3]+tm(o[2],s):zr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Ea(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=e.indexOf(".")-s,g=e.length-i.length-d;return Ea(e.substr(0,d)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ao(t,e,-n):Cc(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Cc(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return Ao(t,e.slice(0,e.lastIndexOf(".")),n)+Ea(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Al(t,e,n){return(n|0)===n?Ao(t,e,n):ks(t,e,n)}function RV(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var QN=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ZN(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":nm(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(QN))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function IV(t,e,n,r){for(var i=[],a="",s=0,o="",l="t",c,u,d,g="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!nm(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(d=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(d);i[i.length]={t:"t",v:a},++s;break;case"\\":var f=t.charAt(++s),x=f==="("||f===")"?f:"t";i[i.length]={t:x,v:f},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=xp(e,n,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=xp(e,n),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=xp(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",g="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,g="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",s+=5,g="h"):(v.t="t",++s),c==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(QN)){if(c==null&&(c=xp(e,n),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ZN(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var _=0,y=0,T;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=g,l="h",_<1&&(_=1);break;case"s":(T=i[s].v.match(/\.0+$/))&&(y=Math.max(y,T[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[s].v.match(/[Hh]/)&&(_=1),_<2&&i[s].v.match(/[Mm]/)&&(_=2),_<3&&i[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var C="",O;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=_V(i[s].t.charCodeAt(0),i[s].v,c,y),i[s].t="t";break;case"n":case"?":for(O=s+1;i[O]!=null&&((o=i[O].t)==="?"||o==="D"||(o===" "||o==="t")&&i[O+1]!=null&&(i[O+1].t==="?"||i[O+1].t==="t"&&i[O+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[O].v==="/"||i[O].v===" "&&i[O+1]!=null&&i[O+1].t=="?"));)i[s].v+=i[O].v,i[O]={v:"",t:";"},++O;C+=i[s].v,s=O-1;break;case"G":i[s].t="t",i[s].v=P5(e,n);break}var Y="",ae,L;if(C.length>0){C.charCodeAt(0)==40?(ae=e<0&&C.charCodeAt(0)===45?-e:e,L=Al("n",C,ae)):(ae=e<0&&r>1?-e:e,L=Al("n",C,ae),ae<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),O=L.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var A=i.length;if(I===i.length&&L.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(O>=i[s].v.length-1?(O-=i[s].v.length,i[s].v=L.substr(O+1,i[s].v.length)):O<0?i[s].v="":(i[s].v=L.substr(0,O+1),O=-1),i[s].t="t",A=s);O>=0&&A<i.length&&(i[A].v=L.substr(0,O+1)+i[A].v)}else if(I!==i.length&&L.indexOf("E")===-1){for(O=L.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,Y=i[s].v.substr(u+1);u>=0;--u)O>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(Y=L.charAt(O--)+Y);i[s].v=Y,i[s].t="t",A=s}for(O>=0&&A<i.length&&(i[A].v=L.substr(0,O+1)+i[A].v),O=L.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(u=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,Y=i[s].v.substr(0,u);u<i[s].v.length;++u)O<L.length&&(Y+=L.charAt(O++));i[s].v=Y,i[s].t="t",A=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(ae=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Al(i[s].t,i[s].v,ae),i[s].t="t");var F="";for(s=0;s!==i.length;++s)i[s]!=null&&(F+=i[s].v);return F}var cE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uE(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function LV(t,e){var n=RV(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(cE),o=n[1].match(cE);return uE(e,s)?[r,n[0]]:uE(e,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function Zc(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:qr)[t],r==null&&(r=n.table&&n.table[sE[t]]||qr[sE[t]]),r==null&&(r=hV[t]||"General");break}if(nm(r,0))return P5(e,n);e instanceof Date&&(e=HN(e,n.date1904));var i=LV(r,e);if(nm(i[1]))return P5(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return IV(i[1],e,n,i[0])}function JN(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(qr[n]==null){e<0&&(e=n);continue}if(qr[n]==t){e=n;break}}e<0&&(e=391)}return qr[e]=t,e}function c2(t){for(var e=0;e!=392;++e)t[e]!==void 0&&JN(t[e],e)}function u2(){qr=fV()}var eR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function DV(t){var e=typeof t=="number"?qr[t]:t;return e=e.replace(eR,"(\\d+)"),new RegExp("^"+e+"$")}function kV(t,e,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(eR)||[]).forEach(function(d,g){var f=parseInt(n[g+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=f;break;case"d":a=f;break;case"h":s=f;break;case"s":l=f;break;case"m":s>=0?o=f:i=f;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&a==-1?u:c+"T"+u}var OV=function(){var t={};t.version="1.2.0";function e(){for(var L=0,I=new Array(256),A=0;A!=256;++A)L=A,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,I[A]=L;return typeof Int32Array<"u"?new Int32Array(I):I}var n=e();function r(L){var I=0,A=0,F=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)S[F]=L[F];for(F=0;F!=256;++F)for(A=L[F],I=256+F;I<4096;I+=256)A=S[I]=A>>>8^L[A&255];var D=[];for(F=1;F!=16;++F)D[F-1]=typeof Int32Array<"u"?S.subarray(F*256,F*256+256):S.slice(F*256,F*256+256);return D}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],g=i[7],f=i[8],x=i[9],v=i[10],_=i[11],y=i[12],T=i[13],C=i[14];function O(L,I){for(var A=I^-1,F=0,S=L.length;F<S;)A=A>>>8^n[(A^L.charCodeAt(F++))&255];return~A}function Y(L,I){for(var A=I^-1,F=L.length-15,S=0;S<F;)A=C[L[S++]^A&255]^T[L[S++]^A>>8&255]^y[L[S++]^A>>16&255]^_[L[S++]^A>>>24]^v[L[S++]]^x[L[S++]]^f[L[S++]]^g[L[S++]]^d[L[S++]]^u[L[S++]]^c[L[S++]]^l[L[S++]]^o[L[S++]]^s[L[S++]]^a[L[S++]]^n[L[S++]];for(F+=15;S<F;)A=A>>>8^n[(A^L[S++])&255];return~A}function ae(L,I){for(var A=I^-1,F=0,S=L.length,D=0,P=0;F<S;)D=L.charCodeAt(F++),D<128?A=A>>>8^n[(A^D)&255]:D<2048?(A=A>>>8^n[(A^(192|D>>6&31))&255],A=A>>>8^n[(A^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,P=L.charCodeAt(F++)&1023,A=A>>>8^n[(A^(240|D>>8&7))&255],A=A>>>8^n[(A^(128|D>>2&63))&255],A=A>>>8^n[(A^(128|P>>6&15|(D&3)<<4))&255],A=A>>>8^n[(A^(128|P&63))&255]):(A=A>>>8^n[(A^(224|D>>12&15))&255],A=A>>>8^n[(A^(128|D>>6&63))&255],A=A>>>8^n[(A^(128|D&63))&255]);return~A}return t.table=n,t.bstr=O,t.buf=Y,t.str=ae,t}(),nr=function(){var e={};e.version="1.2.1";function n(H,ne){for(var Z=H.split("/"),te=ne.split("/"),re=0,ce=0,Re=Math.min(Z.length,te.length);re<Re;++re){if(ce=Z[re].length-te[re].length)return ce;if(Z[re]!=te[re])return Z[re]<te[re]?-1:1}return Z.length-te.length}function r(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:r(H.slice(0,-1));var ne=H.lastIndexOf("/");return ne===-1?H:H.slice(0,ne+1)}function i(H){if(H.charAt(H.length-1)=="/")return i(H.slice(0,-1));var ne=H.lastIndexOf("/");return ne===-1?H:H.slice(ne+1)}function a(H,ne){typeof ne=="string"&&(ne=new Date(ne));var Z=ne.getHours();Z=Z<<6|ne.getMinutes(),Z=Z<<5|ne.getSeconds()>>>1,H.write_shift(2,Z);var te=ne.getFullYear()-1980;te=te<<4|ne.getMonth()+1,te=te<<5|ne.getDate(),H.write_shift(2,te)}function s(H){var ne=H.read_shift(2)&65535,Z=H.read_shift(2)&65535,te=new Date,re=Z&31;Z>>>=5;var ce=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(ce-1),te.setDate(re);var Re=ne&31;ne>>>=5;var ze=ne&63;return ne>>>=6,te.setHours(ne),te.setMinutes(ze),te.setSeconds(Re<<1),te}function o(H){hs(H,0);for(var ne={},Z=0;H.l<=H.length-4;){var te=H.read_shift(2),re=H.read_shift(2),ce=H.l+re,Re={};switch(te){case 21589:Z=H.read_shift(1),Z&1&&(Re.mtime=H.read_shift(4)),re>5&&(Z&2&&(Re.atime=H.read_shift(4)),Z&4&&(Re.ctime=H.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}H.l=ce,ne[te]=Re}return ne}var l;function c(){return l||(l={})}function u(H,ne){if(H[0]==80&&H[1]==75)return Ln(H,ne);if((H[0]|32)==109&&(H[1]|32)==105)return Ut(H,ne);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Z=3,te=512,re=0,ce=0,Re=0,ze=0,Oe=0,Pe=[],Fe=H.slice(0,512);hs(Fe,0);var it=d(Fe);switch(Z=it[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(it[1]==0)return Ln(H,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Fe=H.slice(0,te),hs(Fe,28));var ut=H.slice(0,te);g(Fe,Z);var mt=Fe.read_shift(4,"i");if(Z===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);Fe.l+=4,Re=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),ze=Fe.read_shift(4,"i"),re=Fe.read_shift(4,"i"),Oe=Fe.read_shift(4,"i"),ce=Fe.read_shift(4,"i");for(var Ze=-1,gt=0;gt<109&&(Ze=Fe.read_shift(4,"i"),!(Ze<0));++gt)Pe[gt]=Ze;var Wt=f(H,te);_(Oe,ce,Wt,te,Pe);var Sn=T(Wt,Re,Pe,te);Sn[Re].name="!Directory",re>0&&ze!==P&&(Sn[ze].name="!MiniFAT"),Sn[Pe[0]].name="!FAT",Sn.fat_addrs=Pe,Sn.ssz=te;var cn={},ir=[],Ji=[],Ti=[];C(Re,Sn,Wt,ir,re,cn,Ji,ze),x(Ji,Ti,ir),ir.shift();var ga={FileIndex:Ji,FullPaths:Ti};return ne&&ne.raw&&(ga.raw={header:ut,sectors:Wt}),ga}function d(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(ue,"Header Signature: "),H.l+=16;var ne=H.read_shift(2,"u");return[H.read_shift(2,"u"),ne]}function g(H,ne){var Z=9;switch(H.l+=2,Z=H.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function f(H,ne){for(var Z=Math.ceil(H.length/ne)-1,te=[],re=1;re<Z;++re)te[re-1]=H.slice(re*ne,(re+1)*ne);return te[Z-1]=H.slice(Z*ne),te}function x(H,ne,Z){for(var te=0,re=0,ce=0,Re=0,ze=0,Oe=Z.length,Pe=[],Fe=[];te<Oe;++te)Pe[te]=Fe[te]=te,ne[te]=Z[te];for(;ze<Fe.length;++ze)te=Fe[ze],re=H[te].L,ce=H[te].R,Re=H[te].C,Pe[te]===te&&(re!==-1&&Pe[re]!==re&&(Pe[te]=Pe[re]),ce!==-1&&Pe[ce]!==ce&&(Pe[te]=Pe[ce])),Re!==-1&&(Pe[Re]=te),re!==-1&&te!=Pe[te]&&(Pe[re]=Pe[te],Fe.lastIndexOf(re)<ze&&Fe.push(re)),ce!==-1&&te!=Pe[te]&&(Pe[ce]=Pe[te],Fe.lastIndexOf(ce)<ze&&Fe.push(ce));for(te=1;te<Oe;++te)Pe[te]===te&&(ce!==-1&&Pe[ce]!==ce?Pe[te]=Pe[ce]:re!==-1&&Pe[re]!==re&&(Pe[te]=Pe[re]));for(te=1;te<Oe;++te)if(H[te].type!==0){if(ze=te,ze!=Pe[ze])do ze=Pe[ze],ne[te]=ne[ze]+"/"+ne[te];while(ze!==0&&Pe[ze]!==-1&&ze!=Pe[ze]);Pe[te]=-1}for(ne[0]+="/",te=1;te<Oe;++te)H[te].type!==2&&(ne[te]+="/")}function v(H,ne,Z){for(var te=H.start,re=H.size,ce=[],Re=te;Z&&re>0&&Re>=0;)ce.push(ne.slice(Re*D,Re*D+D)),re-=D,Re=Cu(Z,Re*4);return ce.length===0?qe(0):$i(ce).slice(0,H.size)}function _(H,ne,Z,te,re){var ce=P;if(H===P){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Re=Z[H],ze=(te>>>2)-1;if(!Re)return;for(var Oe=0;Oe<ze&&(ce=Cu(Re,Oe*4))!==P;++Oe)re.push(ce);_(Cu(Re,te-4),ne-1,Z,te,re)}}function y(H,ne,Z,te,re){var ce=[],Re=[];re||(re=[]);var ze=te-1,Oe=0,Pe=0;for(Oe=ne;Oe>=0;){re[Oe]=!0,ce[ce.length]=Oe,Re.push(H[Oe]);var Fe=Z[Math.floor(Oe*4/te)];if(Pe=Oe*4&ze,te<4+Pe)throw new Error("FAT boundary crossed: "+Oe+" 4 "+te);if(!H[Fe])break;Oe=Cu(H[Fe],Pe)}return{nodes:ce,data:yE([Re])}}function T(H,ne,Z,te){var re=H.length,ce=[],Re=[],ze=[],Oe=[],Pe=te-1,Fe=0,it=0,ut=0,mt=0;for(Fe=0;Fe<re;++Fe)if(ze=[],ut=Fe+ne,ut>=re&&(ut-=re),!Re[ut]){Oe=[];var Ze=[];for(it=ut;it>=0;){Ze[it]=!0,Re[it]=!0,ze[ze.length]=it,Oe.push(H[it]);var gt=Z[Math.floor(it*4/te)];if(mt=it*4&Pe,te<4+mt)throw new Error("FAT boundary crossed: "+it+" 4 "+te);if(!H[gt]||(it=Cu(H[gt],mt),Ze[it]))break}ce[ut]={nodes:ze,data:yE([Oe])}}return ce}function C(H,ne,Z,te,re,ce,Re,ze){for(var Oe=0,Pe=te.length?2:0,Fe=ne[H].data,it=0,ut=0,mt;it<Fe.length;it+=128){var Ze=Fe.slice(it,it+128);hs(Ze,64),ut=Ze.read_shift(2),mt=nw(Ze,0,ut-Pe),te.push(mt);var gt={name:mt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},Wt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Wt!==0&&(gt.ct=O(Ze,Ze.l-8));var Sn=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Sn!==0&&(gt.mt=O(Ze,Ze.l-8)),gt.start=Ze.read_shift(4,"i"),gt.size=Ze.read_shift(4,"i"),gt.size<0&&gt.start<0&&(gt.size=gt.type=0,gt.start=P,gt.name=""),gt.type===5?(Oe=gt.start,re>0&&Oe!==P&&(ne[Oe].name="!StreamData")):gt.size>=4096?(gt.storage="fat",ne[gt.start]===void 0&&(ne[gt.start]=y(Z,gt.start,ne.fat_addrs,ne.ssz)),ne[gt.start].name=gt.name,gt.content=ne[gt.start].data.slice(0,gt.size)):(gt.storage="minifat",gt.size<0?gt.size=0:Oe!==P&&gt.start!==P&&ne[Oe]&&(gt.content=v(gt,ne[Oe].data,(ne[ze]||{}).data))),gt.content&&hs(gt.content,0),ce[mt]=gt,Re.push(gt)}}function O(H,ne){return new Date((ps(H,ne+4)/1e7*Math.pow(2,32)+ps(H,ne)/1e7-11644473600)*1e3)}function Y(H,ne){return c(),u(l.readFileSync(H),ne)}function ae(H,ne){var Z=ne&&ne.type;switch(Z||Mn&&Buffer.isBuffer(H)&&(Z="buffer"),Z||"base64"){case"file":return Y(H,ne);case"base64":return u(ro(Fl(H)),ne);case"binary":return u(ro(H),ne)}return u(H,ne)}function L(H,ne){var Z=ne||{},te=Z.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=te+"/",H.FileIndex[0]={name:te,type:5}),Z.CLSID&&(H.FileIndex[0].clsid=Z.CLSID),I(H)}function I(H){var ne="Sh33tJ5";if(!nr.find(H,"/"+ne)){var Z=qe(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,H.FileIndex.push({name:ne,type:2,content:Z,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ne),A(H)}}function A(H,ne){L(H);for(var Z=!1,te=!1,re=H.FullPaths.length-1;re>=0;--re){var ce=H.FileIndex[re];switch(ce.type){case 0:te?Z=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(ce.R*ce.L*ce.C)&&(Z=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ne)){var Re=new Date(1987,1,19),ze=0,Oe=Object.create?Object.create(null):{},Pe=[];for(re=0;re<H.FullPaths.length;++re)Oe[H.FullPaths[re]]=!0,H.FileIndex[re].type!==0&&Pe.push([H.FullPaths[re],H.FileIndex[re]]);for(re=0;re<Pe.length;++re){var Fe=r(Pe[re][0]);te=Oe[Fe],te||(Pe.push([Fe,{name:i(Fe).replace("/",""),type:1,clsid:de,ct:Re,mt:Re,content:null}]),Oe[Fe]=!0)}for(Pe.sort(function(mt,Ze){return n(mt[0],Ze[0])}),H.FullPaths=[],H.FileIndex=[],re=0;re<Pe.length;++re)H.FullPaths[re]=Pe[re][0],H.FileIndex[re]=Pe[re][1];for(re=0;re<Pe.length;++re){var it=H.FileIndex[re],ut=H.FullPaths[re];if(it.name=i(ut).replace("/",""),it.L=it.R=it.C=-(it.color=1),it.size=it.content?it.content.length:0,it.start=0,it.clsid=it.clsid||de,re===0)it.C=Pe.length>1?1:-1,it.size=0,it.type=5;else if(ut.slice(-1)=="/"){for(ze=re+1;ze<Pe.length&&r(H.FullPaths[ze])!=ut;++ze);for(it.C=ze>=Pe.length?-1:ze,ze=re+1;ze<Pe.length&&r(H.FullPaths[ze])!=r(ut);++ze);it.R=ze>=Pe.length?-1:ze,it.type=1}else r(H.FullPaths[re+1]||"")==r(ut)&&(it.R=re+1),it.type=2}}}function F(H,ne){var Z=ne||{};if(Z.fileType=="mad")return pa(H,Z);switch(A(H),Z.fileType){case"zip":return Kt(H,Z)}var te=function(mt){for(var Ze=0,gt=0,Wt=0;Wt<mt.FileIndex.length;++Wt){var Sn=mt.FileIndex[Wt];if(Sn.content){var cn=Sn.content.length;cn>0&&(cn<4096?Ze+=cn+63>>6:gt+=cn+511>>9)}}for(var ir=mt.FullPaths.length+3>>2,Ji=Ze+7>>3,Ti=Ze+127>>7,ga=Ji+gt+ir+Ti,Lr=ga+127>>7,Xa=Lr<=109?0:Math.ceil((Lr-109)/127);ga+Lr+Xa+127>>7>Lr;)Xa=++Lr<=109?0:Math.ceil((Lr-109)/127);var $r=[1,Xa,Lr,Ti,ir,gt,Ze,0];return mt.FileIndex[0].size=Ze<<6,$r[7]=(mt.FileIndex[0].start=$r[0]+$r[1]+$r[2]+$r[3]+$r[4]+$r[5])+($r[6]+7>>3),$r}(H),re=qe(te[7]<<9),ce=0,Re=0;{for(ce=0;ce<8;++ce)re.write_shift(1,me[ce]);for(ce=0;ce<8;++ce)re.write_shift(2,0);for(re.write_shift(2,62),re.write_shift(2,3),re.write_shift(2,65534),re.write_shift(2,9),re.write_shift(2,6),ce=0;ce<3;++ce)re.write_shift(2,0);for(re.write_shift(4,0),re.write_shift(4,te[2]),re.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),re.write_shift(4,0),re.write_shift(4,4096),re.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:P),re.write_shift(4,te[3]),re.write_shift(-4,te[1]?te[0]-1:P),re.write_shift(4,te[1]),ce=0;ce<109;++ce)re.write_shift(-4,ce<te[2]?te[1]+ce:-1)}if(te[1])for(Re=0;Re<te[1];++Re){for(;ce<236+Re*127;++ce)re.write_shift(-4,ce<te[2]?te[1]+ce:-1);re.write_shift(-4,Re===te[1]-1?P:Re+1)}var ze=function(mt){for(Re+=mt;ce<Re-1;++ce)re.write_shift(-4,ce+1);mt&&(++ce,re.write_shift(-4,P))};for(Re=ce=0,Re+=te[1];ce<Re;++ce)re.write_shift(-4,we.DIFSECT);for(Re+=te[2];ce<Re;++ce)re.write_shift(-4,we.FATSECT);ze(te[3]),ze(te[4]);for(var Oe=0,Pe=0,Fe=H.FileIndex[0];Oe<H.FileIndex.length;++Oe)Fe=H.FileIndex[Oe],Fe.content&&(Pe=Fe.content.length,!(Pe<4096)&&(Fe.start=Re,ze(Pe+511>>9)));for(ze(te[6]+7>>3);re.l&511;)re.write_shift(-4,we.ENDOFCHAIN);for(Re=ce=0,Oe=0;Oe<H.FileIndex.length;++Oe)Fe=H.FileIndex[Oe],Fe.content&&(Pe=Fe.content.length,!(!Pe||Pe>=4096)&&(Fe.start=Re,ze(Pe+63>>6)));for(;re.l&511;)re.write_shift(-4,we.ENDOFCHAIN);for(ce=0;ce<te[4]<<2;++ce){var it=H.FullPaths[ce];if(!it||it.length===0){for(Oe=0;Oe<17;++Oe)re.write_shift(4,0);for(Oe=0;Oe<3;++Oe)re.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)re.write_shift(4,0);continue}Fe=H.FileIndex[ce],ce===0&&(Fe.start=Fe.size?Fe.start-1:P);var ut=ce===0&&Z.root||Fe.name;if(Pe=2*(ut.length+1),re.write_shift(64,ut,"utf16le"),re.write_shift(2,Pe),re.write_shift(1,Fe.type),re.write_shift(1,Fe.color),re.write_shift(-4,Fe.L),re.write_shift(-4,Fe.R),re.write_shift(-4,Fe.C),Fe.clsid)re.write_shift(16,Fe.clsid,"hex");else for(Oe=0;Oe<4;++Oe)re.write_shift(4,0);re.write_shift(4,Fe.state||0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,Fe.start),re.write_shift(4,Fe.size),re.write_shift(4,0)}for(ce=1;ce<H.FileIndex.length;++ce)if(Fe=H.FileIndex[ce],Fe.size>=4096)if(re.l=Fe.start+1<<9,Mn&&Buffer.isBuffer(Fe.content))Fe.content.copy(re,re.l,0,Fe.size),re.l+=Fe.size+511&-512;else{for(Oe=0;Oe<Fe.size;++Oe)re.write_shift(1,Fe.content[Oe]);for(;Oe&511;++Oe)re.write_shift(1,0)}for(ce=1;ce<H.FileIndex.length;++ce)if(Fe=H.FileIndex[ce],Fe.size>0&&Fe.size<4096)if(Mn&&Buffer.isBuffer(Fe.content))Fe.content.copy(re,re.l,0,Fe.size),re.l+=Fe.size+63&-64;else{for(Oe=0;Oe<Fe.size;++Oe)re.write_shift(1,Fe.content[Oe]);for(;Oe&63;++Oe)re.write_shift(1,0)}if(Mn)re.l=re.length;else for(;re.l<re.length;)re.write_shift(1,0);return re}function S(H,ne){var Z=H.FullPaths.map(function(Oe){return Oe.toUpperCase()}),te=Z.map(function(Oe){var Pe=Oe.split("/");return Pe[Pe.length-(Oe.slice(-1)=="/"?2:1)]}),re=!1;ne.charCodeAt(0)===47?(re=!0,ne=Z[0].slice(0,-1)+ne):re=ne.indexOf("/")!==-1;var ce=ne.toUpperCase(),Re=re===!0?Z.indexOf(ce):te.indexOf(ce);if(Re!==-1)return H.FileIndex[Re];var ze=!ce.match(yp);for(ce=ce.replace(ld,""),ze&&(ce=ce.replace(yp,"!")),Re=0;Re<Z.length;++Re)if((ze?Z[Re].replace(yp,"!"):Z[Re]).replace(ld,"")==ce||(ze?te[Re].replace(yp,"!"):te[Re]).replace(ld,"")==ce)return H.FileIndex[Re];return null}var D=64,P=-2,ue="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",we={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(H,ne,Z){c();var te=F(H,Z);l.writeFileSync(ne,te)}function ie(H){for(var ne=new Array(H.length),Z=0;Z<H.length;++Z)ne[Z]=String.fromCharCode(H[Z]);return ne.join("")}function _e(H,ne){var Z=F(H,ne);switch(ne&&ne.type||"buffer"){case"file":return c(),l.writeFileSync(ne.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ie(Z);case"base64":return Hd(typeof Z=="string"?Z:ie(Z));case"buffer":if(Mn)return Buffer.isBuffer(Z)?Z:Vl(Z);case"array":return typeof Z=="string"?ro(Z):Z}return Z}var Ie;function N(H){try{var ne=H.InflateRaw,Z=new ne;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)Ie=H;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function j(H,ne){if(!Ie)return en(H,ne);var Z=Ie.InflateRaw,te=new Z,re=te._processChunk(H.slice(H.l),te._finishFlushFlag);return H.l+=te.bytesRead,re}function B(H){return Ie?Ie.deflateRawSync(H):jt(H)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(H){var ne=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var pe=typeof Uint8Array<"u",Ee=pe?new Uint8Array(256):[],He=0;He<256;++He)Ee[He]=xe(He);function Ye(H,ne){var Z=Ee[H&255];return ne<=8?Z>>>8-ne:(Z=Z<<8|Ee[H>>8&255],ne<=16?Z>>>16-ne:(Z=Z<<8|Ee[H>>16&255],Z>>>24-ne))}function ot(H,ne){var Z=ne&7,te=ne>>>3;return(H[te]|(Z<=6?0:H[te+1]<<8))>>>Z&3}function De(H,ne){var Z=ne&7,te=ne>>>3;return(H[te]|(Z<=5?0:H[te+1]<<8))>>>Z&7}function fe(H,ne){var Z=ne&7,te=ne>>>3;return(H[te]|(Z<=4?0:H[te+1]<<8))>>>Z&15}function wt(H,ne){var Z=ne&7,te=ne>>>3;return(H[te]|(Z<=3?0:H[te+1]<<8))>>>Z&31}function Ke(H,ne){var Z=ne&7,te=ne>>>3;return(H[te]|(Z<=1?0:H[te+1]<<8))>>>Z&127}function xt(H,ne,Z){var te=ne&7,re=ne>>>3,ce=(1<<Z)-1,Re=H[re]>>>te;return Z<8-te||(Re|=H[re+1]<<8-te,Z<16-te)||(Re|=H[re+2]<<16-te,Z<24-te)||(Re|=H[re+3]<<24-te),Re&ce}function Ve(H,ne,Z){var te=ne&7,re=ne>>>3;return te<=5?H[re]|=(Z&7)<<te:(H[re]|=Z<<te&255,H[re+1]=(Z&7)>>8-te),ne+3}function ft(H,ne,Z){var te=ne&7,re=ne>>>3;return Z=(Z&1)<<te,H[re]|=Z,ne+1}function st(H,ne,Z){var te=ne&7,re=ne>>>3;return Z<<=te,H[re]|=Z&255,Z>>>=8,H[re+1]=Z,ne+8}function Ht(H,ne,Z){var te=ne&7,re=ne>>>3;return Z<<=te,H[re]|=Z&255,Z>>>=8,H[re+1]=Z&255,H[re+2]=Z>>>8,ne+16}function ke(H,ne){var Z=H.length,te=2*Z>ne?2*Z:ne+5,re=0;if(Z>=ne)return H;if(Mn){var ce=rE(te);if(H.copy)H.copy(ce);else for(;re<H.length;++re)ce[re]=H[re];return ce}else if(pe){var Re=new Uint8Array(te);if(Re.set)Re.set(H);else for(;re<Z;++re)Re[re]=H[re];return Re}return H.length=te,H}function ct(H){for(var ne=new Array(H),Z=0;Z<H;++Z)ne[Z]=0;return ne}function vt(H,ne,Z){var te=1,re=0,ce=0,Re=0,ze=0,Oe=H.length,Pe=pe?new Uint16Array(32):ct(32);for(ce=0;ce<32;++ce)Pe[ce]=0;for(ce=Oe;ce<Z;++ce)H[ce]=0;Oe=H.length;var Fe=pe?new Uint16Array(Oe):ct(Oe);for(ce=0;ce<Oe;++ce)Pe[re=H[ce]]++,te<re&&(te=re),Fe[ce]=0;for(Pe[0]=0,ce=1;ce<=te;++ce)Pe[ce+16]=ze=ze+Pe[ce-1]<<1;for(ce=0;ce<Oe;++ce)ze=H[ce],ze!=0&&(Fe[ce]=Pe[ze+16]++);var it=0;for(ce=0;ce<Oe;++ce)if(it=H[ce],it!=0)for(ze=Ye(Fe[ce],te)>>te-it,Re=(1<<te+4-it)-1;Re>=0;--Re)ne[ze|Re<<it]=it&15|ce<<4;return te}var Lt=pe?new Uint16Array(512):ct(512),tn=pe?new Uint16Array(32):ct(32);if(!pe){for(var _t=0;_t<512;++_t)Lt[_t]=0;for(_t=0;_t<32;++_t)tn[_t]=0}(function(){for(var H=[],ne=0;ne<32;ne++)H.push(5);vt(H,tn,32);var Z=[];for(ne=0;ne<=143;ne++)Z.push(8);for(;ne<=255;ne++)Z.push(9);for(;ne<=279;ne++)Z.push(7);for(;ne<=287;ne++)Z.push(8);vt(Z,Lt,288)})();var Ct=function(){for(var ne=pe?new Uint8Array(32768):[],Z=0,te=0;Z<he.length-1;++Z)for(;te<he[Z+1];++te)ne[te]=Z;for(;te<32768;++te)ne[te]=29;var re=pe?new Uint8Array(259):[];for(Z=0,te=0;Z<Q.length-1;++Z)for(;te<Q[Z+1];++te)re[te]=Z;function ce(ze,Oe){for(var Pe=0;Pe<ze.length;){var Fe=Math.min(65535,ze.length-Pe),it=Pe+Fe==ze.length;for(Oe.write_shift(1,+it),Oe.write_shift(2,Fe),Oe.write_shift(2,~Fe&65535);Fe-- >0;)Oe[Oe.l++]=ze[Pe++]}return Oe.l}function Re(ze,Oe){for(var Pe=0,Fe=0,it=pe?new Uint16Array(32768):[];Fe<ze.length;){var ut=Math.min(65535,ze.length-Fe);if(ut<10){for(Pe=Ve(Oe,Pe,+(Fe+ut==ze.length)),Pe&7&&(Pe+=8-(Pe&7)),Oe.l=Pe/8|0,Oe.write_shift(2,ut),Oe.write_shift(2,~ut&65535);ut-- >0;)Oe[Oe.l++]=ze[Fe++];Pe=Oe.l*8;continue}Pe=Ve(Oe,Pe,+(Fe+ut==ze.length)+2);for(var mt=0;ut-- >0;){var Ze=ze[Fe];mt=(mt<<5^Ze)&32767;var gt=-1,Wt=0;if((gt=it[mt])&&(gt|=Fe&-32768,gt>Fe&&(gt-=32768),gt<Fe))for(;ze[gt+Wt]==ze[Fe+Wt]&&Wt<250;)++Wt;if(Wt>2){Ze=re[Wt],Ze<=22?Pe=st(Oe,Pe,Ee[Ze+1]>>1)-1:(st(Oe,Pe,3),Pe+=5,st(Oe,Pe,Ee[Ze-23]>>5),Pe+=3);var Sn=Ze<8?0:Ze-4>>2;Sn>0&&(Ht(Oe,Pe,Wt-Q[Ze]),Pe+=Sn),Ze=ne[Fe-gt],Pe=st(Oe,Pe,Ee[Ze]>>3),Pe-=3;var cn=Ze<4?0:Ze-2>>1;cn>0&&(Ht(Oe,Pe,Fe-gt-he[Ze]),Pe+=cn);for(var ir=0;ir<Wt;++ir)it[mt]=Fe&32767,mt=(mt<<5^ze[Fe])&32767,++Fe;ut-=Wt-1}else Ze<=143?Ze=Ze+48:Pe=ft(Oe,Pe,1),Pe=st(Oe,Pe,Ee[Ze]),it[mt]=Fe&32767,++Fe}Pe=st(Oe,Pe,0)-1}return Oe.l=(Pe+7)/8|0,Oe.l}return function(Oe,Pe){return Oe.length<8?ce(Oe,Pe):Re(Oe,Pe)}}();function jt(H){var ne=qe(50+Math.floor(H.length*1.1)),Z=Ct(H,ne);return ne.slice(0,Z)}var St=pe?new Uint16Array(32768):ct(32768),vn=pe?new Uint16Array(32768):ct(32768),nn=pe?new Uint16Array(128):ct(128),Et=1,qt=1;function gn(H,ne){var Z=wt(H,ne)+257;ne+=5;var te=wt(H,ne)+1;ne+=5;var re=fe(H,ne)+4;ne+=4;for(var ce=0,Re=pe?new Uint8Array(19):ct(19),ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,Pe=pe?new Uint8Array(8):ct(8),Fe=pe?new Uint8Array(8):ct(8),it=Re.length,ut=0;ut<re;++ut)Re[z[ut]]=ce=De(H,ne),Oe<ce&&(Oe=ce),Pe[ce]++,ne+=3;var mt=0;for(Pe[0]=0,ut=1;ut<=Oe;++ut)Fe[ut]=mt=mt+Pe[ut-1]<<1;for(ut=0;ut<it;++ut)(mt=Re[ut])!=0&&(ze[ut]=Fe[mt]++);var Ze=0;for(ut=0;ut<it;++ut)if(Ze=Re[ut],Ze!=0){mt=Ee[ze[ut]]>>8-Ze;for(var gt=(1<<7-Ze)-1;gt>=0;--gt)nn[mt|gt<<Ze]=Ze&7|ut<<3}var Wt=[];for(Oe=1;Wt.length<Z+te;)switch(mt=nn[Ke(H,ne)],ne+=mt&7,mt>>>=3){case 16:for(ce=3+ot(H,ne),ne+=2,mt=Wt[Wt.length-1];ce-- >0;)Wt.push(mt);break;case 17:for(ce=3+De(H,ne),ne+=3;ce-- >0;)Wt.push(0);break;case 18:for(ce=11+Ke(H,ne),ne+=7;ce-- >0;)Wt.push(0);break;default:Wt.push(mt),Oe<mt&&(Oe=mt);break}var Sn=Wt.slice(0,Z),cn=Wt.slice(Z);for(ut=Z;ut<286;++ut)Sn[ut]=0;for(ut=te;ut<30;++ut)cn[ut]=0;return Et=vt(Sn,St,286),qt=vt(cn,vn,30),ne}function Bt(H,ne){if(H[0]==3&&!(H[1]&3))return[Qu(ne),2];for(var Z=0,te=0,re=rE(ne||1<<18),ce=0,Re=re.length>>>0,ze=0,Oe=0;!(te&1);){if(te=De(H,Z),Z+=3,te>>>1)te>>1==1?(ze=9,Oe=5):(Z=gn(H,Z),ze=Et,Oe=qt);else{Z&7&&(Z+=8-(Z&7));var Pe=H[Z>>>3]|H[(Z>>>3)+1]<<8;if(Z+=32,Pe>0)for(!ne&&Re<ce+Pe&&(re=ke(re,ce+Pe),Re=re.length);Pe-- >0;)re[ce++]=H[Z>>>3],Z+=8;continue}for(;;){!ne&&Re<ce+32767&&(re=ke(re,ce+32767),Re=re.length);var Fe=xt(H,Z,ze),it=te>>>1==1?Lt[Fe]:St[Fe];if(Z+=it&15,it>>>=4,!(it>>>8&255))re[ce++]=it;else{if(it==256)break;it-=257;var ut=it<8?0:it-4>>2;ut>5&&(ut=0);var mt=ce+Q[it];ut>0&&(mt+=xt(H,Z,ut),Z+=ut),Fe=xt(H,Z,Oe),it=te>>>1==1?tn[Fe]:vn[Fe],Z+=it&15,it>>>=4;var Ze=it<4?0:it-2>>1,gt=he[it];for(Ze>0&&(gt+=xt(H,Z,Ze),Z+=Ze),!ne&&Re<mt&&(re=ke(re,mt+100),Re=re.length);ce<mt;)re[ce]=re[ce-gt],++ce}}}return ne?[re,Z+7>>>3]:[re.slice(0,ce),Z+7>>>3]}function en(H,ne){var Z=H.slice(H.l||0),te=Bt(Z,ne);return H.l+=te[1],te[0]}function Gt(H,ne){if(H)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Ln(H,ne){var Z=H;hs(Z,0);var te=[],re=[],ce={FileIndex:te,FullPaths:re};L(ce,{root:ne.root});for(var Re=Z.length-4;(Z[Re]!=80||Z[Re+1]!=75||Z[Re+2]!=5||Z[Re+3]!=6)&&Re>=0;)--Re;Z.l=Re+4,Z.l+=4;var ze=Z.read_shift(2);Z.l+=6;var Oe=Z.read_shift(4);for(Z.l=Oe,Re=0;Re<ze;++Re){Z.l+=20;var Pe=Z.read_shift(4),Fe=Z.read_shift(4),it=Z.read_shift(2),ut=Z.read_shift(2),mt=Z.read_shift(2);Z.l+=8;var Ze=Z.read_shift(4),gt=o(Z.slice(Z.l+it,Z.l+it+ut));Z.l+=it+ut+mt;var Wt=Z.l;Z.l=Ze+4,zn(Z,Pe,Fe,ce,gt),Z.l=Wt}return ce}function zn(H,ne,Z,te,re){H.l+=2;var ce=H.read_shift(2),Re=H.read_shift(2),ze=s(H);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=H.read_shift(4),Pe=H.read_shift(4),Fe=H.read_shift(4),it=H.read_shift(2),ut=H.read_shift(2),mt="",Ze=0;Ze<it;++Ze)mt+=String.fromCharCode(H[H.l++]);if(ut){var gt=o(H.slice(H.l,H.l+ut));(gt[21589]||{}).mt&&(ze=gt[21589].mt),((re||{})[21589]||{}).mt&&(ze=re[21589].mt)}H.l+=ut;var Wt=H.slice(H.l,H.l+Pe);switch(Re){case 8:Wt=j(H,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var Sn=!1;ce&8&&(Oe=H.read_shift(4),Oe==134695760&&(Oe=H.read_shift(4),Sn=!0),Pe=H.read_shift(4),Fe=H.read_shift(4)),Pe!=ne&&Gt(Sn,"Bad compressed size: "+ne+" != "+Pe),Fe!=Z&&Gt(Sn,"Bad uncompressed size: "+Z+" != "+Fe),Gr(te,mt,Wt,{unsafe:!0,mt:ze})}function Kt(H,ne){var Z=ne||{},te=[],re=[],ce=qe(1),Re=Z.compression?8:0,ze=0,Oe=0,Pe=0,Fe=0,it=0,ut=H.FullPaths[0],mt=ut,Ze=H.FileIndex[0],gt=[],Wt=0;for(Oe=1;Oe<H.FullPaths.length;++Oe)if(mt=H.FullPaths[Oe].slice(ut.length),Ze=H.FileIndex[Oe],!(!Ze.size||!Ze.content||mt=="Sh33tJ5")){var Sn=Fe,cn=qe(mt.length);for(Pe=0;Pe<mt.length;++Pe)cn.write_shift(1,mt.charCodeAt(Pe)&127);cn=cn.slice(0,cn.l),gt[it]=OV.buf(Ze.content,0);var ir=Ze.content;Re==8&&(ir=B(ir)),ce=qe(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,ze),ce.write_shift(2,Re),Ze.mt?a(ce,Ze.mt):ce.write_shift(4,0),ce.write_shift(-4,gt[it]),ce.write_shift(4,ir.length),ce.write_shift(4,Ze.content.length),ce.write_shift(2,cn.length),ce.write_shift(2,0),Fe+=ce.length,te.push(ce),Fe+=cn.length,te.push(cn),Fe+=ir.length,te.push(ir),ce=qe(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,ze),ce.write_shift(2,Re),ce.write_shift(4,0),ce.write_shift(-4,gt[it]),ce.write_shift(4,ir.length),ce.write_shift(4,Ze.content.length),ce.write_shift(2,cn.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,Sn),Wt+=ce.l,re.push(ce),Wt+=cn.length,re.push(cn),++it}return ce=qe(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,it),ce.write_shift(2,it),ce.write_shift(4,Wt),ce.write_shift(4,Fe),ce.write_shift(2,0),$i([$i(te),$i(re),ce])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function hn(H,ne){if(H.ctype)return H.ctype;var Z=H.name||"",te=Z.match(/\.([^\.]+)$/);return te&&Vt[te[1]]||ne&&(te=(Z=ne).match(/[\.\\]([^\.\\])+$/),te&&Vt[te[1]])?Vt[te[1]]:"application/octet-stream"}function ii(H){for(var ne=Hd(H),Z=[],te=0;te<ne.length;te+=76)Z.push(ne.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function Rr(H){var ne=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var Fe=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=ne.split(`\r
`),re=0;re<te.length;++re){var ce=te[re];if(ce.length==0){Z.push("");continue}for(var Re=0;Re<ce.length;){var ze=76,Oe=ce.slice(Re,Re+ze);Oe.charAt(ze-1)=="="?ze--:Oe.charAt(ze-2)=="="?ze-=2:Oe.charAt(ze-3)=="="&&(ze-=3),Oe=ce.slice(Re,Re+ze),Re+=ze,Re<ce.length&&(Oe+="="),Z.push(Oe)}}return Z.join(`\r
`)}function Ir(H){for(var ne=[],Z=0;Z<H.length;++Z){for(var te=H[Z];Z<=H.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+H[++Z];ne.push(te)}for(var re=0;re<ne.length;++re)ne[re]=ne[re].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return ro(ne.join(`\r
`))}function Wr(H,ne,Z){for(var te="",re="",ce="",Re,ze=0;ze<10;++ze){var Oe=ne[ze];if(!Oe||Oe.match(/^\s*$/))break;var Pe=Oe.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":te=Pe[2].trim();break;case"content-type":ce=Pe[2].trim();break;case"content-transfer-encoding":re=Pe[2].trim();break}}switch(++ze,re.toLowerCase()){case"base64":Re=ro(Fl(ne.slice(ze).join("")));break;case"quoted-printable":Re=Ir(ne.slice(ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+re)}var Fe=Gr(H,te.slice(Z.length),Re,{unsafe:!0});ce&&(Fe.ctype=ce)}function Ut(H,ne){if(ie(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ne&&ne.root||"",te=(Mn&&Buffer.isBuffer(H)?H.toString("binary"):ie(H)).split(`\r
`),re=0,ce="";for(re=0;re<te.length;++re)if(ce=te[re],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),Z||(Z=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),ce.slice(0,Z.length)!=Z););var Re=(te[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var ze="--"+(Re[1]||""),Oe=[],Pe=[],Fe={FileIndex:Oe,FullPaths:Pe};L(Fe);var it,ut=0;for(re=0;re<te.length;++re){var mt=te[re];mt!==ze&&mt!==ze+"--"||(ut++&&Wr(Fe,te.slice(it,re),Z),it=re)}return Fe}function pa(H,ne){var Z=ne||{},te=Z.boundary||"SheetJS";te="------="+te;for(var re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],ce=H.FullPaths[0],Re=ce,ze=H.FileIndex[0],Oe=1;Oe<H.FullPaths.length;++Oe)if(Re=H.FullPaths[Oe].slice(ce.length),ze=H.FileIndex[Oe],!(!ze.size||!ze.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wt){return"_x"+Wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wt){return"_u"+Wt.charCodeAt(0).toString(16)+"_"});for(var Pe=ze.content,Fe=Mn&&Buffer.isBuffer(Pe)?Pe.toString("binary"):ie(Pe),it=0,ut=Math.min(1024,Fe.length),mt=0,Ze=0;Ze<=ut;++Ze)(mt=Fe.charCodeAt(Ze))>=32&&mt<128&&++it;var gt=it>=ut*4/5;re.push(te),re.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+Re),re.push("Content-Transfer-Encoding: "+(gt?"quoted-printable":"base64")),re.push("Content-Type: "+hn(ze,Re)),re.push(""),re.push(gt?Rr(Fe):ii(Fe))}return re.push(te+`--\r
`),re.join(`\r
`)}function Si(H){var ne={};return L(ne,H),ne}function Gr(H,ne,Z,te){var re=te&&te.unsafe;re||L(H);var ce=!re&&nr.find(H,ne);if(!ce){var Re=H.FullPaths[0];ne.slice(0,Re.length)==Re?Re=ne:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+ne).replace("//","/")),ce={name:i(ne),type:2},H.FileIndex.push(ce),H.FullPaths.push(Re),re||nr.utils.cfb_gc(H)}return ce.content=Z,ce.size=Z?Z.length:0,te&&(te.CLSID&&(ce.clsid=te.CLSID),te.mt&&(ce.mt=te.mt),te.ct&&(ce.ct=te.ct)),ce}function ai(H,ne){L(H);var Z=nr.find(H,ne);if(Z){for(var te=0;te<H.FileIndex.length;++te)if(H.FileIndex[te]==Z)return H.FileIndex.splice(te,1),H.FullPaths.splice(te,1),!0}return!1}function Fn(H,ne,Z){L(H);var te=nr.find(H,ne);if(te){for(var re=0;re<H.FileIndex.length;++re)if(H.FileIndex[re]==te)return H.FileIndex[re].name=i(Z),H.FullPaths[re]=Z,!0}return!1}function Jn(H){A(H,!0)}return e.find=S,e.read=ae,e.parse=u,e.write=_e,e.writeFile=J,e.utils={cfb_new:Si,cfb_add:Gr,cfb_del:ai,cfb_mov:Fn,cfb_gc:Jn,ReadShift:ud,CheckField:yR,prep_blob:hs,bconcat:$i,use_zlib:N,_deflateRaw:jt,_inflateRaw:en,consts:we},e}();function PV(t){return typeof t=="string"?l2(t):Array.isArray(t)?oV(t):t}function A1(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=l2(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Wd(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([PV(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=E1(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Zi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function fE(t,e){for(var n=[],r=Zi(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Z_(t){for(var e=[],n=Zi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function f2(t){for(var e=[],n=Zi(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function FV(t){for(var e=[],n=Zi(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var im=new Date(1899,11,30,0,0,0);function Wa(t,e){var n=t.getTime(),r=im.getTime()+(t.getTimezoneOffset()-im.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var tR=new Date,MV=im.getTime()+(tR.getTimezoneOffset()-im.getTimezoneOffset())*6e4,hE=tR.getTimezoneOffset();function nR(t){var e=new Date;return e.setTime(t*24*60*60*1e3+MV),e.getTimezoneOffset()!==hE&&e.setTime(e.getTime()+(e.getTimezoneOffset()-hE)*6e4),e}var dE=new Date("2017-02-19T19:06:09.000Z"),rR=isNaN(dE.getFullYear())?new Date("2/19/17"):dE,BV=rR.getFullYear()==2017;function Ca(t,e){var n=new Date(t);if(BV)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(rR.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function h2(t,e){if(Mn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ga(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ga(t[n]));return e}function zr(t,e){for(var n="";n.length<e;)n+=t;return n}function Sl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var jV=["january","february","march","april","may","june","july","august","september","october","november","december"];function qd(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&jV.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function dn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Mn?r=Vl(n):r=lV(n),nr.utils.cfb_add(t,e,r)}nr.utils.cfb_add(t,e,n)}else t.file(e,n)}function J_(){return nr.utils.cfb_new()}var pi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,UV={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ew=Z_(UV),tw=/[&<>'"]/g,VV=/[\u0000-\u0008\u000b-\u001f]/g;function Qn(t){var e=t+"";return e.replace(tw,function(n){return ew[n]}).replace(VV,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function pE(t){return Qn(t).replace(/ /g,"_x0020_")}var iR=/[\u0000-\u001f]/g;function zV(t){var e=t+"";return e.replace(tw,function(n){return ew[n]}).replace(/\n/g,"<br/>").replace(iR,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function HV(t){var e=t+"";return e.replace(tw,function(n){return ew[n]}).replace(iR,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function qV(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function WV(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function kv(t){for(var e="",n=0,r=0,i=0,a=0,s=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function gE(t){var e=Qu(2*t.length),n,r,i=1,a=0,s=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function mE(t){return Vl(t,"binary").toString("utf8")}var _p="foo bar baz",cd=Mn&&(mE(_p)==kv(_p)&&mE||gE(_p)==kv(_p)&&gE)||kv,Wd=Mn?function(t){return Vl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},GV=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),aR=/(^\s|\s$|\n)/;function Yi(t,e){return"<"+t+(e.match(aR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Gd(t){return Zi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dt(t,e,n){return"<"+t+(n!=null?Gd(n):"")+(e!=null?(e.match(aR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function F5(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function $V(t,e){switch(typeof t){case"string":var n=dt("vt:lpwstr",Qn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return dt((t|0)==t?"vt:i4":"vt:r8",Qn(String(t)));case"boolean":return dt("vt:bool",t?"true":"false")}if(t instanceof Date)return dt("vt:filetime",F5(t));throw new Error("Unable to serialize "+t)}var Di={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function YV(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function XV(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[n+o]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var vE=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},yE=Mn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Vl(e)})):vE(t)}:vE,xE=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(U0(t,i)));return r.join("").replace(ld,"")},nw=Mn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ld,""):xE(t,e,n)}:xE,_E=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},sR=Mn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):_E(t,e,n)}:_E,wE=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(jf(t,i)));return r.join("")},S1=Mn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):wE(e,n,r)}:wE,oR=function(t,e){var n=ps(t,e);return n>0?S1(t,e+4,e+4+n-1):""},lR=oR,cR=function(t,e){var n=ps(t,e);return n>0?S1(t,e+4,e+4+n-1):""},uR=cR,fR=function(t,e){var n=2*ps(t,e);return n>0?S1(t,e+4,e+4+n-1):""},hR=fR,dR=function(e,n){var r=ps(e,n);return r>0?nw(e,n+4,n+4+r):""},pR=dR,gR=function(t,e){var n=ps(t,e);return n>0?S1(t,e+4,e+4+n):""},mR=gR,vR=function(t,e){return YV(t,e)},am=vR,rw=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mn&&(lR=function(e,n){if(!Buffer.isBuffer(e))return oR(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},uR=function(e,n){if(!Buffer.isBuffer(e))return cR(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},hR=function(e,n){if(!Buffer.isBuffer(e))return fR(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},pR=function(e,n){if(!Buffer.isBuffer(e))return dR(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},mR=function(e,n){if(!Buffer.isBuffer(e))return gR(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},am=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):vR(e,n)},rw=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var jf=function(t,e){return t[e]},U0=function(t,e){return t[e+1]*256+t[e]},KV=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ps=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Cu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},QV=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ud(t,e){var n="",r,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,Mn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(U0(this,c)),c+=2;t*=2;break;case"utf8":n=S1(this,this.l,this.l+t);break;case"utf16le":t*=2,n=nw(this,this.l,this.l+t);break;case"wstr":return ud.call(this,t,"dbcs");case"lpstr-ansi":n=lR(this,this.l),t=4+ps(this,this.l);break;case"lpstr-cp":n=uR(this,this.l),t=4+ps(this,this.l);break;case"lpwstr":n=hR(this,this.l),t=4+2*ps(this,this.l);break;case"lpp4":t=4+ps(this,this.l),n=pR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ps(this,this.l),n=mR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=jf(this,this.l+t++))!==0;)a.push(vp(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=U0(this,this.l+t))!==0;)a.push(vp(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=jf(this,c),this.l=c+1,o=ud.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(vp(U0(this,c))),c+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=jf(this,c),this.l=c+1,o=ud.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(vp(jf(this,c))),c+=1}n=a.join("");break;default:switch(t){case 1:return r=jf(this,this.l),this.l++,r;case 2:return r=(e==="i"?KV:U0)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?Cu:QV)(this,this.l),this.l+=4,r):(i=ps(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=am(this,this.l):i=am([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=sR(this,this.l,t);break}}return this.l+=t,n}var ZV=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},JV=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},ez=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function tz(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)ez(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,ZV(this,e,this.l);break;case 8:if(r=8,n==="f"){XV(this,e,this.l);break}case 16:break;case-4:r=4,JV(this,e,this.l);break}return this.l+=r,this}function yR(t,e){var n=sR(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function hs(t,e){t.l=e,t.read_shift=ud,t.chk=yR,t.write_shift=tz}function Ho(t,e){t.l+=e}function qe(t){var e=Qu(t);return hs(e,0),e}function Ha(){var t=[],e=Mn?256:2048,n=function(c){var u=qe(c);return hs(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},s=function(){return i(),$i(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function nt(t,e,n,r){var i=+e,a;if(!isNaN(i)){r||(r=Y$[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&rw(n)&&t.push(n)}}function fd(t,e,n){var r=Ga(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function bE(t,e,n){var r=Ga(t);return r.s=fd(r.s,e.s,n),r.e=fd(r.e,e.s,n),r}function hd(t,e){if(t.cRel&&t.c<0)for(t=Ga(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ga(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Zn(t);return!t.cRel&&t.cRel!=null&&(n=iz(n)),!t.rRel&&t.rRel!=null&&(n=nz(n)),n}function Ov(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ha(t.s.c)+":"+(t.e.cRel?"":"$")+ha(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ki(t.s.r)+":"+(t.e.rRel?"":"$")+Ki(t.e.r):hd(t.s,e.biff)+":"+hd(t.e,e.biff)}function iw(t){return parseInt(rz(t),10)-1}function Ki(t){return""+(t+1)}function nz(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rz(t){return t.replace(/\$(\d+)$/,"$1")}function aw(t){for(var e=az(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ha(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function iz(t){return t.replace(/^([A-Z])/,"$$$1")}function az(t){return t.replace(/^\$([A-Z])/,"$1")}function sz(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Oi(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Zn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function As(t){var e=t.indexOf(":");return e==-1?{s:Oi(t),e:Oi(t)}:{s:Oi(t.slice(0,e)),e:Oi(t.slice(e+1))}}function di(t,e){return typeof e>"u"||typeof e=="number"?di(t.s,t.e):(typeof t!="string"&&(t=Zn(t)),typeof e!="string"&&(e=Zn(e)),t==e?t:t+":"+e)}function Er(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function EE(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Zc(t.z,n?Wa(e):e)}catch{}try{return t.w=Zc((t.XF||{}).numFmtId||(n?14:0),n?Wa(e):e)}catch{return""+e}}function Ml(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?T1[t.v]||t.v:e==null?EE(t,t.v):EE(t,e))}function cf(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function xR(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Oi(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Er(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[d].length;++g)if(!(typeof e[d][g]>"u")){var f={v:e[d][g]},x=s+d,v=o+g;if(c.s.r>x&&(c.s.r=x),c.s.c>v&&(c.s.c=v),c.e.r<x&&(c.e.r=x),c.e.c<v&&(c.e.c=v),e[d][g]&&typeof e[d][g]=="object"&&!Array.isArray(e[d][g])&&!(e[d][g]instanceof Date))f=e[d][g];else if(Array.isArray(f.v)&&(f.f=e[d][g][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else if(r.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=r.dateNF||qr[14],r.cellDates?(f.t="d",f.w=Zc(f.z,Wa(f.v))):(f.t="n",f.v=Wa(f.v),f.w=Zc(f.z,f.v))):f.t="s";if(i)a[x]||(a[x]=[]),a[x][v]&&a[x][v].z&&(f.z=a[x][v].z),a[x][v]=f;else{var _=Zn({c:v,r:x});a[_]&&a[_].z&&(f.z=a[_].z),a[_]=f}}}return c.s.c<1e7&&(a["!ref"]=di(c)),a}function Jh(t,e){return xR(null,t,e)}function oz(t){return t.read_shift(4,"i")}function oo(t,e){return e||(e=qe(4)),e.write_shift(4,t),e}function da(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Pi(t,e){var n=!1;return e==null&&(n=!0,e=qe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function lz(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function cz(t,e){return e||(e=qe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function sw(t,e){var n=t.l,r=t.read_shift(1),i=da(t),a=[],s={t:i,h:i};if(r&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(lz(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}function uz(t,e){var n=!1;return e==null&&(n=!0,e=qe(15+4*t.t.length)),e.write_shift(1,0),Pi(t.t,e),n?e.slice(0,e.l):e}var fz=sw;function hz(t,e){var n=!1;return e==null&&(n=!0,e=qe(23+4*t.t.length)),e.write_shift(1,1),Pi(t.t,e),e.write_shift(4,1),cz({},e),n?e.slice(0,e.l):e}function $s(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function uf(t,e){return e==null&&(e=qe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ff(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function hf(t,e){return e==null&&(e=qe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var dz=da,_R=Pi;function ow(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function sm(t,e){var n=!1;return e==null&&(n=!0,e=qe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var pz=da,M5=ow,lw=sm;function wR(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?am([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Cu(e,0)>>2;return n?i/100:i}function bR(t,e){e==null&&(e=qe(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function ER(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function gz(t,e){return e||(e=qe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var df=ER,e0=gz;function t0(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Zu(t,e){return(e||qe(8)).write_shift(8,t,"f")}function mz(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=Sz[i];c&&(e.rgb=OE(c));break;case 2:e.rgb=OE([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function om(t,e){if(e||(e=qe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function vz(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function yz(t,e){e||(e=qe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var AR=2,us=3,wp=11,lm=19,bp=64,xz=65,_z=71,wz=4108,bz=4126,Hi=80,AE={1:{n:"CodePage",t:AR},2:{n:"Category",t:Hi},3:{n:"PresentationFormat",t:Hi},4:{n:"ByteCount",t:us},5:{n:"LineCount",t:us},6:{n:"ParagraphCount",t:us},7:{n:"SlideCount",t:us},8:{n:"NoteCount",t:us},9:{n:"HiddenCount",t:us},10:{n:"MultimediaClipCount",t:us},11:{n:"ScaleCrop",t:wp},12:{n:"HeadingPairs",t:wz},13:{n:"TitlesOfParts",t:bz},14:{n:"Manager",t:Hi},15:{n:"Company",t:Hi},16:{n:"LinksUpToDate",t:wp},17:{n:"CharacterCount",t:us},19:{n:"SharedDoc",t:wp},22:{n:"HyperlinksChanged",t:wp},23:{n:"AppVersion",t:us,p:"version"},24:{n:"DigSig",t:xz},26:{n:"ContentType",t:Hi},27:{n:"ContentStatus",t:Hi},28:{n:"Language",t:Hi},29:{n:"Version",t:Hi},255:{},2147483648:{n:"Locale",t:lm},2147483651:{n:"Behavior",t:lm},1919054434:{}},SE={1:{n:"CodePage",t:AR},2:{n:"Title",t:Hi},3:{n:"Subject",t:Hi},4:{n:"Author",t:Hi},5:{n:"Keywords",t:Hi},6:{n:"Comments",t:Hi},7:{n:"Template",t:Hi},8:{n:"LastAuthor",t:Hi},9:{n:"RevNumber",t:Hi},10:{n:"EditTime",t:bp},11:{n:"LastPrinted",t:bp},12:{n:"CreatedDate",t:bp},13:{n:"ModifiedDate",t:bp},14:{n:"PageCount",t:us},15:{n:"WordCount",t:us},16:{n:"CharCount",t:us},17:{n:"Thumbnail",t:_z},18:{n:"Application",t:Hi},19:{n:"DocSecurity",t:us},255:{},2147483648:{n:"Locale",t:lm},2147483651:{n:"Behavior",t:lm},1919054434:{}};function Ez(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Az=Ez([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Sz=Ga(Az),T1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Tz={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ep={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function SR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function TR(t,e){var n=FV(Tz),r=[],i;r[r.length]=pi,r[r.length]=dt("Types",null,{xmlns:Di.CT,"xmlns:xsd":Di.xsd,"xmlns:xsi":Di.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return dt("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=dt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ep[l][e.bookType]||Ep[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){r[r.length]=dt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Ep[l][e.bookType]||Ep[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=dt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Pn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function CR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function hh(t){var e=[pi,dt("Relationships",null,{xmlns:Di.RELS})];return Zi(t["!id"]).forEach(function(n){e[e.length]=dt("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Yn(t,e,n,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[Pn.HLINK,Pn.XPATH,Pn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function Cz(t){var e=[pi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function TE(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Nz(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Rz(t){var e=[pi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(TE(t[n][0],t[n][1])),e.push(Nz("",t[n][0]));return e.push(TE("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function NR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jg.version+"</meta:generator></office:meta></office:document-meta>"}var Uu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Pv(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Qn(e),r[r.length]=n?dt(t,e,n):Yi(t,e))}function RR(t,e){var n=e||{},r=[pi,dt("cp:coreProperties",null,{"xmlns:cp":Di.CORE_PROPS,"xmlns:dc":Di.dc,"xmlns:dcterms":Di.dcterms,"xmlns:dcmitype":Di.dcmitype,"xmlns:xsi":Di.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Pv("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:F5(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&Pv("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:F5(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=Uu.length;++a){var s=Uu[a],o=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Pv(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var dh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],IR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function LR(t){var e=[],n=dt;return t||(t={}),t.Application="SheetJS",e[e.length]=pi,e[e.length]=dt("Properties",null,{xmlns:Di.EXT_PROPS,"xmlns:vt":Di.vt}),dh.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Qn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Qn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function DR(t){var e=[pi,dt("Properties",null,{xmlns:Di.CUST_PROPS,"xmlns:vt":Di.vt})];if(!t)return e.join("");var n=1;return Zi(t).forEach(function(i){++n,e[e.length]=dt("property",$V(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Qn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var CE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Iz(t,e){var n=[];return Zi(CE).map(function(r){for(var i=0;i<Uu.length;++i)if(Uu[i][1]==r)return Uu[i];for(i=0;i<dh.length;++i)if(dh[i][1]==r)return dh[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Yi(CE[r[1]]||r[1],i))}}),dt("DocumentProperties",n.join(""),{xmlns:ds.o})}function Lz(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Zi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Uu.length;++s)if(a==Uu[s][1])return;for(s=0;s<dh.length;++s)if(a==dh[s][1])return;for(s=0;s<n.length;++s)if(a==n[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(dt(pE(a),o,{"dt:dt":l}))}}),e&&Zi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(dt(pE(a),s,{"dt:dt":o}))}}),"<"+r+' xmlns="'+ds.o+'">'+i.join("")+"</"+r+">"}function Dz(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=qe(8);return s.write_shift(4,r),s.write_shift(4,i),s}function NE(t,e){var n=qe(4),r=qe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=qe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Dz(e);break;case 31:case 80:for(r=qe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return $i([n,r])}var kR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kz(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function RE(t,e,n){var r=qe(8),i=[],a=[],s=8,o=0,l=qe(8),c=qe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!e){c=qe(8),c.write_shift(4,0),i.unshift(c);var u=[qe(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(l=qe(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=$i(u),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(kR.indexOf(t[o][0])>-1||IR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],f=0;if(e){f=+e[t[o][0]];var x=n[f];if(x.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}l=NE(x.t,g)}else{var _=kz(g);_==-1&&(_=31,g=String(g)),l=NE(_,g)}a.push(l),c=qe(8),c.write_shift(4,e?f:2+o),i.push(c),s+=8+l.length}var y=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,y),y+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),$i([r].concat(i).concat(a))}function IE(t,e,n,r,i,a){var s=qe(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=RE(t,n,r);if(o.push(l),i){var c=RE(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return $i(o)}function Oz(t,e){e||(e=qe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function Pz(t,e){return t.read_shift(e)===1}function Aa(t,e){return e||(e=qe(2)),e.write_shift(2,+!!t),e}function OR(t){return t.read_shift(2,"u")}function Ps(t,e){return e||(e=qe(2)),e.write_shift(2,t),e}function PR(t,e,n){return n||(n=qe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function FR(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function Fz(t){var e=t.t||"",n=qe(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=qe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return $i(i)}function Mz(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Bz(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Mz(t,r,n)}function jz(t,e,n){if(n.biff>5)return Bz(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function MR(t,e,n){return n||(n=qe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function LE(t,e){e||(e=qe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Uz(t){var e=qe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)e.write_shift(4,s[n]);if(a==28)r=r.slice(1),LE(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),a&8&&LE(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Ju(t,e,n,r){return r||(r=qe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function Vz(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function zz(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function BR(t,e){return e||(e=qe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function cw(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=qe(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Hz(t,e){var n=!e||e.biff==8,r=qe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function qz(t,e){var n=!e||e.biff>=8?2:1,r=qe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Wz(t,e){var n=qe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=Fz(t[i]);var a=$i([n].concat(r));return a.parts=[n.length].concat(r.map(function(s){return s.length})),a}function Gz(){var t=qe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function $z(t){var e=qe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Yz(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,a=qe(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function Xz(t,e,n,r){var i=qe(10);return Ju(t,e,r,i),i.write_shift(4,n),i}function Kz(t,e,n,r,i){var a=!i||i.biff==8,s=qe(8+ +a+(1+a)*n.length);return Ju(t,e,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}function Qz(t,e,n,r){var i=n&&n.biff==5;r||(r=qe(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function Zz(t,e){var n=e.biff==8||!e.biff?4:2,r=qe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function DE(t,e,n,r){var i=n&&n.biff==5;r||(r=qe(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Jz(t){var e=qe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function eH(t,e,n,r,i,a){var s=qe(8);return Ju(t,e,r,s),PR(n,a,s),s}function tH(t,e,n,r){var i=qe(14);return Ju(t,e,r,i),Zu(n,i),i}function nH(t,e,n){if(n.biff<8)return rH(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(Vz(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function rH(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=FR(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function iH(t){var e=qe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)BR(t[n],e);return e}function aH(t){var e=qe(24),n=Oi(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return $i([e,Uz(t[1])])}function sH(t){var e=t[1].Tooltip,n=qe(10+2*(e.length+1));n.write_shift(2,2048);var r=Oi(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function oH(t){return t||(t=qe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function lH(t,e,n){if(!n.cellStyles)return Ho(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function cH(t,e){var n=qe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function uH(t){for(var e=qe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function fH(t,e,n){var r=qe(15);return N1(r,t,e),r.write_shift(8,n,"f"),r}function hH(t,e,n){var r=qe(9);return N1(r,t,e),r.write_shift(2,n),r}var dH=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Z_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],u=Qu(1);switch(l.type){case"base64":u=ro(Fl(o));break;case"binary":u=ro(o);break;case"buffer":case"array":u=o;break}hs(u,0);var d=u.read_shift(1),g=!!(d&136),f=!1,x=!1;switch(d){case 2:break;case 3:break;case 48:f=!0,g=!0;break;case 49:f=!0,g=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var v=0,_=521;d==2&&(v=u.read_shift(2)),u.l+=3,d!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),d!=2&&(_=u.read_shift(2));var y=u.read_shift(2),T=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(T=t[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var C=[],O={},Y=Math.min(u.length,d==2?521:_-10-(f?264:0)),ae=x?32:11;u.l<Y&&u[u.l]!=13;)switch(O={},O.name=em.utils.decode(T,u.slice(u.l,u.l+ae)).replace(/[\u0000\r\n].*$/g,""),u.l+=ae,O.type=String.fromCharCode(u.read_shift(1)),d!=2&&!x&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),d==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&C.push(O),d!=2&&(u.l+=x?13:14),O.type){case"B":(!f||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var L=0,I=0;for(c[0]=[],I=0;I!=C.length;++I)c[0][I]=C[I].name;for(;v-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++L]=[],I=0,I=0;I!=C.length;++I){var A=u.slice(u.l,u.l+C[I].len);u.l+=C[I].len,hs(A,0);var F=em.utils.decode(T,A);switch(C[I].type){case"C":F.trim().length&&(c[L][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[L][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[L][I]=F;break;case"F":c[L][I]=parseFloat(F.trim());break;case"+":case"I":c[L][I]=x?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[L][I]=!0;break;case"N":case"F":c[L][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[L][I]="##MEMO##"+(x?parseInt(F.trim(),10):A.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[L][I]=+F||0);break;case"@":c[L][I]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[L][I]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[L][I]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[L][I]=-A.read_shift(-8,"f");break;case"B":if(f&&C[I].len==8){c[L][I]=A.read_shift(8,"f");break}case"G":case"P":A.l+=C[I].len;break;case"0":if(C[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[I].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=C,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Jh(n(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function i(o,l){try{return cf(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&zd(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ha(),d=dm(o,{header:1,raw:!0,cellDates:!0}),g=d[0],f=d.slice(1),x=o["!cols"]||[],v=0,_=0,y=0,T=1;for(v=0;v<g.length;++v){if(((x[v]||{}).DBF||{}).name){g[v]=x[v].DBF.name,++y;continue}if(g[v]!=null){if(++y,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(_=0;_<1024;++_)if(g.indexOf(g[v]+"_"+_)==-1){g[v]+="_"+_;break}}}}var C=Er(o["!ref"]),O=[],Y=[],ae=[];for(v=0;v<=C.e.c-C.s.c;++v){var L="",I="",A=0,F=[];for(_=0;_<f.length;++_)f[_][v]!=null&&F.push(f[_][v]);if(F.length==0||g[v]==null){O[v]="?";continue}for(_=0;_<F.length;++_){switch(typeof F[_]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[_]instanceof Date?"D":"C";break;default:I="C"}A=Math.max(A,String(F[_]).length),L=L&&L!=I?"C":I}A>250&&(A=250),I=((x[v]||{}).DBF||{}).type,I=="C"&&x[v].DBF.len>A&&(A=x[v].DBF.len),L=="B"&&I=="N"&&(L="N",ae[v]=x[v].DBF.dec,A=x[v].DBF.len),Y[v]=L=="C"||I=="N"?A:a[L]||0,T+=Y[v],O[v]=L}var S=u.next(32);for(S.write_shift(4,318902576),S.write_shift(4,f.length),S.write_shift(2,296+32*y),S.write_shift(2,T),v=0;v<4;++v)S.write_shift(4,0);for(S.write_shift(4,0|(+e[UN]||3)<<8),v=0,_=0;v<g.length;++v)if(g[v]!=null){var D=u.next(32),P=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,P,"sbcs"),D.write_shift(1,O[v]=="?"?"C":O[v],"sbcs"),D.write_shift(4,_),D.write_shift(1,Y[v]||a[O[v]]||0),D.write_shift(1,ae[v]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),_+=Y[v]||a[O[v]]||0}var ue=u.next(264);for(ue.write_shift(4,13),v=0;v<65;++v)ue.write_shift(4,0);for(v=0;v<f.length;++v){var me=u.next(T);for(me.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(O[_]){case"L":me.write_shift(1,f[v][_]==null?63:f[v][_]?84:70);break;case"B":me.write_shift(8,f[v][_]||0,"f");break;case"N":var de="0";for(typeof f[v][_]=="number"&&(de=f[v][_].toFixed(ae[_]||0)),y=0;y<Y[_]-de.length;++y)me.write_shift(1,32);me.write_shift(1,de,"sbcs");break;case"D":f[v][_]?(me.write_shift(4,("0000"+f[v][_].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(f[v][_].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+f[v][_].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var we=String(f[v][_]!=null?f[v][_]:"").slice(0,Y[_]);for(me.write_shift(1,we,"sbcs"),y=0;y<Y[_]-we.length;++y)me.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}}(),pH=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Zi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,f){var x=t[f];return typeof x=="number"?nE(x):x},r=function(g,f,x){var v=f.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?g:nE(v)};t["|"]=254;function i(g,f){switch(f.type){case"base64":return a(Fl(g),f);case"binary":return a(g,f);case"buffer":return a(Mn&&Buffer.isBuffer(g)?g.toString("binary"):E1(g),f);case"array":return a(h2(g),f)}throw new Error("Unrecognized type "+f.type)}function a(g,f){var x=g.split(/[\n\r]+/),v=-1,_=-1,y=0,T=0,C=[],O=[],Y=null,ae={},L=[],I=[],A=[],F=0,S;for(+f.codepage>=0&&zd(+f.codepage);y!==x.length;++y){F=0;var D=x[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),P=D.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),ue=P[0],me;if(D.length>0)switch(ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&O.push(D.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,we=!1,J=!1,ie=!1,_e=-1,Ie=-1;for(T=1;T<P.length;++T)switch(P[T].charAt(0)){case"A":break;case"X":_=parseInt(P[T].slice(1))-1,we=!0;break;case"Y":for(v=parseInt(P[T].slice(1))-1,we||(_=0),S=C.length;S<=v;++S)C[S]=[];break;case"K":me=P[T].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(Sl(me))?isNaN(qd(me).getDate())||(me=Ca(me)):(me=Sl(me),Y!==null&&ZN(Y)&&(me=nR(me))),de=!0;break;case"E":ie=!0;var N=hq(P[T].slice(1),{r:v,c:_});C[v][_]=[C[v][_],N];break;case"S":J=!0,C[v][_]=[C[v][_],"S5S"];break;case"G":break;case"R":_e=parseInt(P[T].slice(1))-1;break;case"C":Ie=parseInt(P[T].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+D)}if(de&&(C[v][_]&&C[v][_].length==2?C[v][_][0]=me:C[v][_]=me,Y=null),J){if(ie)throw new Error("SYLK shared formula cannot have own formula");var j=_e>-1&&C[_e][Ie];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");C[v][_][1]=dq(j[1],{r:v-_e,c:_-Ie})}break;case"F":var B=0;for(T=1;T<P.length;++T)switch(P[T].charAt(0)){case"X":_=parseInt(P[T].slice(1))-1,++B;break;case"Y":for(v=parseInt(P[T].slice(1))-1,S=C.length;S<=v;++S)C[S]=[];break;case"M":F=parseInt(P[T].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=O[parseInt(P[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=P[T].slice(1).split(" "),S=parseInt(A[0],10);S<=parseInt(A[1],10);++S)F=parseInt(A[2],10),I[S-1]=F===0?{hidden:!0}:{wch:F},uw(I[S-1]);break;case"C":_=parseInt(P[T].slice(1))-1,I[_]||(I[_]={});break;case"R":v=parseInt(P[T].slice(1))-1,L[v]||(L[v]={}),F>0?(L[v].hpt=F,L[v].hpx=HR(F)):F===0&&(L[v].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+D)}B<1&&(Y=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+D)}}return L.length>0&&(ae["!rows"]=L),I.length>0&&(ae["!cols"]=I),f&&f.sheetRows&&(C=C.slice(0,f.sheetRows)),[C,ae]}function s(g,f){var x=i(g,f),v=x[0],_=x[1],y=Jh(v,f);return Zi(_).forEach(function(T){y[T]=_[T]}),y}function o(g,f){return cf(s(g,f),f)}function l(g,f,x,v){var _="C;Y"+(x+1)+";X"+(v+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+hw(g.f,{r:x,c:v}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(g,f){f.forEach(function(x,v){var _="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?_+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=cm(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=um(x.wpx)),typeof x.wch=="number"&&(_+=Math.round(x.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function u(g,f){f.forEach(function(x,v){var _="F;";x.hidden?_+="M0;":x.hpt?_+="M"+20*x.hpt+";":x.hpx&&(_+="M"+20*fm(x.hpx)+";"),_.length>2&&g.push(_+"R"+(v+1))})}function d(g,f){var x=["ID;PWXL;N;E"],v=[],_=Er(g["!ref"]),y,T=Array.isArray(g),C=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),g["!cols"]&&c(x,g["!cols"]),g["!rows"]&&u(x,g["!rows"]),x.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var O=_.s.r;O<=_.e.r;++O)for(var Y=_.s.c;Y<=_.e.c;++Y){var ae=Zn({r:O,c:Y});y=T?(g[O]||[])[Y]:g[ae],!(!y||y.v==null&&(!y.f||y.F))&&v.push(l(y,g,O,Y))}return x.join(C)+C+v.join(C)+C+"E"+C}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),gH=function(){function t(a,s){switch(s.type){case"base64":return e(Fl(a),s);case"binary":return e(a,s);case"buffer":return e(Mn&&Buffer.isBuffer(a)?a.toString("binary"):E1(a),s);case"array":return e(h2(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var g=o[u].trim().split(","),f=g[0],x=g[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+f){case-1:if(v==="BOT"){d[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?d[l][c]=!0:v==="FALSE"?d[l][c]=!1:isNaN(Sl(x))?isNaN(qd(x).getDate())?d[l][c]=x:d[l][c]=Ca(x):d[l][c]=Sl(x),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),d[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function n(a,s){return Jh(t(a,s),s)}function r(a,s){return cf(n(a,s),s)}var i=function(){var a=function(l,c,u,d,g){l.push(c),l.push(u+","+d),l.push('"'+g.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=Er(l["!ref"]),d,g=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){s(c,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var v=Zn({r:f,c:x});if(d=g?(l[f]||[])[x]:l[v],!d){s(c,1,0,"");continue}switch(d.t){case"n":var _=d.w;!_&&d.v!=null&&(_=d.v),_==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,_,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Zc(d.z||qr[14],Wa(Ca(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,T=c.join(y);return T}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),jR=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,g){for(var f=d.split(`
`),x=-1,v=-1,_=0,y=[];_!==f.length;++_){var T=f[_].trim().split(":");if(T[0]==="cell"){var C=Oi(T[1]);if(y.length<=C.r)for(x=y.length;x<=C.r;++x)y[x]||(y[x]=[]);switch(x=C.r,v=C.c,T[2]){case"t":y[x][v]=t(T[3]);break;case"v":y[x][v]=+T[3];break;case"vtf":var O=T[T.length-1];case"vtc":switch(T[3]){case"nl":y[x][v]=!!+T[4];break;default:y[x][v]=+T[4];break}T[2]=="vtf"&&(y[x][v]=[y[x][v],O])}}}return g&&g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}function r(d,g){return Jh(n(d,g),g)}function i(d,g){return cf(r(d,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var g=[],f=[],x,v="",_=As(d["!ref"]),y=Array.isArray(d),T=_.s.r;T<=_.e.r;++T)for(var C=_.s.c;C<=_.e.c;++C)if(v=Zn({r:T,c:C}),x=y?(d[T]||[])[C]:d[v],!(!x||x.v==null||x.t==="z")){switch(f=["cell",v,"t"],x.t){case"s":case"str":f.push(e(x.v));break;case"n":x.f?(f[2]="vtf",f[3]="n",f[4]=x.v,f[5]=e(x.f)):(f[2]="v",f[3]=x.v);break;case"b":f[2]="vt"+(x.f?"f":"c"),f[3]="nl",f[4]=x.v?"1":"0",f[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var O=Wa(Ca(x.v));f[2]="vtc",f[3]="nd",f[4]=""+O,f[5]=x.w||Zc(x.z||qr[14],O);break;case"e":continue}g.push(f.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function u(d){return[a,s,o,s,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),mH=function(){function t(u,d,g,f,x){x.raw?d[g][f]=u:u===""||(u==="TRUE"?d[g][f]=!0:u==="FALSE"?d[g][f]=!1:isNaN(Sl(u))?isNaN(qd(u).getDate())?d[g][f]=u:d[g][f]=Ca(u):d[g][f]=Sl(u))}function e(u,d){var g=d||{},f=[];if(!u||u.length===0)return f;for(var x=u.split(/[\r\n]/),v=x.length-1;v>=0&&x[v].length===0;)--v;for(var _=10,y=0,T=0;T<=v;++T)y=x[T].indexOf(" "),y==-1?y=x[T].length:y++,_=Math.max(_,y);for(T=0;T<=v;++T){f[T]=[];var C=0;for(t(x[T].slice(0,_).trim(),f,T,C,g),C=1;C<=(x[T].length-_)/10+1;++C)t(x[T].slice(_+(C-1)*10,_+C*10).trim(),f,T,C,g)}return g.sheetRows&&(f=f.slice(0,g.sheetRows)),f}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var d={},g=!1,f=0,x=0;f<u.length;++f)(x=u.charCodeAt(f))==34?g=!g:!g&&x in n&&(d[x]=(d[x]||0)+1);x=[];for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&x.push([d[f],f]);if(!x.length){d=r;for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&x.push([d[f],f])}return x.sort(function(v,_){return v[0]-_[0]||r[v[1]]-r[_[1]]}),n[x.pop()[1]]||44}function a(u,d){var g=d||{},f="",x=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=i(u.slice(0,1024)):g&&g.FS?f=g.FS:f=i(u.slice(0,1024));var _=0,y=0,T=0,C=0,O=0,Y=f.charCodeAt(0),ae=!1,L=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=g.dateNF!=null?DV(g.dateNF):null;function F(){var S=u.slice(C,O),D={};if(S.charAt(0)=='"'&&S.charAt(S.length-1)=='"'&&(S=S.slice(1,-1).replace(/""/g,'"')),S.length===0)D.t="z";else if(g.raw)D.t="s",D.v=S;else if(S.trim().length===0)D.t="s",D.v=S;else if(S.charCodeAt(0)==61)S.charCodeAt(1)==34&&S.charCodeAt(S.length-1)==34?(D.t="s",D.v=S.slice(2,-1).replace(/""/g,'"')):pq(S)?(D.t="n",D.f=S.slice(1)):(D.t="s",D.v=S);else if(S=="TRUE")D.t="b",D.v=!0;else if(S=="FALSE")D.t="b",D.v=!1;else if(!isNaN(T=Sl(S)))D.t="n",g.cellText!==!1&&(D.w=S),D.v=T;else if(!isNaN(qd(S).getDate())||A&&S.match(A)){D.z=g.dateNF||qr[14];var P=0;A&&S.match(A)&&(S=kV(S,g.dateNF,S.match(A)||[]),P=1),g.cellDates?(D.t="d",D.v=Ca(S,P)):(D.t="n",D.v=Wa(Ca(S,P))),g.cellText!==!1&&(D.w=Zc(D.z,D.v instanceof Date?Wa(D.v):D.v)),g.cellNF||delete D.z}else D.t="s",D.v=S;if(D.t=="z"||(g.dense?(x[_]||(x[_]=[]),x[_][y]=D):x[Zn({c:y,r:_})]=D),C=O+1,I=u.charCodeAt(C),v.e.c<y&&(v.e.c=y),v.e.r<_&&(v.e.r=_),L==Y)++y;else if(y=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;O<u.length;++O)switch(L=u.charCodeAt(O)){case 34:I===34&&(ae=!ae);break;case Y:case 10:case 13:if(!ae&&F())break e;break}return O-C>0&&F(),x["!ref"]=di(v),x}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,d):Jh(e(u,d),d)}function o(u,d){var g="",f=d.type=="string"?[0,0,0,0]:NY(u,d);switch(d.type){case"base64":g=Fl(u);break;case"binary":g=u;break;case"buffer":d.codepage==65001?g=u.toString("utf8"):d.codepage&&typeof em<"u"||(g=Mn&&Buffer.isBuffer(u)?u.toString("binary"):E1(u));break;case"array":g=h2(u);break;case"string":g=u;break;default:throw new Error("Unrecognized type "+d.type)}return f[0]==239&&f[1]==187&&f[2]==191?g=cd(g.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?g=cd(g):d.type=="binary"&&typeof em<"u",g.slice(0,19)=="socialcalc:version:"?jR.to_sheet(d.type=="string"?g:cd(g),d):s(g,d)}function l(u,d){return cf(o(u,d),d)}function c(u){for(var d=[],g=Er(u["!ref"]),f,x=Array.isArray(u),v=g.s.r;v<=g.e.r;++v){for(var _=[],y=g.s.c;y<=g.e.c;++y){var T=Zn({r:v,c:y});if(f=x?(u[v]||[])[y]:u[T],!f||f.v==null){_.push("          ");continue}for(var C=(f.w||(Ml(f),f.w)||"").slice(0,10);C.length<10;)C+=" ";_.push(C+(y===0?" ":""))}d.push(_.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),kE=function(){function t(N,j,B){if(N){hs(N,N.l||0);for(var z=B.Enum||_e;N.l<N.length;){var Q=N.read_shift(2),he=z[Q]||z[65535],xe=N.read_shift(2),pe=N.l+xe,Ee=he.f&&he.f(N,xe,B);if(N.l=pe,j(Ee,he,Q))return}}}function e(N,j){switch(j.type){case"base64":return n(ro(Fl(N)),j);case"binary":return n(ro(N),j);case"buffer":case"array":return n(N,j)}throw"Unsupported type "+j.type}function n(N,j){if(!N)return N;var B=j||{},z=B.dense?[]:{},Q="Sheet1",he="",xe=0,pe={},Ee=[],He=[],Ye={s:{r:0,c:0},e:{r:0,c:0}},ot=B.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)B.Enum=_e,t(N,function(Ke,xt,Ve){switch(Ve){case 0:B.vers=Ke,Ke>=4096&&(B.qpro=!0);break;case 6:Ye=Ke;break;case 204:Ke&&(he=Ke);break;case 222:he=Ke;break;case 15:case 51:B.qpro||(Ke[1].v=Ke[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(Ke[2]&112)==112&&(Ke[2]&15)>1&&(Ke[2]&15)<15&&(Ke[1].z=B.dateNF||qr[14],B.cellDates&&(Ke[1].t="d",Ke[1].v=nR(Ke[1].v))),B.qpro&&Ke[3]>xe&&(z["!ref"]=di(Ye),pe[Q]=z,Ee.push(Q),z=B.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},xe=Ke[3],Q=he||"Sheet"+(xe+1),he="");var ft=B.dense?(z[Ke[0].r]||[])[Ke[0].c]:z[Zn(Ke[0])];if(ft){ft.t=Ke[1].t,ft.v=Ke[1].v,Ke[1].z!=null&&(ft.z=Ke[1].z),Ke[1].f!=null&&(ft.f=Ke[1].f);break}B.dense?(z[Ke[0].r]||(z[Ke[0].r]=[]),z[Ke[0].r][Ke[0].c]=Ke[1]):z[Zn(Ke[0])]=Ke[1];break}},B);else if(N[2]==26||N[2]==14)B.Enum=Ie,N[2]==14&&(B.qpro=!0,N.l=0),t(N,function(Ke,xt,Ve){switch(Ve){case 204:Q=Ke;break;case 22:Ke[1].v=Ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ke[3]>xe&&(z["!ref"]=di(Ye),pe[Q]=z,Ee.push(Q),z=B.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},xe=Ke[3],Q="Sheet"+(xe+1)),ot>0&&Ke[0].r>=ot)break;B.dense?(z[Ke[0].r]||(z[Ke[0].r]=[]),z[Ke[0].r][Ke[0].c]=Ke[1]):z[Zn(Ke[0])]=Ke[1],Ye.e.c<Ke[0].c&&(Ye.e.c=Ke[0].c),Ye.e.r<Ke[0].r&&(Ye.e.r=Ke[0].r);break;case 27:Ke[14e3]&&(He[Ke[14e3][0]]=Ke[14e3][1]);break;case 1537:He[Ke[0]]=Ke[1],Ke[0]==xe&&(Q=Ke[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(z["!ref"]=di(Ye),pe[he||Q]=z,Ee.push(he||Q),!He.length)return{SheetNames:Ee,Sheets:pe};for(var De={},fe=[],wt=0;wt<He.length;++wt)pe[Ee[wt]]?(fe.push(He[wt]||Ee[wt]),De[He[wt]]=pe[He[wt]]||pe[Ee[wt]]):(fe.push(He[wt]),De[He[wt]]={"!ref":"A1"});return{SheetNames:fe,Sheets:De}}function r(N,j){var B=j||{};if(+B.codepage>=0&&zd(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Ha(),Q=Er(N["!ref"]),he=Array.isArray(N),xe=[];pt(z,0,a(1030)),pt(z,6,l(Q));for(var pe=Math.min(Q.e.r,8191),Ee=Q.s.r;Ee<=pe;++Ee)for(var He=Ki(Ee),Ye=Q.s.c;Ye<=Q.e.c;++Ye){Ee===Q.s.r&&(xe[Ye]=ha(Ye));var ot=xe[Ye]+He,De=he?(N[Ee]||[])[Ye]:N[ot];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?pt(z,13,f(Ee,Ye,De.v)):pt(z,14,v(Ee,Ye,De.v));else{var fe=Ml(De);pt(z,15,d(Ee,Ye,fe.slice(0,239)))}}return pt(z,1),z.end()}function i(N,j){var B=j||{};if(+B.codepage>=0&&zd(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Ha();pt(z,0,s(N));for(var Q=0,he=0;Q<N.SheetNames.length;++Q)(N.Sheets[N.SheetNames[Q]]||{})["!ref"]&&pt(z,27,ie(N.SheetNames[Q],he++));var xe=0;for(Q=0;Q<N.SheetNames.length;++Q){var pe=N.Sheets[N.SheetNames[Q]];if(!(!pe||!pe["!ref"])){for(var Ee=Er(pe["!ref"]),He=Array.isArray(pe),Ye=[],ot=Math.min(Ee.e.r,8191),De=Ee.s.r;De<=ot;++De)for(var fe=Ki(De),wt=Ee.s.c;wt<=Ee.e.c;++wt){De===Ee.s.r&&(Ye[wt]=ha(wt));var Ke=Ye[wt]+fe,xt=He?(pe[De]||[])[wt]:pe[Ke];if(!(!xt||xt.t=="z"))if(xt.t=="n")pt(z,23,F(De,wt,xe,xt.v));else{var Ve=Ml(xt);pt(z,22,L(De,wt,xe,Ve.slice(0,239)))}}++xe}}return pt(z,1),z.end()}function a(N){var j=qe(2);return j.write_shift(2,N),j}function s(N){var j=qe(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var B=0,z=0,Q=0,he=0;he<N.SheetNames.length;++he){var xe=N.SheetNames[he],pe=N.Sheets[xe];if(!(!pe||!pe["!ref"])){++Q;var Ee=As(pe["!ref"]);B<Ee.e.r&&(B=Ee.e.r),z<Ee.e.c&&(z=Ee.e.c)}}return B>8191&&(B=8191),j.write_shift(2,B),j.write_shift(1,Q),j.write_shift(1,z),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function o(N,j,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&B.qpro?(z.s.c=N.read_shift(1),N.l++,z.s.r=N.read_shift(2),z.e.c=N.read_shift(1),N.l++,z.e.r=N.read_shift(2),z):(z.s.c=N.read_shift(2),z.s.r=N.read_shift(2),j==12&&B.qpro&&(N.l+=2),z.e.c=N.read_shift(2),z.e.r=N.read_shift(2),j==12&&B.qpro&&(N.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(N){var j=qe(8);return j.write_shift(2,N.s.c),j.write_shift(2,N.s.r),j.write_shift(2,N.e.c),j.write_shift(2,N.e.r),j}function c(N,j,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=N.read_shift(1),z[3]=N.read_shift(1),z[0].r=N.read_shift(2),N.l+=2):(z[2]=N.read_shift(1),z[0].c=N.read_shift(2),z[0].r=N.read_shift(2)),z}function u(N,j,B){var z=N.l+j,Q=c(N,j,B);if(Q[1].t="s",B.vers==20768){N.l++;var he=N.read_shift(1);return Q[1].v=N.read_shift(he,"utf8"),Q}return B.qpro&&N.l++,Q[1].v=N.read_shift(z-N.l,"cstr"),Q}function d(N,j,B){var z=qe(7+B.length);z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,N),z.write_shift(1,39);for(var Q=0;Q<z.length;++Q){var he=B.charCodeAt(Q);z.write_shift(1,he>=128?95:he)}return z.write_shift(1,0),z}function g(N,j,B){var z=c(N,j,B);return z[1].v=N.read_shift(2,"i"),z}function f(N,j,B){var z=qe(7);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,N),z.write_shift(2,B,"i"),z}function x(N,j,B){var z=c(N,j,B);return z[1].v=N.read_shift(8,"f"),z}function v(N,j,B){var z=qe(13);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,N),z.write_shift(8,B,"f"),z}function _(N,j,B){var z=N.l+j,Q=c(N,j,B);if(Q[1].v=N.read_shift(8,"f"),B.qpro)N.l=z;else{var he=N.read_shift(2);O(N.slice(N.l,N.l+he),Q),N.l+=he}return Q}function y(N,j,B){var z=j&32768;return j&=-32769,j=(z?N:0)+(j>=8192?j-16384:j),(z?"":"$")+(B?ha(j):Ki(j))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(N,j){hs(N,0);for(var B=[],z=0,Q="",he="",xe="",pe="";N.l<N.length;){var Ee=N[N.l++];switch(Ee){case 0:B.push(N.read_shift(8,"f"));break;case 1:he=y(j[0].c,N.read_shift(2),!0),Q=y(j[0].r,N.read_shift(2),!1),B.push(he+Q);break;case 2:{var He=y(j[0].c,N.read_shift(2),!0),Ye=y(j[0].r,N.read_shift(2),!1);he=y(j[0].c,N.read_shift(2),!0),Q=y(j[0].r,N.read_shift(2),!1),B.push(He+Ye+":"+he+Q)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(N.read_shift(2));break;case 6:{for(var ot="";Ee=N[N.l++];)ot+=String.fromCharCode(Ee);B.push('"'+ot.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:pe=B.pop(),xe=B.pop(),B.push(["AND","OR"][Ee-20]+"("+xe+","+pe+")");break;default:if(Ee<32&&C[Ee])pe=B.pop(),xe=B.pop(),B.push(xe+C[Ee]+pe);else if(T[Ee]){if(z=T[Ee][1],z==69&&(z=N[N.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+B.join("|")+"|");return}var De=B.slice(-z);B.length-=z,B.push(T[Ee][0]+"("+De.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}B.length==1?j[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function Y(N){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=N.read_shift(2),j[3]=N[N.l++],j[0].c=N[N.l++],j}function ae(N,j){var B=Y(N);return B[1].t="s",B[1].v=N.read_shift(j-4,"cstr"),B}function L(N,j,B,z){var Q=qe(6+z.length);Q.write_shift(2,N),Q.write_shift(1,B),Q.write_shift(1,j),Q.write_shift(1,39);for(var he=0;he<z.length;++he){var xe=z.charCodeAt(he);Q.write_shift(1,xe>=128?95:xe)}return Q.write_shift(1,0),Q}function I(N,j){var B=Y(N);B[1].v=N.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function A(N,j){var B=Y(N),z=N.read_shift(4),Q=N.read_shift(4),he=N.read_shift(2);if(he==65535)return z===0&&Q===3221225472?(B[1].t="e",B[1].v=15):z===0&&Q===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var xe=he&32768;return he=(he&32767)-16446,B[1].v=(1-xe*2)*(Q*Math.pow(2,he+32)+z*Math.pow(2,he)),B}function F(N,j,B,z){var Q=qe(14);if(Q.write_shift(2,N),Q.write_shift(1,B),Q.write_shift(1,j),z==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var he=0,xe=0,pe=0,Ee=0;return z<0&&(he=1,z=-z),xe=Math.log2(z)|0,z/=Math.pow(2,xe-31),Ee=z>>>0,Ee&2147483648||(z/=2,++xe,Ee=z>>>0),z-=Ee,Ee|=2147483648,Ee>>>=0,z*=Math.pow(2,32),pe=z>>>0,Q.write_shift(4,pe),Q.write_shift(4,Ee),xe+=16383+(he?32768:0),Q.write_shift(2,xe),Q}function S(N,j){var B=A(N);return N.l+=j-14,B}function D(N,j){var B=Y(N),z=N.read_shift(4);return B[1].v=z>>6,B}function P(N,j){var B=Y(N),z=N.read_shift(8,"f");return B[1].v=z,B}function ue(N,j){var B=P(N);return N.l+=j-10,B}function me(N,j){return N[N.l+j-1]==0?N.read_shift(j,"cstr"):""}function de(N,j){var B=N[N.l++];B>j-1&&(B=j-1);for(var z="";z.length<B;)z+=String.fromCharCode(N[N.l++]);return z}function we(N,j,B){if(!(!B.qpro||j<21)){var z=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var Q=N.read_shift(j-21,"cstr");return[z,Q]}}function J(N,j){for(var B={},z=N.l+j;N.l<z;){var Q=N.read_shift(2);if(Q==14e3){for(B[Q]=[0,""],B[Q][0]=N.read_shift(2);N[N.l];)B[Q][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return B}function ie(N,j){var B=qe(5+N.length);B.write_shift(2,14e3),B.write_shift(2,j);for(var z=0;z<N.length;++z){var Q=N.charCodeAt(z);B[B.l++]=Q>127?95:Q}return B[B.l++]=0,B}var _e={0:{n:"BOF",f:OR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},Ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ae},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:S},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:we},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),vH=/^\s|\s$|[\t\n\r]/;function UR(t,e){if(!e.bookSST)return"";var n=[pi];n[n.length]=dt("sst",null,{xmlns:Zh[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(vH)&&(a+=' xml:space="preserve"'),a+=">"+Qn(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function yH(t){return[t.read_shift(4),t.read_shift(4)]}function xH(t,e){return e||(e=qe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var _H=uz;function wH(t){var e=Ha();nt(e,159,xH(t));for(var n=0;n<t.length;++n)nt(e,19,_H(t[n]));return nt(e,160),e.end()}function bH(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function VR(t){var e=0,n,r=bH(t),i=r.length+1,a,s,o,l,c;for(n=Qu(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var EH=function(){function t(i,a){switch(a.type){case"base64":return e(Fl(i),a);case"binary":return e(i,a);case"buffer":return e(Mn&&Buffer.isBuffer(i)?i.toString("binary"):E1(i),a);case"array":return e(h2(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var g=/\\\w+\b/g,f=0,x,v=-1;x=g.exec(u);){switch(x[0]){case"\\cell":var _=u.slice(f,g.lastIndex-x[0].length);if(_[0]==" "&&(_=_.slice(1)),++v,_.length){var y={v:_,t:"s"};Array.isArray(o)?o[d][v]=y:o[Zn({r:d,c:v})]=y}break}f=g.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=di(c),o}function n(i,a){return cf(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Er(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=Zn({r:c,c:u});o=l?(i[c]||[])[u]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Ml(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function OE(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var AH=6,Tl=AH;function cm(t){return Math.floor((t+Math.round(128/Tl)/256)*Tl)}function um(t){return Math.floor((t-5)/Tl*100+.5)/100}function B5(t){return Math.round((t*Tl+5)/Tl*256)/256}function uw(t){t.width?(t.wpx=cm(t.width),t.wch=um(t.wpx),t.MDW=Tl):t.wpx?(t.wch=um(t.wpx),t.width=B5(t.wch),t.MDW=Tl):typeof t.wch=="number"&&(t.width=B5(t.wch),t.wpx=cm(t.width),t.MDW=Tl),t.customWidth&&delete t.customWidth}var SH=96,zR=SH;function fm(t){return t*96/zR}function HR(t){return t*zR/96}function TH(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=dt("numFmt",null,{numFmtId:r,formatCode:Qn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=dt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function CH(t){var e=[];return e[e.length]=dt("cellXfs",null),t.forEach(function(n){e[e.length]=dt("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=dt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function qR(t,e){var n=[pi,dt("styleSheet",null,{xmlns:Zh[0],"xmlns:vt":Di.vt})],r;return t.SSF&&(r=TH(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=CH(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function NH(t,e){var n=t.read_shift(2),r=da(t);return[n,r]}function RH(t,e,n){n||(n=qe(6+4*e.length)),n.write_shift(2,t),Pi(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function IH(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=vz(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=mz(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=da(t),r}function LH(t,e){e||(e=qe(25+4*32)),e.write_shift(2,t.sz*20),yz(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),om(t.color,e);var r=0;return r=2,e.write_shift(1,r),Pi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var DH=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Fv,kH=Ho;function PE(t,e){e||(e=qe(4*3+8*7+16*1)),Fv||(Fv=Z_(DH));var n=Fv[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(om({auto:1},e),om({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function OH(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function WR(t,e,n){n||(n=qe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function N0(t,e){return e||(e=qe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var PH=Ho;function FH(t,e){return e||(e=qe(51)),e.write_shift(1,0),N0(null,e),N0(null,e),N0(null,e),N0(null,e),N0(null,e),e.length>e.l?e.slice(0,e.l):e}function MH(t,e){return e||(e=qe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),sm(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function BH(t,e,n){var r=qe(2052);return r.write_shift(4,t),sm(e,r),sm(n,r),r.length>r.l?r.slice(0,r.l):r}function jH(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(nt(t,615,oo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&nt(t,44,RH(i,e[i]))}),nt(t,616))}}function UH(t){var e=1;nt(t,611,oo(e)),nt(t,43,LH({sz:12,color:{theme:1},name:"Calibri",family:2})),nt(t,612)}function VH(t){var e=2;nt(t,603,oo(e)),nt(t,45,PE({patternType:"none"})),nt(t,45,PE({patternType:"gray125"})),nt(t,604)}function zH(t){var e=1;nt(t,613,oo(e)),nt(t,46,FH()),nt(t,614)}function HH(t){var e=1;nt(t,626,oo(e)),nt(t,47,WR({numFmtId:0},65535)),nt(t,627)}function qH(t,e){nt(t,617,oo(e.length)),e.forEach(function(n){nt(t,47,WR(n,0))}),nt(t,618)}function WH(t){var e=1;nt(t,619,oo(e)),nt(t,48,MH({xfId:0,name:"Normal"})),nt(t,620)}function GH(t){var e=0;nt(t,505,oo(e)),nt(t,506)}function $H(t){var e=0;nt(t,508,BH(e,"TableStyleMedium9","PivotStyleMedium4")),nt(t,509)}function YH(t,e){var n=Ha();return nt(n,278),jH(n,t.SSF),UH(n),VH(n),zH(n),HH(n),qH(n,e.cellXfs),WH(n),GH(n),$H(n),nt(n,279),n.end()}function GR(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[pi];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function XH(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:da(t)}}function KH(t){var e=qe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Pi(t.name,e),e.slice(0,e.l)}function QH(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function ZH(t){var e=qe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function JH(t,e){var n=qe(8+2*e.length);return n.write_shift(4,t),Pi(e,n),n.slice(0,n.l)}function eq(t){return t.l+=4,t.read_shift(4)!=0}function tq(t,e){var n=qe(8);return n.write_shift(4,t),n.write_shift(4,1),n}function nq(){var t=Ha();return nt(t,332),nt(t,334,oo(1)),nt(t,335,KH({name:"XLDAPR",version:12e4,flags:3496657072})),nt(t,336),nt(t,339,JH(1,"XLDAPR")),nt(t,52),nt(t,35,oo(514)),nt(t,4096,oo(0)),nt(t,4097,Ps(1)),nt(t,36),nt(t,53),nt(t,340),nt(t,337,tq(1)),nt(t,51,ZH([[1,0]])),nt(t,338),nt(t,333),t.end()}function $R(){var t=[pi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function rq(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Zn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var eh=1024;function YR(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[dt("xml",null,{"xmlns:v":ds.v,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:mv":ds.mv}).replace(/\/>/,">"),dt("o:shapelayout",dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dt("v:shapetype",[dt("v:stroke",null,{joinstyle:"miter"}),dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];eh<t*1e3;)eh+=1e3;return e.forEach(function(a){var s=Oi(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=dt("v:fill",l,o),u={on:"t",obscured:"t"};++eh,i=i.concat(["<v:shape"+Gd({id:"_x0000_s"+eh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,dt("v:shadow",null,u),dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yi("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Yi("x:AutoFill","False"),Yi("x:Row",String(s.r)),Yi("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function XR(t){var e=[pi,dt("comments",null,{xmlns:Zh[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=Qn(i.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Qn(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Yi("t",Qn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(Yi("t",Qn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function iq(t,e,n){var r=[pi,dt("ThreadedComments",null,{xmlns:Di.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(dt("threadedComment",Yi("text",s.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function aq(t){var e=[pi,dt("personList",null,{xmlns:Di.TCMNT,"xmlns:x":Zh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(dt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function sq(t){var e={};e.iauthor=t.read_shift(4);var n=df(t);return e.rfx=n.s,e.ref=Zn(n.s),t.l+=16,e}function oq(t,e){return e==null&&(e=qe(36)),e.write_shift(4,t[1].iauthor),e0(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var lq=da;function cq(t){return Pi(t.slice(0,54))}function uq(t){var e=Ha(),n=[];return nt(e,628),nt(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),nt(e,632,cq(i.a)))})}),nt(e,631),nt(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:Oi(r[0]),e:Oi(r[0])};nt(e,635,oq([a,i])),i.t&&i.t.length>0&&nt(e,637,hz(i)),nt(e,636),delete i.iauthor})}),nt(e,634),nt(e,629),e.end()}function fq(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&nr.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var KR=["xlsb","xlsm","xlam","biff8","xla"],hq=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+ha(u)+(l?"":"$")+Ki(c)}return function(i,a){return e=a,i.replace(t,n)}}(),fw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hw=function(){return function(e,n){return e.replace(fw,function(r,i,a,s,o,l){var c=aw(s)-(a?0:n.c),u=iw(l)-(o?0:n.r),d=u==0?"":o?u+1:"["+u+"]",g=c==0?"":a?c+1:"["+c+"]";return i+"R"+d+"C"+g})}}();function dq(t,e){return t.replace(fw,function(n,r,i,a,s,o){return r+(i=="$"?i+a:ha(aw(a)+e.c))+(s=="$"?s+o:Ki(iw(o)+e.r))})}function pq(t){return t.length!=1}function si(t){t.l+=1}function Jc(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function QR(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return ZR(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=Jc(t),o=Jc(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function ZR(t){var e=Jc(t),n=Jc(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function gq(t,e,n){if(n.biff<8)return ZR(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=Jc(t),s=Jc(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function JR(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return mq(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Jc(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function mq(t){var e=Jc(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function vq(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function yq(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return xq(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function xq(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function _q(t,e,n){var r=(t[t.l++]&96)>>5,i=QR(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function wq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=QR(t,a,n);return[r,i,s]}function bq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Eq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function Aq(t,e,n){var r=(t[t.l++]&96)>>5,i=gq(t,e-1,n);return[r,i]}function Sq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function FE(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function Tq(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Cq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Nq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Rq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Iq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function e7(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Lq(t){return t.read_shift(2),e7(t)}function Dq(t){return t.read_shift(2),e7(t)}function kq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=JR(t,0,n);return[r,i]}function Oq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=yq(t,0,n);return[r,i]}function Pq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=JR(t,0,n);return[r,i,a]}function Fq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[FW[i],r7[i],r]}function Mq(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Bq(t);return[i,(a[0]===0?r7:PW)[a[1]]]}function Bq(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function jq(t,e,n){t.l+=n&&n.biff==2?3:4}function Uq(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Vq(t){return t.l++,T1[t.read_shift(1)]}function zq(t){return t.l++,t.read_shift(2)}function Hq(t){return t.l++,t.read_shift(1)!==0}function qq(t){return t.l++,t0(t)}function Wq(t,e,n){return t.l++,FR(t,e-1,n)}function Gq(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Pz(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=T1[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=t0(t);break;case 2:n[1]=jz(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function $q(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?df:zz)(t));return i}function Yq(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Gq(t,n.biff);return s}function Xq(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function Kq(t,e,n){if(n.biff==5)return Qq(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function Qq(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function Zq(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Jq(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function eW(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function tW(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var nW=Ho,rW=Ho,iW=Ho;function C1(t,e,n){return t.l+=2,[vq(t)]}function dw(t){return t.l+=6,[]}var aW=C1,sW=dw,oW=dw,lW=C1;function t7(t){return t.l+=2,[OR(t),t.read_shift(2)&1]}var cW=C1,uW=t7,fW=dw,hW=C1,dW=C1,pW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gW(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=pW[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function mW(t){return t.l+=2,[t.read_shift(4)]}function vW(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function yW(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function xW(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function _W(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function wW(t){return t.l+=4,[0,0]}var ME={1:{n:"PtgExp",f:Uq},2:{n:"PtgTbl",f:iW},3:{n:"PtgAdd",f:si},4:{n:"PtgSub",f:si},5:{n:"PtgMul",f:si},6:{n:"PtgDiv",f:si},7:{n:"PtgPower",f:si},8:{n:"PtgConcat",f:si},9:{n:"PtgLt",f:si},10:{n:"PtgLe",f:si},11:{n:"PtgEq",f:si},12:{n:"PtgGe",f:si},13:{n:"PtgGt",f:si},14:{n:"PtgNe",f:si},15:{n:"PtgIsect",f:si},16:{n:"PtgUnion",f:si},17:{n:"PtgRange",f:si},18:{n:"PtgUplus",f:si},19:{n:"PtgUminus",f:si},20:{n:"PtgPercent",f:si},21:{n:"PtgParen",f:si},22:{n:"PtgMissArg",f:si},23:{n:"PtgStr",f:Wq},26:{n:"PtgSheet",f:vW},27:{n:"PtgEndSheet",f:yW},28:{n:"PtgErr",f:Vq},29:{n:"PtgBool",f:Hq},30:{n:"PtgInt",f:zq},31:{n:"PtgNum",f:qq},32:{n:"PtgArray",f:Sq},33:{n:"PtgFunc",f:Fq},34:{n:"PtgFuncVar",f:Mq},35:{n:"PtgName",f:Xq},36:{n:"PtgRef",f:kq},37:{n:"PtgArea",f:_q},38:{n:"PtgMemArea",f:Zq},39:{n:"PtgMemErr",f:nW},40:{n:"PtgMemNoMem",f:rW},41:{n:"PtgMemFunc",f:Jq},42:{n:"PtgRefErr",f:eW},43:{n:"PtgAreaErr",f:bq},44:{n:"PtgRefN",f:Oq},45:{n:"PtgAreaN",f:Aq},46:{n:"PtgMemAreaN",f:xW},47:{n:"PtgMemNoMemN",f:_W},57:{n:"PtgNameX",f:Kq},58:{n:"PtgRef3d",f:Pq},59:{n:"PtgArea3d",f:wq},60:{n:"PtgRefErr3d",f:tW},61:{n:"PtgAreaErr3d",f:Eq},255:{}},bW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EW={1:{n:"PtgElfLel",f:t7},2:{n:"PtgElfRw",f:hW},3:{n:"PtgElfCol",f:aW},6:{n:"PtgElfRwV",f:dW},7:{n:"PtgElfColV",f:lW},10:{n:"PtgElfRadical",f:cW},11:{n:"PtgElfRadicalS",f:fW},13:{n:"PtgElfColS",f:sW},15:{n:"PtgElfColSV",f:oW},16:{n:"PtgElfRadicalLel",f:uW},25:{n:"PtgList",f:gW},29:{n:"PtgSxName",f:mW},255:{}},AW={0:{n:"PtgAttrNoop",f:wW},1:{n:"PtgAttrSemi",f:Iq},2:{n:"PtgAttrIf",f:Nq},4:{n:"PtgAttrChoose",f:Tq},8:{n:"PtgAttrGoto",f:Cq},16:{n:"PtgAttrSum",f:jq},32:{n:"PtgAttrBaxcel",f:FE},33:{n:"PtgAttrBaxcel",f:FE},64:{n:"PtgAttrSpace",f:Lq},65:{n:"PtgAttrSpaceSemi",f:Dq},128:{n:"PtgAttrIfError",f:Rq},255:{}};function SW(t,e,n,r){if(r.biff<8)return Ho(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=Yq(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=$q(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(Ho(t,e)),a}function TW(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=ME[a]||ME[bW[a]],(a===24||a===25)&&(i=(a===24?EW:AW)[t[t.l+1]]),!i||!i.f?Ho(t,e):s.push([i.n,i.f(t,e,n)]);return s}function CW(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var NW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RW(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function n7(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function BE(t,e,n){var r=n7(t,e,n);return r=="#REF"?r:RW(r,n)}function Mh(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,d=0,g=0,f,x="";if(!t[0]||!t[0][0])return"";for(var v=-1,_="",y=0,T=t[0].length;y<T;++y){var C=t[0][y];switch(C[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:_=zr(" ",t[0][v][1][1]);break;case 1:_=zr("\r",t[0][v][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}c=c+_,v=-1}o.push(c+NW[C[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=fd(C[1][1],s,i),o.push(hd(u,a));break;case"PtgRefN":u=n?fd(C[1][1],n,i):C[1][1],o.push(hd(u,a));break;case"PtgRef3d":d=C[1][1],u=fd(C[1][2],s,i),x=BE(r,d,i),o.push(x+"!"+hd(u,a));break;case"PtgFunc":case"PtgFuncVar":var O=C[1][0],Y=C[1][1];O||(O=0),O&=127;var ae=O==0?[]:o.slice(-O);o.length-=O,Y==="User"&&(Y=ae.shift()),o.push(Y+"("+ae.join(",")+")");break;case"PtgBool":o.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(C[1]);break;case"PtgNum":o.push(String(C[1]));break;case"PtgStr":o.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(C[1]);break;case"PtgAreaN":f=bE(C[1][1],n?{s:n}:s,i),o.push(Ov(f,i));break;case"PtgArea":f=bE(C[1][1],s,i),o.push(Ov(f,i));break;case"PtgArea3d":d=C[1][1],f=C[1][2],x=BE(r,d,i),o.push(x+"!"+Ov(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var L=(r.names||[])[g-1]||(r[0]||[])[g],I=L?L.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var A=C[1][1];g=C[1][2];var F;if(i.biff<=5)A<0&&(A=-A),r[A]&&(F=r[A][g]);else{var S="";if(((r[A]||[])[0]||[])[0]==14849||(((r[A]||[])[0]||[])[0]==1025?r[A][g]&&r[A][g].itab>0&&(S=r.SheetNames[r[A][g].itab-1]+"!"):S=r.SheetNames[g-1]+"!"),r[A]&&r[A][g])S+=r[A][g].Name;else if(r[0]&&r[0][g])S+=r[0][g].Name;else{var D=(n7(r,A,i)||"").split(";;");D[g-1]?S=D[g-1]:S+="SH33TJSERRX"}o.push(S);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var P="(",ue=")";if(v>=0){switch(_="",t[0][v][1][0]){case 2:P=zr(" ",t[0][v][1][1])+P;break;case 3:P=zr("\r",t[0][v][1][1])+P;break;case 4:ue=zr(" ",t[0][v][1][1])+ue;break;case 5:ue=zr("\r",t[0][v][1][1])+ue;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(P+o.pop()+ue);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:C[1][1],r:C[1][0]};var me={c:n.c,r:n.r};if(r.sharedf[Zn(u)]){var de=r.sharedf[Zn(u)];o.push(Mh(de,s,me,r,i))}else{var we=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Mh(c[1],s,me,r,i)),we=!0;break}we||o.push(C[1])}break;case"PtgArray":o.push("{"+CW(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&J.indexOf(t[0][y][0])==-1){C=t[0][v];var ie=!0;switch(C[1][0]){case 4:ie=!1;case 0:_=zr(" ",C[1][1]);break;case 5:ie=!1;case 1:_=zr("\r",C[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}o.push((ie?_:"")+o.pop()+(ie?"":_)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function IW(t){if(t==null){var e=qe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Zu(t);return Zu(0)}function LW(t,e,n,r,i){var a=Ju(e,n,i),s=IW(t.v),o=qe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=qe(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var d=$i([a,s,o,c]);return d}function d2(t,e,n){var r=t.read_shift(4),i=TW(t,r,n),a=t.read_shift(4),s=a>0?SW(t,a,i,n):null;return[i,s]}var DW=d2,p2=d2,kW=d2,OW=d2,PW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},r7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function MW(t){var e="of:="+t.replace(fw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function BW(t){return t.replace(/\./,"!")}var dd=typeof Map<"u";function pw(t,e,n){var r=0,i=t.length;if(n){if(dd?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=dd?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(dd?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function g2(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Tl=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=um(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=B5(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function i7(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function cu(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){JN(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function jW(t,e,n){if(t&&t["!ref"]){var r=Er(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function UW(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+di(t[n])+'"/>';return e+"</mergeCells>"}function VW(t,e,n,r,i){var a=!1,s={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}a=!0,s.codeName=Wd(Qn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+dt("outlinePr",null,c)}!a&&!o||(i[i.length]=dt("sheetPr",o,s))}var zW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],HW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qW(t){var e={sheet:1};return zW.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),HW.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=VR(t.password).toString(16).toUpperCase()),dt("sheetProtection",null,e)}function WW(t){return i7(t),dt("pageMargins",null,t)}function GW(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=dt("col",null,g2(i,r)));return n[n.length]="</cols>",n.join("")}function $W(t,e,n,r){var i=typeof t.ref=="string"?t.ref:di(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=As(i);s.s.r==s.e.r&&(s.e.r=As(e["!ref"]).e.r,i=di(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),dt("autoFilter",null,{ref:i})}function YW(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),dt("sheetViews",dt("sheetView",null,i),{})}function XW(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=T1[t.v];break;case"d":r&&r.cellDates?i=Ca(t.v,-1).toISOString():(t=Ga(t),t.t="n",i=""+(t.v=Wa(Ca(t.v)))),typeof t.z>"u"&&(t.z=qr[14]);break;default:i=t.v;break}var o=Yi("v",Qn(i)),l={r:e},c=cu(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Yi("v",""+pw(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=dt("f",Qn(t.f),u)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),dt("c",o,l)}function KW(t,e,n,r){var i=[],a=[],s=Er(t["!ref"]),o="",l,c="",u=[],d=0,g=0,f=t["!rows"],x=Array.isArray(t),v={r:c},_,y=-1;for(g=s.s.c;g<=s.e.c;++g)u[g]=ha(g);for(d=s.s.r;d<=s.e.r;++d){for(a=[],c=Ki(d),g=s.s.c;g<=s.e.c;++g){l=u[g]+c;var T=x?(t[d]||[])[g]:t[l];T!==void 0&&(o=XW(T,l,t,e))!=null&&a.push(o)}(a.length>0||f&&f[d])&&(v={r:c},f&&f[d]&&(_=f[d],_.hidden&&(v.hidden=1),y=-1,_.hpx?y=fm(_.hpx):_.hpt&&(y=_.hpt),y>-1&&(v.ht=y,v.customHeight=1),_.level&&(v.outlineLevel=_.level)),i[i.length]=dt("row",a.join(""),v))}if(f)for(;d<f.length;++d)f&&f[d]&&(v={r:d+1},_=f[d],_.hidden&&(v.hidden=1),y=-1,_.hpx?y=fm(_.hpx):_.hpt&&(y=_.hpt),y>-1&&(v.ht=y,v.customHeight=1),_.level&&(v.outlineLevel=_.level),i[i.length]=dt("row","",v));return i.join("")}function a7(t,e,n,r){var i=[pi,dt("worksheet",null,{xmlns:Zh[0],"xmlns:r":Di.r})],a=n.SheetNames[t],s=0,o="",l=n.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=Er(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=di(u)}r||(r={}),l["!comments"]=[];var d=[];VW(l,n,t,e,i),i[i.length]=dt("dimension",null,{ref:c}),i[i.length]=YW(l,e,t,n),e.sheetFormat&&(i[i.length]=dt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=GW(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=KW(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=qW(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=$W(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=UW(l["!merges"]));var g=-1,f,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(f={ref:v[0]},v[1].Target.charAt(0)!="#"&&(x=Yn(r,-1,Qn(v[1].Target).replace(/#.*$/,""),Pn.HLINK),f["r:id"]="rId"+x),(g=v[1].Target.indexOf("#"))>-1&&(f.location=Qn(v[1].Target.slice(g+1))),v[1].Tooltip&&(f.tooltip=Qn(v[1].Tooltip)),i[i.length]=dt("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=WW(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Yi("ignoredErrors",dt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(x=Yn(r,-1,"../drawings/drawing"+(t+1)+".xml",Pn.DRAW),i[i.length]=dt("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=d),l["!comments"].length>0&&(x=Yn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Pn.VML),i[i.length]=dt("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function QW(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function ZW(t,e,n){var r=qe(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=fm(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var d=-1,g=-1,f=u<<10;f<u+1<<10;++f){c.c=f;var x=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Zn(c)];x&&(d<0&&(d=f),g=f)}d<0||(++o,r.write_shift(4,d),r.write_shift(4,g))}var v=r.l;return r.l=l,r.write_shift(4,o),r.l=v,r.length>r.l?r.slice(0,r.l):r}function JW(t,e,n,r){var i=ZW(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&nt(t,0,i)}var eG=df,tG=e0;function nG(){}function rG(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=dz(t),n}function iG(t,e,n){n==null&&(n=qe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return om({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),_R(t,n),n.slice(0,n.l)}function aG(t){var e=$s(t);return[e]}function sG(t,e,n){return n==null&&(n=qe(8)),uf(e,n)}function oG(t){var e=ff(t);return[e]}function lG(t,e,n){return n==null&&(n=qe(4)),hf(e,n)}function cG(t){var e=$s(t),n=t.read_shift(1);return[e,n,"b"]}function uG(t,e,n){return n==null&&(n=qe(9)),uf(e,n),n.write_shift(1,t.v?1:0),n}function fG(t){var e=ff(t),n=t.read_shift(1);return[e,n,"b"]}function hG(t,e,n){return n==null&&(n=qe(5)),hf(e,n),n.write_shift(1,t.v?1:0),n}function dG(t){var e=$s(t),n=t.read_shift(1);return[e,n,"e"]}function pG(t,e,n){return n==null&&(n=qe(9)),uf(e,n),n.write_shift(1,t.v),n}function gG(t){var e=ff(t),n=t.read_shift(1);return[e,n,"e"]}function mG(t,e,n){return n==null&&(n=qe(8)),hf(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function vG(t){var e=$s(t),n=t.read_shift(4);return[e,n,"s"]}function yG(t,e,n){return n==null&&(n=qe(12)),uf(e,n),n.write_shift(4,e.v),n}function xG(t){var e=ff(t),n=t.read_shift(4);return[e,n,"s"]}function _G(t,e,n){return n==null&&(n=qe(8)),hf(e,n),n.write_shift(4,e.v),n}function wG(t){var e=$s(t),n=t0(t);return[e,n,"n"]}function bG(t,e,n){return n==null&&(n=qe(16)),uf(e,n),Zu(t.v,n),n}function EG(t){var e=ff(t),n=t0(t);return[e,n,"n"]}function AG(t,e,n){return n==null&&(n=qe(12)),hf(e,n),Zu(t.v,n),n}function SG(t){var e=$s(t),n=wR(t);return[e,n,"n"]}function TG(t,e,n){return n==null&&(n=qe(12)),uf(e,n),bR(t.v,n),n}function CG(t){var e=ff(t),n=wR(t);return[e,n,"n"]}function NG(t,e,n){return n==null&&(n=qe(8)),hf(e,n),bR(t.v,n),n}function RG(t){var e=$s(t),n=sw(t);return[e,n,"is"]}function IG(t){var e=$s(t),n=da(t);return[e,n,"str"]}function LG(t,e,n){return n==null&&(n=qe(12+4*t.v.length)),uf(e,n),Pi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function DG(t){var e=ff(t),n=da(t);return[e,n,"str"]}function kG(t,e,n){return n==null&&(n=qe(8+4*t.v.length)),hf(e,n),Pi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function OG(t,e,n){var r=t.l+e,i=$s(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var o=p2(t,r-t.l,n);s[3]=Mh(o,null,i,n.supbooks,n)}else t.l=r;return s}function PG(t,e,n){var r=t.l+e,i=$s(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var o=p2(t,r-t.l,n);s[3]=Mh(o,null,i,n.supbooks,n)}else t.l=r;return s}function FG(t,e,n){var r=t.l+e,i=$s(t);i.r=n["!row"];var a=t0(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var o=p2(t,r-t.l,n);s[3]=Mh(o,null,i,n.supbooks,n)}else t.l=r;return s}function MG(t,e,n){var r=t.l+e,i=$s(t);i.r=n["!row"];var a=da(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var o=p2(t,r-t.l,n);s[3]=Mh(o,null,i,n.supbooks,n)}else t.l=r;return s}var BG=df,jG=e0;function UG(t,e){return e==null&&(e=qe(4)),e.write_shift(4,t),e}function VG(t,e){var n=t.l+e,r=df(t),i=ow(t),a=da(t),s=da(t),o=da(t);t.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function zG(t,e){var n=qe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));e0({s:Oi(t[0]),e:Oi(t[0])},n),lw("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Pi(i||"",n),Pi(t[1].Tooltip||"",n),Pi("",n),n.slice(0,n.l)}function HG(){}function qG(t,e,n){var r=t.l+e,i=ER(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=DW(t,r-t.l,n);s[1]=o}else t.l=r;return s}function WG(t,e,n){var r=t.l+e,i=df(t),a=[i];if(n.cellFormula){var s=OW(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}function GG(t,e,n){n==null&&(n=qe(18));var r=g2(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var s7=["left","right","top","bottom","header","footer"];function $G(t){var e={};return s7.forEach(function(n){e[n]=t0(t)}),e}function YG(t,e){return e==null&&(e=qe(6*8)),i7(t),s7.forEach(function(n){Zu(t[n],e)}),e}function XG(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function KG(t,e,n){n==null&&(n=qe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function QG(t){var e=qe(24);return e.write_shift(4,4),e.write_shift(4,1),e0(t,e),e}function ZG(t,e){return e==null&&(e=qe(16*4+2)),e.write_shift(2,t.password?VR(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function JG(){}function e$(){}function t$(t,e,n,r,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Ga(e),e.z=e.z||qr[14],e.v=Wa(Ca(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=cu(i.cellXfs,e,i),e.l&&a["!links"].push([Zn(l),e.l]),e.c&&a["!comments"].push([Zn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=pw(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?nt(t,18,_G(e,l)):nt(t,7,yG(e,l))):(l.t="str",s?nt(t,17,kG(e,l)):nt(t,6,LG(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?nt(t,13,NG(e,l)):nt(t,2,TG(e,l)):s?nt(t,16,AG(e,l)):nt(t,5,bG(e,l)),!0;case"b":return l.t="b",s?nt(t,15,hG(e,l)):nt(t,4,uG(e,l)),!0;case"e":return l.t="e",s?nt(t,14,mG(e,l)):nt(t,3,pG(e,l)),!0}return s?nt(t,12,lG(e,l)):nt(t,1,sG(e,l)),!0}function n$(t,e,n,r){var i=Er(e["!ref"]||"A1"),a,s="",o=[];nt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=Ki(u),JW(t,e,i,u);var d=!1;if(u<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){u===i.s.r&&(o[g]=ha(g)),a=o[g]+s;var f=l?(e[u]||[])[g]:e[a];if(!f){d=!1;continue}d=t$(t,f,u,g,r,e,d)}}nt(t,146)}function r$(t,e){!e||!e["!merges"]||(nt(t,177,UG(e["!merges"].length)),e["!merges"].forEach(function(n){nt(t,176,jG(n))}),nt(t,178))}function i$(t,e){!e||!e["!cols"]||(nt(t,390),e["!cols"].forEach(function(n,r){n&&nt(t,60,GG(r,n))}),nt(t,391))}function a$(t,e){!e||!e["!ref"]||(nt(t,648),nt(t,649,QG(Er(e["!ref"]))),nt(t,650))}function s$(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Yn(n,-1,r[1].Target.replace(/#.*$/,""),Pn.HLINK);nt(t,494,zG(r,i))}}),delete e["!links"]}function o$(t,e,n,r){if(e["!comments"].length>0){var i=Yn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Pn.VML);nt(t,551,lw("rId"+i)),e["!legacy"]=i}}function l$(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:di(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=As(a);o.s.r==o.e.r&&(o.e.r=As(e["!ref"]).e.r,a=di(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),nt(t,161,e0(Er(a))),nt(t,162)}}function c$(t,e,n){nt(t,133),nt(t,137,KG(e,n)),nt(t,138),nt(t,134)}function u$(t,e){e["!protect"]&&nt(t,535,ZG(e["!protect"]))}function f$(t,e,n,r){var i=Ha(),a=n.SheetNames[t],s=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=Er(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],nt(i,129),(n.vbaraw||s["!outline"])&&nt(i,147,iG(o,s["!outline"])),nt(i,148,tG(l)),c$(i,s,n.Workbook),i$(i,s),n$(i,s,t,e),u$(i,s),l$(i,s,n,t),r$(i,s),s$(i,s,r),s["!margins"]&&nt(i,476,YG(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&a$(i,s),o$(i,s,t,r),nt(i,130),i.end()}function h$(t,e){t.l+=10;var n=da(t);return{name:n}}var d$=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function p$(t){return!t.Workbook||!t.Workbook.WBProps?"false":WV(t.Workbook.WBProps.date1904)?"true":"false"}var g$="][*?/\\".split("");function o7(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return g$.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function m$(t,e,n){t.forEach(function(r,i){o7(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function v$(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];m$(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)jW(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function l7(t){var e=[pi];e[e.length]=dt("workbook",null,{xmlns:Zh[0],"xmlns:r":Di.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(d$.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=dt("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Qn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=dt("sheet",null,s)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=dt("definedName",Qn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function y$(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=M5(t),n.name=da(t),n}function x$(t,e){return e||(e=qe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),lw(t.strRelID,e),Pi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function _$(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?da(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function w$(t,e){e||(e=qe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),_R(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function b$(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=pz(t),s=kW(t,0,n),o=ow(t);t.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function E$(t,e){nt(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};nt(t,156,x$(i))}nt(t,144)}function A$(t,e){e||(e=qe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Pi("SheetJS",e),Pi(Jg.version,e),Pi(Jg.version,e),Pi("7262",e),e.length>e.l?e.slice(0,e.l):e}function S$(t,e){e||(e=qe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function T$(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(nt(t,135),nt(t,158,S$(i)),nt(t,136))}}function C$(t,e){var n=Ha();return nt(n,131),nt(n,128,A$()),nt(n,153,w$(t.Workbook&&t.Workbook.WBProps||null)),T$(n,t),E$(n,t),nt(n,132),n.end()}function N$(t,e,n){return(e.slice(-4)===".bin"?C$:l7)(t)}function R$(t,e,n,r,i){return(e.slice(-4)===".bin"?f$:a7)(t,n,r,i)}function I$(t,e,n){return(e.slice(-4)===".bin"?YH:qR)(t,n)}function L$(t,e,n){return(e.slice(-4)===".bin"?wH:UR)(t,n)}function D$(t,e,n){return(e.slice(-4)===".bin"?uq:XR)(t)}function k$(t){return(t.slice(-4)===".bin"?nq:$R)()}function O$(t,e){var n=[];return t.Props&&n.push(Iz(t.Props,e)),t.Custprops&&n.push(Lz(t.Props,t.Custprops)),n.join("")}function P$(){return""}function F$(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(dt("NumberFormat",null,{"ss:Format":Qn(qr[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};n.push(dt("Style",a.join(""),s))}),dt("Styles",n.join(""))}function c7(t){return dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+hw(t.Ref,{r:0,c:0})})}function M$(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(c7(i)))}return dt("Names",n.join(""))}function B$(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(c7(o)))}return a.join("")}function j$(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(dt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(dt("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Yi("ProtectContents","True")),t["!protect"].objects&&i.push(Yi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Yi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Yi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Yi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":dt("WorksheetOptions",i.join(""),{xmlns:ds.x})}function U$(t){return t.map(function(e){var n=qV(e.t||""),r=dt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return dt("Comment",r,{"ss:Author":e.a})}).join("")}function V$(t,e,n,r,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Qn(hw(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Oi(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Qn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Qn(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",g="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",g=String(t.v);break;case"b":d="Boolean",g=t.v?"1":"0";break;case"e":d="Error",g=T1[t.v];break;case"d":d="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||qr[14]);break;case"s":d="String",g=HV(t.v||"");break}var f=cu(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var x=t.v!=null?g:"",v=t.t=="z"?"":'<Data ss:Type="'+d+'">'+x+"</Data>";return(t.c||[]).length>0&&(v+=U$(t.c)),dt("Cell",v,o)}function z$(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=HR(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function H$(t,e,n,r){if(!t["!ref"])return"";var i=Er(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(_,y){uw(_);var T=!!_.width,C=g2(y,_),O={"ss:Index":y+1};T&&(O["ss:Width"]=cm(C.width)),_.hidden&&(O["ss:Hidden"]="1"),o.push(dt("Column",null,O))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[z$(c,(t["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var g=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>d)&&!(a[s].s.r>c)&&!(a[s].e.c<d)&&!(a[s].e.r<c)){(a[s].s.c!=d||a[s].s.r!=c)&&(g=!0);break}if(!g){var f={r:c,c:d},x=Zn(f),v=l?(t[c]||[])[d]:t[x];u.push(V$(v,x,t,e,n,r,f))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function q$(t,e,n){var r=[],i=n.SheetNames[t],a=n.Sheets[i],s=a?B$(a,e,t,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?H$(a,e,t,n):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(j$(a,e,t,n)),r.join("")}function W$(t,e){e||(e={}),t.SSF||(t.SSF=Ga(qr)),t.SSF&&(u2(),c2(t.SSF),e.revssf=f2(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(O$(t,e)),n.push(P$()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(dt("Worksheet",q$(r,e,t),{"ss:Name":Qn(t.SheetNames[r])}));return n[2]=F$(t,e),n[3]=M$(t),pi+dt("Workbook",n.join(""),{xmlns:ds.ss,"xmlns:o":ds.o,"xmlns:x":ds.x,"xmlns:ss":ds.ss,"xmlns:dt":ds.dt,"xmlns:html":ds.html})}var Mv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function G$(t,e){var n=[],r=[],i=[],a=0,s,o=fE(AE,"n"),l=fE(SE,"n");if(t.Props)for(s=Zi(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Zi(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?n:Object.prototype.hasOwnProperty.call(l,s[a])?r:i).push([s[a],t.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)kR.indexOf(i[a][0])>-1||IR.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);r.length&&nr.utils.cfb_add(e,"/SummaryInformation",IE(r,Mv.SI,l,SE)),(n.length||c.length)&&nr.utils.cfb_add(e,"/DocumentSummaryInformation",IE(n,Mv.DSI,o,AE,c.length?c:null,Mv.UDI))}function $$(t,e){var n=e||{},r=nr.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return nr.utils.cfb_add(r,i,u7(t,n)),n.biff==8&&(t.Props||t.Custprops)&&G$(t,r),n.biff==8&&t.vbaraw&&fq(r,nr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var Y$={0:{f:QW},1:{f:aG},2:{f:SG},3:{f:dG},4:{f:cG},5:{f:wG},6:{f:IG},7:{f:vG},8:{f:MG},9:{f:FG},10:{f:OG},11:{f:PG},12:{f:oG},13:{f:CG},14:{f:gG},15:{f:fG},16:{f:EG},17:{f:DG},18:{f:xG},19:{f:sw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:b$},40:{},42:{},43:{f:IH},44:{f:NH},45:{f:kH},46:{f:PH},47:{f:OH},48:{},49:{f:oz},50:{},51:{f:QH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:lH},62:{f:RG},63:{f:rq},64:{f:JG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ho,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rG},148:{f:eG,p:16},151:{f:HG},152:{},153:{f:_$},154:{},155:{},156:{f:y$},157:{},158:{},159:{T:1,f:yH},160:{T:-1},161:{T:1,f:df},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:BG},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XH},336:{T:-1},337:{f:eq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:M5},357:{},358:{},359:{},360:{T:1},361:{},362:{f:nH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qG},427:{f:WG},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$G},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nG},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:VG},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:M5},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lq},633:{T:1},634:{T:-1},635:{T:1,f:sq},636:{T:-1},637:{f:fz},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:h$},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:e$},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function pt(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&rw(n)&&t.push(n)}}function X$(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return pt(t,e,n,i);var a=e;if(!isNaN(a)){for(var s=n.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,a),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function N1(t,e,n){return t||(t=qe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function K$(t,e,n,r){var i=qe(9);return N1(i,t,e),PR(n,r||"b",i),i}function Q$(t,e,n){var r=qe(8+2*n.length);return N1(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Z$(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Wa(Ca(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?pt(t,2,hH(n,r,i)):pt(t,3,fH(n,r,i));return;case"b":case"e":pt(t,5,K$(n,r,e.v,e.t));return;case"s":case"str":pt(t,4,Q$(n,r,(e.v||"").slice(0,255)));return}pt(t,1,N1(null,n,r))}function J$(t,e,n,r){var i=Array.isArray(e),a=Er(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=di(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Ki(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=ha(u)),s=l[u]+o;var d=i?(e[c]||[])[u]:e[s];d&&Z$(t,d,c,u)}}}function eY(t,e){for(var n=e||{},r=Ha(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return pt(r,n.biff==4?1033:n.biff==3?521:9,cw(t,16,n)),J$(r,t.Sheets[t.SheetNames[i]],i,n),pt(r,10),r.end()}function tY(t,e,n){pt(t,49,Yz({sz:12,name:"Arial"},n))}function nY(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&pt(t,1054,Qz(i,e[i],n))})}function rY(t,e){var n=qe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),pt(t,2151,n),n=qe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),BR(Er(e["!ref"]||"A1"),n),n.write_shift(4,4),pt(t,2152,n)}function iY(t,e){for(var n=0;n<16;++n)pt(t,224,DE({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){pt(t,224,DE(r,0,e))})}function aY(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];pt(t,440,aH(r)),r[1].Tooltip&&pt(t,2048,sH(r))}delete e["!links"]}function sY(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&pt(t,125,cH(g2(i,r),i))})}}function oY(t,e,n,r,i){var a=16+cu(i.cellXfs,e,i);if(e.v==null&&!e.bf){pt(t,513,Ju(n,r,a));return}if(e.bf)pt(t,6,LW(e,n,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Wa(Ca(e.v)):e.v;pt(t,515,tH(n,r,s,a));break;case"b":case"e":pt(t,517,eH(n,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=pw(i.Strings,e.v,i.revStrings);pt(t,253,Xz(n,r,o,a))}else pt(t,516,Kz(n,r,(e.v||"").slice(0,255),a,i));break;default:pt(t,513,Ju(n,r,a))}}function lY(t,e,n){var r=Ha(),i=n.SheetNames[t],a=n.Sheets[i]||{},s=(n||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),c=e.biff==8,u,d="",g=[],f=Er(a["!ref"]||"A1"),x=c?65536:16384;if(f.e.c>255||f.e.r>=x){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,x-1)}pt(r,2057,cw(n,16,e)),pt(r,13,Ps(1)),pt(r,12,Ps(100)),pt(r,15,Aa(!0)),pt(r,17,Aa(!1)),pt(r,16,Zu(.001)),pt(r,95,Aa(!0)),pt(r,42,Aa(!1)),pt(r,43,Aa(!1)),pt(r,130,Ps(1)),pt(r,128,Jz()),pt(r,131,Aa(!1)),pt(r,132,Aa(!1)),c&&sY(r,a["!cols"]),pt(r,512,Zz(f,e)),c&&(a["!links"]=[]);for(var v=f.s.r;v<=f.e.r;++v){d=Ki(v);for(var _=f.s.c;_<=f.e.c;++_){v===f.s.r&&(g[_]=ha(_)),u=g[_]+d;var y=l?(a[v]||[])[_]:a[u];y&&(oY(r,y,v,_,e),c&&y.l&&a["!links"].push([u,y.l]))}}var T=o.CodeName||o.name||i;return c&&pt(r,574,$z((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&pt(r,229,iH(a["!merges"])),c&&aY(r,a),pt(r,442,MR(T)),c&&rY(r,a),pt(r,10),r.end()}function cY(t,e,n){var r=Ha(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(pt(r,2057,cw(t,5,n)),n.bookType=="xla"&&pt(r,135),pt(r,225,o?Ps(1200):null),pt(r,193,Oz(2)),l&&pt(r,191),l&&pt(r,192),pt(r,226),pt(r,92,Hz("SheetJS",n)),pt(r,66,Ps(o?1200:1252)),o&&pt(r,353,Ps(0)),o&&pt(r,448),pt(r,317,uH(t.SheetNames.length)),o&&t.vbaraw&&pt(r,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";pt(r,442,MR(c))}pt(r,156,Ps(17)),pt(r,25,Aa(!1)),pt(r,18,Aa(!1)),pt(r,19,Ps(0)),o&&pt(r,431,Aa(!1)),o&&pt(r,444,Ps(0)),pt(r,61,Gz()),pt(r,64,Aa(!1)),pt(r,141,Ps(0)),pt(r,34,Aa(p$(t)=="true")),pt(r,14,Aa(!0)),o&&pt(r,439,Aa(!1)),pt(r,218,Ps(0)),tY(r,t,n),nY(r,t.SSF,n),iY(r,n),o&&pt(r,352,Aa(!1));var u=r.end(),d=Ha();o&&pt(d,140,oH()),o&&n.Strings&&X$(d,252,Wz(n.Strings)),pt(d,10);var g=d.end(),f=Ha(),x=0,v=0;for(v=0;v<t.SheetNames.length;++v)x+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var _=u.length+x+g.length;for(v=0;v<t.SheetNames.length;++v){var y=a[v]||{};pt(f,133,qz({pos:_,hs:y.Hidden||0,dt:0,name:t.SheetNames[v]},n)),_+=e[v].length}var T=f.end();if(x!=T.length)throw new Error("BS8 "+x+" != "+T.length);var C=[];return u.length&&C.push(u),T.length&&C.push(T),g.length&&C.push(g),$i(C)}function uY(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Ga(qr)),t&&t.SSF&&(u2(),c2(t.SSF),n.revssf=f2(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,gw(n),n.cellXfs=[],cu(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=lY(i,n,t);return r.unshift(cY(t,r,n)),$i(r)}function u7(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=As(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return uY(t,e);case 4:case 3:case 2:return eY(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function fY(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>s)&&!(i[c].e.r<n||i[c].e.c<s)){if(i[c].s.r<n||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Zn({r:n,c:s}),d=r.dense?(t[n]||[])[s]:t[u],g=d&&d.v!=null&&(d.h||zV(d.w||(Ml(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),r.editable?g='<span contenteditable="true">'+g+"</span>":d&&(f["data-t"]=d&&d.t||"z",d.v!=null&&(f["data-v"]=d.v),d.z!=null&&(f["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+d.l.Target+'">'+g+"</a>")),f.id=(r.id||"sjs")+"-"+u,a.push(dt("td",g,f))}}var x="<tr>";return x+a.join("")+"</tr>"}var hY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dY="</body></html>";function pY(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function f7(t,e){var n=e||{},r=n.header!=null?n.header:hY,i=n.footer!=null?n.footer:dY,a=[r],s=As(t["!ref"]);n.dense=Array.isArray(t),a.push(pY(t,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(fY(t,s,o,n));return a.push("</table>"+i),a.join("")}function h7(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Oi(r.origin):r.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=As(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var d=[],g=0,f=t["!rows"]||(t["!rows"]=[]),x=0,v=0,_=0,y=0,T=0,C=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&v<l;++x){var O=o[x];if(jE(O)){if(r.display)continue;f[v]={hidden:!0}}var Y=O.children;for(_=y=0;_<Y.length;++_){var ae=Y[_];if(!(r.display&&jE(ae))){var L=ae.hasAttribute("data-v")?ae.getAttribute("data-v"):ae.hasAttribute("v")?ae.getAttribute("v"):GV(ae.innerHTML),I=ae.getAttribute("data-z")||ae.getAttribute("z");for(g=0;g<d.length;++g){var A=d[g];A.s.c==y+a&&A.s.r<v+i&&v+i<=A.e.r&&(y=A.e.c+1-a,g=-1)}C=+ae.getAttribute("colspan")||1,((T=+ae.getAttribute("rowspan")||1)>1||C>1)&&d.push({s:{r:v+i,c:y+a},e:{r:v+i+(T||1)-1,c:y+a+(C||1)-1}});var F={t:"s",v:L},S=ae.getAttribute("data-t")||ae.getAttribute("t")||"";L!=null&&(L.length==0?F.t=S||"z":r.raw||L.trim().length==0||S=="s"||(L==="TRUE"?F={t:"b",v:!0}:L==="FALSE"?F={t:"b",v:!1}:isNaN(Sl(L))?isNaN(qd(L).getDate())||(F={t:"d",v:Ca(L)},r.cellDates||(F={t:"n",v:Wa(F.v)}),F.z=r.dateNF||qr[14]):F={t:"n",v:Sl(L)})),F.z===void 0&&I!=null&&(F.z=I);var D="",P=ae.getElementsByTagName("A");if(P&&P.length)for(var ue=0;ue<P.length&&!(P[ue].hasAttribute("href")&&(D=P[ue].getAttribute("href"),D.charAt(0)!="#"));++ue);D&&D.charAt(0)!="#"&&(F.l={Target:D}),r.dense?(t[v+i]||(t[v+i]=[]),t[v+i][y+a]=F):t[Zn({c:y+a,r:v+i})]=F,c.e.c<y+a&&(c.e.c=y+a),y+=C}}++v}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,v-1+i),t["!ref"]=di(c),v>=l&&(t["!fullref"]=di((c.e.r=o.length-x+v-1+i,c))),t}function d7(t,e){var n=e||{},r=n.dense?[]:{};return h7(r,t,e)}function gY(t,e){return cf(d7(t,e),e)}function jE(t){var e="",n=mY(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function mY(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var vY=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Gd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return pi+e}}(),UE=function(){var t=function(a){return Qn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,s,o){var l=[];l.push('      <table:table table:name="'+Qn(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,d=As(a["!ref"]||"A1"),g=a["!merges"]||[],f=0,x=Array.isArray(a);if(a["!cols"])for(u=0;u<=d.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var v="",_=a["!rows"]||[];for(c=0;c<d.s.r;++c)v=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=d.e.r;++c){for(v=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),u=0;u<d.s.c;++u)l.push(e);for(;u<=d.e.c;++u){var y=!1,T={},C="";for(f=0;f!=g.length;++f)if(!(g[f].s.c>u)&&!(g[f].s.r>c)&&!(g[f].e.c<u)&&!(g[f].e.r<c)){(g[f].s.c!=u||g[f].s.r!=c)&&(y=!0),T["table:number-columns-spanned"]=g[f].e.c-g[f].s.c+1,T["table:number-rows-spanned"]=g[f].e.r-g[f].s.r+1;break}if(y){l.push(n);continue}var O=Zn({r:c,c:u}),Y=x?(a[c]||[])[u]:a[O];if(Y&&Y.f&&(T["table:formula"]=Qn(MW(Y.f)),Y.F&&Y.F.slice(0,O.length)==O)){var ae=As(Y.F);T["table:number-matrix-columns-spanned"]=ae.e.c-ae.s.c+1,T["table:number-matrix-rows-spanned"]=ae.e.r-ae.s.r+1}if(!Y){l.push(e);continue}switch(Y.t){case"b":C=Y.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=Y.v?"true":"false";break;case"n":C=Y.w||String(Y.v||0),T["office:value-type"]="float",T["office:value"]=Y.v||0;break;case"s":case"str":C=Y.v==null?"":Y.v,T["office:value-type"]="string";break;case"d":C=Y.w||Ca(Y.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=Ca(Y.v).toISOString(),T["table:style-name"]="ce1";break;default:l.push(e);continue}var L=t(C);if(Y.l&&Y.l.Target){var I=Y.l.Target;I=I.charAt(0)=="#"?"#"+BW(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),L=dt("text:a",L,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+dt("table:table-cell",dt("text:p",L,{}),T)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var d=c["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;uw(d),d.ods=o;var g=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var d=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[pi],c=Gd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Gd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(NR().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)l.push(r(s.Sheets[s.SheetNames[d]],s,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function p7(t,e){if(e.bookType=="fods")return UE(t,e);var n=J_(),r="",i=[],a=[];return r="mimetype",dn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",dn(n,r,UE(t,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",dn(n,r,vY(t,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",dn(n,r,pi+NR()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",dn(n,r,Rz(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",dn(n,r,Cz(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function hm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yY(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ro(Wd(t))}function xY(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function eu(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function _Y(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=n>=0?0:128}function $d(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Gn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function ph(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function _i(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=$d(t,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:s=4,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=$d(t,n),o=t.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Ui(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Gn(r*8+i.type)),i.type==2&&e.push(Gn(i.data.length)),e.push(i.data))})}),eu(e)}function Js(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=$d(t,r),a=_i(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:ph(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=_i(o.data),c=ph(l[3][0].data);s.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=ph(a[3][0].data)>>>0>0),n.push(s)}return n}function Sf(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Gn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Gn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Gn(s.data.length)}],r[2].push({data:Ui(s.meta),type:2})});var a=Ui(r);e.push(Gn(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),eu(e)}function wY(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=$d(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[n[0]],o>1&&(s|=e[n[0]+1]<<8),o>2&&(s|=e[n[0]+2]<<16),o>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,a==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[eu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=eu(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function eo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(wY(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return eu(e)}function Tf(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var a=Gn(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return eu(e)}function Bv(t,e){var n=new Uint8Array(32),r=hm(n),i=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,_Y(n,i,t.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,i)}function jv(t,e){var n=new Uint8Array(32),r=hm(n),i=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,i)}function fc(t){var e=_i(t);return $d(e[1][0].data)}function bY(t,e,n){var r,i,a,s;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&ph(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=hm(t[7][0].data),u=0,d=[],g=hm(t[4][0].data),f=0,x=[],v=0;v<e.length;++v){if(e[v]==null){c.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}c.setUint16(v*2,u,!0),g.setUint16(v*2,f,!0);var _,y;switch(typeof e[v]){case"string":_=Bv({t:"s",v:e[v]},n),y=jv({t:"s",v:e[v]},n);break;case"number":_=Bv({t:"n",v:e[v]},n),y=jv({t:"n",v:e[v]},n);break;case"boolean":_=Bv({t:"b",v:e[v]},n),y=jv({t:"b",v:e[v]},n);break;default:throw new Error("Unsupported value "+e[v])}d.push(_),u+=_.length,x.push(y),f+=y.length,++l}for(t[2][0].data=Gn(l);v<t[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return t[6][0].data=eu(d),t[3][0].data=eu(x),l}function EY(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=As(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(di(r)));var a=dm(n,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(j){return j.forEach(function(B){typeof B=="string"&&s.push(B)})});var o={},l=[],c=nr.read(e.numbers,{type:"base64"});c.FileIndex.map(function(j,B){return[j,c.FullPaths[B]]}).forEach(function(j){var B=j[0],z=j[1];if(B.type==2&&B.name.match(/\.iwa/)){var Q=B.content,he=eo(Q),xe=Js(he);xe.forEach(function(pe){l.push(pe.id),o[pe.id]={deps:[],location:z,type:ph(pe.messages[0].meta[1][0].data)}})}}),l.sort(function(j,B){return j-B});var u=l.filter(function(j){return j>1}).map(function(j){return[j,Gn(j)]});c.FileIndex.map(function(j,B){return[j,c.FullPaths[B]]}).forEach(function(j){var B=j[0];if(j[1],!!B.name.match(/\.iwa/)){var z=Js(eo(B.content));z.forEach(function(Q){Q.messages.forEach(function(he){u.forEach(function(xe){Q.messages.some(function(pe){return ph(pe.meta[1][0].data)!=11006&&xY(pe.data,xe[1])})&&o[xe[0]].deps.push(Q.id)})})})}});for(var d=nr.find(c,o[1].location),g=Js(eo(d.content)),f,x=0;x<g.length;++x){var v=g[x];v.id==1&&(f=v)}var _=fc(_i(f.messages[0].data)[1][0].data);for(d=nr.find(c,o[_].location),g=Js(eo(d.content)),x=0;x<g.length;++x)v=g[x],v.id==_&&(f=v);for(_=fc(_i(f.messages[0].data)[2][0].data),d=nr.find(c,o[_].location),g=Js(eo(d.content)),x=0;x<g.length;++x)v=g[x],v.id==_&&(f=v);for(_=fc(_i(f.messages[0].data)[2][0].data),d=nr.find(c,o[_].location),g=Js(eo(d.content)),x=0;x<g.length;++x)v=g[x],v.id==_&&(f=v);var y=_i(f.messages[0].data);{y[6][0].data=Gn(r.e.r+1),y[7][0].data=Gn(r.e.c+1);var T=fc(y[46][0].data),C=nr.find(c,o[T].location),O=Js(eo(C.content));{for(var Y=0;Y<O.length&&O[Y].id!=T;++Y);if(O[Y].id!=T)throw"Bad ColumnRowUIDMapArchive";var ae=_i(O[Y].messages[0].data);ae[1]=[],ae[2]=[],ae[3]=[];for(var L=0;L<=r.e.c;++L){var I=[];I[1]=I[2]=[{type:0,data:Gn(L+420690)}],ae[1].push({type:2,data:Ui(I)}),ae[2].push({type:0,data:Gn(L)}),ae[3].push({type:0,data:Gn(L)})}ae[4]=[],ae[5]=[],ae[6]=[];for(var A=0;A<=r.e.r;++A)I=[],I[1]=I[2]=[{type:0,data:Gn(A+726270)}],ae[4].push({type:2,data:Ui(I)}),ae[5].push({type:0,data:Gn(A)}),ae[6].push({type:0,data:Gn(A)});O[Y].messages[0].data=Ui(ae)}C.content=Tf(Sf(O)),C.size=C.content.length,delete y[46];var F=_i(y[4][0].data);{F[7][0].data=Gn(r.e.r+1);var S=_i(F[1][0].data),D=fc(S[2][0].data);C=nr.find(c,o[D].location),O=Js(eo(C.content));{if(O[0].id!=D)throw"Bad HeaderStorageBucket";var P=_i(O[0].messages[0].data);for(A=0;A<a.length;++A){var ue=_i(P[2][0].data);ue[1][0].data=Gn(A),ue[4][0].data=Gn(a[A].length),P[2][A]={type:P[2][0].type,data:Ui(ue)}}O[0].messages[0].data=Ui(P)}C.content=Tf(Sf(O)),C.size=C.content.length;var me=fc(F[2][0].data);C=nr.find(c,o[me].location),O=Js(eo(C.content));{if(O[0].id!=me)throw"Bad HeaderStorageBucket";for(P=_i(O[0].messages[0].data),L=0;L<=r.e.c;++L)ue=_i(P[2][0].data),ue[1][0].data=Gn(L),ue[4][0].data=Gn(r.e.r+1),P[2][L]={type:P[2][0].type,data:Ui(ue)};O[0].messages[0].data=Ui(P)}C.content=Tf(Sf(O)),C.size=C.content.length;var de=fc(F[4][0].data);(function(){for(var j=nr.find(c,o[de].location),B=Js(eo(j.content)),z,Q=0;Q<B.length;++Q){var he=B[Q];he.id==de&&(z=he)}var xe=_i(z.messages[0].data);{xe[3]=[];var pe=[];s.forEach(function(Ye,ot){pe[1]=[{type:0,data:Gn(ot)}],pe[2]=[{type:0,data:Gn(1)}],pe[3]=[{type:2,data:yY(Ye)}],xe[3].push({type:2,data:Ui(pe)})})}z.messages[0].data=Ui(xe);var Ee=Sf(B),He=Tf(Ee);j.content=He,j.size=j.content.length})();var we=_i(F[3][0].data);{var J=we[1][0];delete we[2];var ie=_i(J.data);{var _e=fc(ie[2][0].data);(function(){for(var j=nr.find(c,o[_e].location),B=Js(eo(j.content)),z,Q=0;Q<B.length;++Q){var he=B[Q];he.id==_e&&(z=he)}var xe=_i(z.messages[0].data);{delete xe[6],delete we[7];var pe=new Uint8Array(xe[5][0].data);xe[5]=[];for(var Ee=0,He=0;He<=r.e.r;++He){var Ye=_i(pe);Ee+=bY(Ye,a[He],s),Ye[1][0].data=Gn(He),xe[5].push({data:Ui(Ye),type:2})}xe[1]=[{type:0,data:Gn(r.e.c+1)}],xe[2]=[{type:0,data:Gn(r.e.r+1)}],xe[3]=[{type:0,data:Gn(Ee)}],xe[4]=[{type:0,data:Gn(r.e.r+1)}]}z.messages[0].data=Ui(xe);var ot=Sf(B),De=Tf(ot);j.content=De,j.size=j.content.length})()}J.data=Ui(ie)}F[3][0].data=Ui(we)}y[4][0].data=Ui(F)}f.messages[0].data=Ui(y);var Ie=Sf(g),N=Tf(Ie);return d.content=N,d.size=d.content.length,c}function AY(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function gw(t){AY([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function SY(t,e){return e.bookType=="ods"?p7(t,e):e.bookType=="numbers"?EY(t,e):e.bookType=="xlsb"?TY(t,e):CY(t,e)}function TY(t,e){eh=1024,t&&!t.SSF&&(t.SSF=Ga(qr)),t&&t.SSF&&(u2(),c2(t.SSF),e.revssf=f2(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=KR.indexOf(e.bookType)>-1,i=SR();gw(e=e||{});var a=J_(),s="",o=0;if(e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",dn(a,s,RR(t.Props,e)),i.coreprops.push(s),Yn(e.rels,2,s,Pn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,dn(a,s,LR(t.Props)),i.extprops.push(s),Yn(e.rels,3,s,Pn.EXT_PROPS),t.Custprops!==t.Props&&Zi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",dn(a,s,DR(t.Custprops)),i.custprops.push(s),Yn(e.rels,4,s,Pn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],g=(d||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,dn(a,s,R$(o-1,s,e,t,u)),i.sheets.push(s),Yn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Pn.WS[0])}if(d){var f=d["!comments"],x=!1,v="";f&&f.length>0&&(v="xl/comments"+o+"."+n,dn(a,v,D$(f,v)),i.comments.push(v),Yn(u,-1,"../comments"+o+"."+n,Pn.CMNT),x=!0),d["!legacy"]&&x&&dn(a,"xl/drawings/vmlDrawing"+o+".vml",YR(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&dn(a,CR(s),hh(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,dn(a,s,L$(e.Strings,s,e)),i.strs.push(s),Yn(e.wbrels,-1,"sharedStrings."+n,Pn.SST)),s="xl/workbook."+n,dn(a,s,N$(t,s)),i.workbooks.push(s),Yn(e.rels,1,s,Pn.WB),s="xl/theme/theme1.xml",dn(a,s,GR(t.Themes,e)),i.themes.push(s),Yn(e.wbrels,-1,"theme/theme1.xml",Pn.THEME),s="xl/styles."+n,dn(a,s,I$(t,s,e)),i.styles.push(s),Yn(e.wbrels,-1,"styles."+n,Pn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",dn(a,s,t.vbaraw),i.vba.push(s),Yn(e.wbrels,-1,"vbaProject.bin",Pn.VBA)),s="xl/metadata."+n,dn(a,s,k$(s)),i.metadata.push(s),Yn(e.wbrels,-1,"metadata."+n,Pn.XLMETA),dn(a,"[Content_Types].xml",TR(i,e)),dn(a,"_rels/.rels",hh(e.rels)),dn(a,"xl/_rels/workbook."+n+".rels",hh(e.wbrels)),delete e.revssf,delete e.ssf,a}function CY(t,e){eh=1024,t&&!t.SSF&&(t.SSF=Ga(qr)),t&&t.SSF&&(u2(),c2(t.SSF),e.revssf=f2(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,dd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=KR.indexOf(e.bookType)>-1,i=SR();gw(e=e||{});var a=J_(),s="",o=0;if(e.cellXfs=[],cu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",dn(a,s,RR(t.Props,e)),i.coreprops.push(s),Yn(e.rels,2,s,Pn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,dn(a,s,LR(t.Props)),i.extprops.push(s),Yn(e.rels,3,s,Pn.EXT_PROPS),t.Custprops!==t.Props&&Zi(t.Custprops||{}).length>0&&(s="docProps/custom.xml",dn(a,s,DR(t.Custprops)),i.custprops.push(s),Yn(e.rels,4,s,Pn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],f=(g||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+o+"."+n,dn(a,s,a7(o-1,e,t,d)),i.sheets.push(s),Yn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Pn.WS[0])}if(g){var x=g["!comments"],v=!1,_="";if(x&&x.length>0){var y=!1;x.forEach(function(T){T[1].forEach(function(C){C.T==!0&&(y=!0)})}),y&&(_="xl/threadedComments/threadedComment"+o+"."+n,dn(a,_,iq(x,u,e)),i.threadedcomments.push(_),Yn(d,-1,"../threadedComments/threadedComment"+o+"."+n,Pn.TCMNT)),_="xl/comments"+o+"."+n,dn(a,_,XR(x)),i.comments.push(_),Yn(d,-1,"../comments"+o+"."+n,Pn.CMNT),v=!0}g["!legacy"]&&v&&dn(a,"xl/drawings/vmlDrawing"+o+".vml",YR(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}d["!id"].rId1&&dn(a,CR(s),hh(d))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,dn(a,s,UR(e.Strings,e)),i.strs.push(s),Yn(e.wbrels,-1,"sharedStrings."+n,Pn.SST)),s="xl/workbook."+n,dn(a,s,l7(t)),i.workbooks.push(s),Yn(e.rels,1,s,Pn.WB),s="xl/theme/theme1.xml",dn(a,s,GR(t.Themes,e)),i.themes.push(s),Yn(e.wbrels,-1,"theme/theme1.xml",Pn.THEME),s="xl/styles."+n,dn(a,s,qR(t,e)),i.styles.push(s),Yn(e.wbrels,-1,"styles."+n,Pn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",dn(a,s,t.vbaraw),i.vba.push(s),Yn(e.wbrels,-1,"vbaProject.bin",Pn.VBA)),s="xl/metadata."+n,dn(a,s,$R()),i.metadata.push(s),Yn(e.wbrels,-1,"metadata."+n,Pn.XLMETA),u.length>1&&(s="xl/persons/person.xml",dn(a,s,aq(u)),i.people.push(s),Yn(e.wbrels,-1,"persons/person.xml",Pn.PEOPLE)),dn(a,"[Content_Types].xml",TR(i,e)),dn(a,"_rels/.rels",hh(e.rels)),dn(a,"xl/_rels/workbook."+n+".rels",hh(e.wbrels)),delete e.revssf,delete e.ssf,a}function NY(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Fl(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function g7(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return A1(e.file,nr.write(t,{type:Mn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return nr.write(t,e)}function RY(t,e){var n=Ga(e||{}),r=SY(t,n);return IY(r,n)}function IY(t,e){var n={},r=Mn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?nr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(l2(i))}return e.password&&typeof encrypt_agile<"u"?g7(encrypt_agile(i,e.password),e):e.type==="file"?A1(e.file,i):e.type=="string"?cd(i):i}function LY(t,e){var n=e||{},r=$$(t,n);return g7(r,n)}function So(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Hd(Wd(r));case"binary":return Wd(r);case"string":return t;case"file":return A1(e.file,r,"utf8");case"buffer":return Mn?Vl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):So(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function DY(t,e){switch(e.type){case"base64":return Hd(t);case"binary":return t;case"string":return t;case"file":return A1(e.file,t,"binary");case"buffer":return Mn?Vl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ap(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Hd(n):e.type=="string"?cd(n):n;case"file":return A1(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function m7(t,e){sV(),v$(t);var n=Ga(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=m7(t,n);return n.type="array",l2(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return So(W$(t,n),n);case"slk":case"sylk":return So(pH.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return So(f7(t.Sheets[t.SheetNames[i]],n),n);case"txt":return DY(v7(t.Sheets[t.SheetNames[i]],n),n);case"csv":return So(mw(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return So(gH.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Ap(dH.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return So(mH.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return So(EH.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return So(jR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return So(p7(t,n),n);case"wk1":return Ap(kE.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Ap(kE.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Ap(u7(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),LY(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return RY(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function kY(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function VE(t,e,n){var r={};return r.type="file",r.file=e,kY(r),m7(t,r)}function OY(t,e,n,r,i,a,s,o){var l=Ki(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!s||t[n])for(var f=e.s.c;f<=e.e.c;++f){var x=s?t[n][f]:t[r[f]+l];if(x===void 0||x.t===void 0){if(c===void 0)continue;a[f]!=null&&(g[a[f]]=c);continue}var v=x.v;switch(x.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[f]!=null){if(v==null)if(x.t=="e"&&v===null)g[a[f]]=null;else if(c!==void 0)g[a[f]]=c;else if(u&&v===null)g[a[f]]=null;else continue;else g[a[f]]=u&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?v:Ml(x,v,o);v!=null&&(d=!1)}}return{row:g,isempty:d}}function dm(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Er(u);break;case"number":l=Er(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var d=Ki(l.s.r),g=[],f=[],x=0,v=0,_=Array.isArray(t),y=l.s.r,T=0,C={};_&&!t[y]&&(t[y]=[]);var O=c.skipHidden&&t["!cols"]||[],Y=c.skipHidden&&t["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(O[T]||{}).hidden)switch(g[T]=ha(T),n=_?t[y][T]:t[g[T]+d],r){case 1:a[T]=T-l.s.c;break;case 2:a[T]=g[T];break;case 3:a[T]=c.header[T-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=Ml(n,null,c),v=C[s]||0,!v)C[s]=1;else{do o=s+"_"+v++;while(C[o]);C[s]=v,C[o]=1}a[T]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(Y[y]||{}).hidden){var ae=OY(t,l,y,g,r,a,_,c);(ae.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(f[x++]=ae.row)}return f.length=x,f}var zE=/"/g;function PY(t,e,n,r,i,a,s,o){for(var l=!0,c=[],u="",d=Ki(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var f=o.dense?(t[n]||[])[g]:t[r[g]+d];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Ml(f,null,o));for(var x=0,v=0;x!==u.length;++x)if((v=u.charCodeAt(x))===i||v===a||v===34||o.forceQuotes){u='"'+u.replace(zE,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(zE,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function mw(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Er(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",d=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],f=r.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(g[x]||{}).hidden||(d[x]=ha(x));for(var v=0,_=i.s.r;_<=i.e.r;++_)(f[_]||{}).hidden||(u=PY(t,i,_,d,s,l,a,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((v++?o:"")+u)));return delete r.dense,n.join("")}function v7(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=mw(t,e);return n}function FY(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Er(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=ha(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=Ki(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,n=c?(t[u]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function y7(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Oi(r.origin):r.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var d=Er(a["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var g=r.header||[],f=0;e.forEach(function(v,_){Zi(v).forEach(function(y){(f=g.indexOf(y))==-1&&(g[f=g.length]=y);var T=v[y],C="z",O="",Y=Zn({c:o+f,r:s+_+i});c=Yd(a,Y),T&&typeof T=="object"&&!(T instanceof Date)?a[Y]=T:(typeof T=="number"?C="n":typeof T=="boolean"?C="b":typeof T=="string"?C="s":T instanceof Date?(C="d",r.cellDates||(C="n",T=Wa(T)),O=r.dateNF||qr[14]):T===null&&r.nullError&&(C="e",T=0),c?(c.t=C,c.v=T,delete c.w,delete c.R,O&&(c.z=O)):a[Y]=c={t:C,v:T},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+g.length-1);var x=Ki(s);if(i)for(f=0;f<g.length;++f)a[ha(f+o)+x]={t:"s",v:g[f]};return a["!ref"]=di(u),a}function MY(t,e){return y7(null,t,e)}function Yd(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Oi(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Yd(t,Zn(e)):Yd(t,Zn({r:e,c:n||0}))}function BY(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function jY(){return{SheetNames:[],Sheets:{}}}function UY(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(o7(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function VY(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=BY(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function zY(t,e){return t.z=e,t}function x7(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function HY(t,e,n){return x7(t,"#"+e,n)}function qY(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function WY(t,e,n,r){for(var i=typeof e!="string"?e:Er(e),a=typeof e=="string"?e:di(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Yd(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Cf={encode_col:ha,encode_row:Ki,encode_cell:Zn,encode_range:di,decode_col:aw,decode_row:iw,split_cell:sz,decode_cell:Oi,decode_range:As,format_cell:Ml,sheet_add_aoa:xR,sheet_add_json:y7,sheet_add_dom:h7,aoa_to_sheet:Jh,json_to_sheet:MY,table_to_sheet:d7,table_to_book:gY,sheet_to_csv:mw,sheet_to_txt:v7,sheet_to_json:dm,sheet_to_html:f7,sheet_to_formulae:FY,sheet_to_row_object_array:dm,sheet_get_cell:Yd,book_new:jY,book_append_sheet:UY,book_set_sheet_visibility:VY,cell_set_number_format:zY,cell_set_hyperlink:x7,cell_set_internal_link:HY,cell_add_comment:qY,sheet_set_array_formula:WY,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const GY="modulepreload",$Y=function(t){return"/mi-app/"+t},HE={},Uv=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=$Y(l),l in HE)return;HE[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":GY,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function Xn(t){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(t)}var co=Uint8Array,vs=Uint16Array,vw=Int32Array,yw=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xw=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qE=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_7=function(t,e){for(var n=new vs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new vw(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},w7=_7(yw,2),YY=w7.b,j5=w7.r;YY[28]=258,j5[258]=28;var XY=_7(xw,0),WE=XY.r,U5=new vs(32768);for(var wr=0;wr<32768;++wr){var hc=(wr&43690)>>1|(wr&21845)<<1;hc=(hc&52428)>>2|(hc&13107)<<2,hc=(hc&61680)>>4|(hc&3855)<<4,U5[wr]=((hc&65280)>>8|(hc&255)<<8)>>1}var pd=function(t,e,n){for(var r=t.length,i=0,a=new vs(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new vs(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(n){o=new vs(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=s[t[i]-1]++<<u,g=d|(1<<u)-1;d<=g;++d)o[U5[d]>>l]=c}else for(o=new vs(r),i=0;i<r;++i)t[i]&&(o[i]=U5[s[t[i]-1]++]>>15-t[i]);return o},ef=new co(288);for(var wr=0;wr<144;++wr)ef[wr]=8;for(var wr=144;wr<256;++wr)ef[wr]=9;for(var wr=256;wr<280;++wr)ef[wr]=7;for(var wr=280;wr<288;++wr)ef[wr]=8;var pm=new co(32);for(var wr=0;wr<32;++wr)pm[wr]=5;var KY=pd(ef,9,0),QY=pd(pm,5,0),b7=function(t){return(t+7)/8|0},ZY=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new co(t.subarray(e,n))},ul=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},R0=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Vv=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:A7,l:0};if(i==1){var s=new co(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(Y,ae){return Y.f-ae.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=a[0].s,r=1;r<i;++r)a[r].s>g&&(g=a[r].s);var f=new vs(g+1),x=V5(n[u-1],f,0);if(x>e){var r=0,v=0,_=x-e,y=1<<_;for(a.sort(function(ae,L){return f[L.s]-f[ae.s]||ae.f-L.f});r<i;++r){var T=a[r].s;if(f[T]>e)v+=y-(1<<x-f[T]),f[T]=e;else break}for(v>>=_;v>0;){var C=a[r].s;f[C]<e?v-=1<<e-f[C]++-1:++r}for(;r>=0&&v;--r){var O=a[r].s;f[O]==e&&(--f[O],++v)}x=e}return{t:new co(f),l:x}},V5=function(t,e,n){return t.s==-1?Math.max(V5(t.l,e,n+1),V5(t.r,e,n+1)):e[t.s]=n},GE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vs(++e),r=0,i=t[0],a=1,s=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:n.subarray(0,r),n:e}},I0=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},E7=function(t,e,n){var r=n.length,i=b7(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},$E=function(t,e,n,r,i,a,s,o,l,c,u){ul(e,u++,n),++i[256];for(var d=Vv(i,15),g=d.t,f=d.l,x=Vv(a,15),v=x.t,_=x.l,y=GE(g),T=y.c,C=y.n,O=GE(v),Y=O.c,ae=O.n,L=new vs(19),I=0;I<T.length;++I)++L[T[I]&31];for(var I=0;I<Y.length;++I)++L[Y[I]&31];for(var A=Vv(L,7),F=A.t,S=A.l,D=19;D>4&&!F[qE[D-1]];--D);var P=c+5<<3,ue=I0(i,ef)+I0(a,pm)+s,me=I0(i,g)+I0(a,v)+s+14+3*D+I0(L,F)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&P<=ue&&P<=me)return E7(e,u,t.subarray(l,l+c));var de,we,J,ie;if(ul(e,u,1+(me<ue)),u+=2,me<ue){de=pd(g,f,0),we=g,J=pd(v,_,0),ie=v;var _e=pd(F,S,0);ul(e,u,C-257),ul(e,u+5,ae-1),ul(e,u+10,D-4),u+=14;for(var I=0;I<D;++I)ul(e,u+3*I,F[qE[I]]);u+=3*D;for(var Ie=[T,Y],N=0;N<2;++N)for(var j=Ie[N],I=0;I<j.length;++I){var B=j[I]&31;ul(e,u,_e[B]),u+=F[B],B>15&&(ul(e,u,j[I]>>5&127),u+=j[I]>>12)}}else de=KY,we=ef,J=QY,ie=pm;for(var I=0;I<o;++I){var z=r[I];if(z>255){var B=z>>18&31;R0(e,u,de[B+257]),u+=we[B+257],B>7&&(ul(e,u,z>>23&31),u+=yw[B]);var Q=z&31;R0(e,u,J[Q]),u+=ie[Q],Q>3&&(R0(e,u,z>>5&8191),u+=xw[Q])}else R0(e,u,de[z]),u+=we[z]}return R0(e,u,de[256]),u+we[256]},JY=new vw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),A7=new co(0),eX=function(t,e,n,r,i,a){var s=a.z||t.length,o=new co(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var d=JY[e-1],g=d>>13,f=d&8191,x=(1<<n)-1,v=a.p||new vs(32768),_=a.h||new vs(x+1),y=Math.ceil(n/3),T=2*y,C=function(De){return(t[De]^t[De+1]<<y^t[De+2]<<T)&x},O=new vw(25e3),Y=new vs(288),ae=new vs(32),L=0,I=0,A=a.i||0,F=0,S=a.w||0,D=0;A+2<s;++A){var P=C(A),ue=A&32767,me=_[P];if(v[ue]=me,_[P]=ue,S<=A){var de=s-A;if((L>7e3||F>24576)&&(de>423||!c)){u=$E(t,l,0,O,Y,ae,I,F,D,A-D,u),F=L=I=0,D=A;for(var we=0;we<286;++we)Y[we]=0;for(var we=0;we<30;++we)ae[we]=0}var J=2,ie=0,_e=f,Ie=ue-me&32767;if(de>2&&P==C(A-Ie))for(var N=Math.min(g,de)-1,j=Math.min(32767,A),B=Math.min(258,de);Ie<=j&&--_e&&ue!=me;){if(t[A+J]==t[A+J-Ie]){for(var z=0;z<B&&t[A+z]==t[A+z-Ie];++z);if(z>J){if(J=z,ie=Ie,z>N)break;for(var Q=Math.min(Ie,z-2),he=0,we=0;we<Q;++we){var xe=A-Ie+we&32767,pe=v[xe],Ee=xe-pe&32767;Ee>he&&(he=Ee,me=xe)}}}ue=me,me=v[ue],Ie+=ue-me&32767}if(ie){O[F++]=268435456|j5[J]<<18|WE[ie];var He=j5[J]&31,Ye=WE[ie]&31;I+=yw[He]+xw[Ye],++Y[257+He],++ae[Ye],S=A+J,++L}else O[F++]=t[A],++Y[t[A]]}}for(A=Math.max(A,S);A<s;++A)O[F++]=t[A],++Y[t[A]];u=$E(t,l,c,O,Y,ae,I,F,D,A-D,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=_,a.p=v,a.i=A,a.w=S)}else{for(var A=a.w||0;A<s+c;A+=65535){var ot=A+65535;ot>=s&&(l[u/8|0]=c,ot=s),u=E7(l,u+1,t.subarray(A,ot))}a.i=s}return ZY(o,0,r+b7(u)+i)},S7=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},tX=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new co(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return eX(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},T7=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},nX=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=S7();i.p(e.dictionary),T7(t,2,i.d())}};function z5(t,e){e||(e={});var n=S7();n.p(t);var r=tX(t,e,e.dictionary?6:2,4);return nX(r,e),T7(r,r.length-4,n.d()),r}var rX=typeof TextDecoder<"u"&&new TextDecoder,iX=0;try{rX.decode(A7,{stream:!0}),iX=1}catch{}function aX(t){if(Array.isArray(t))return t}function sX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oX(t,e){if(t){if(typeof t=="string")return YE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YE(t,e):void 0}}function lX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XE(t,e){return aX(t)||sX(t,e)||oX(t,e)||lX()}function KE(t,e="utf8"){return new TextDecoder(e).decode(t)}const cX=new TextEncoder;function uX(t){return cX.encode(t)}const fX=1024*8,hX=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),zv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _w{constructor(e=fX,n={}){Wn(this,"buffer");Wn(this,"byteLength");Wn(this,"byteOffset");Wn(this,"length");Wn(this,"offset");Wn(this,"lastWrittenByte");Wn(this,"littleEndian");Wn(this,"_data");Wn(this,"_mark");Wn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof _w)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=zv[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===hX&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new zv[n](o.buffer);return this.offset+=r,l.reverse(),l}const s=new zv[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return KE(this.readBytes(e))}decodeText(e=1,n="utf8"){return KE(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(uX(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function n0(t){let e=t.length;for(;--e>=0;)t[e]=0}const dX=3,pX=258,C7=29,gX=256,mX=gX+1+C7,N7=30,vX=512,yX=new Array((mX+2)*2);n0(yX);const xX=new Array(N7*2);n0(xX);const _X=new Array(vX);n0(_X);const wX=new Array(pX-dX+1);n0(wX);const bX=new Array(C7);n0(bX);const EX=new Array(N7);n0(EX);const AX=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var H5=AX;const SX=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},TX=new Uint32Array(SX()),CX=(t,e,n,r)=>{const i=TX,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Eo=CX,q5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const NX=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var RX=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)NX(n,r)&&(t[r]=n[r])}}return t},IX=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},I7={assign:RX,flattenChunks:IX};let L7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L7=!1}const Xd=new Uint8Array(256);for(let t=0;t<256;t++)Xd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xd[254]=Xd[254]=1;var LX=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,o=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const DX=(t,e)=>{if(e<65534&&t.subarray&&L7)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var kX=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let o=Xd[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return DX(a,i)},OX=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Xd[t[n]]>e?n:e},W5={string2buf:LX,buf2string:kX,utf8border:OX};function PX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FX=PX;const Sp=16209,MX=16191;var BX=function(e,n){let r,i,a,s,o,l,c,u,d,g,f,x,v,_,y,T,C,O,Y,ae,L,I,A,F;const S=e.state;r=e.next_in,A=e.input,i=r+(e.avail_in-5),a=e.next_out,F=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),l=S.dmax,c=S.wsize,u=S.whave,d=S.wnext,g=S.window,f=S.hold,x=S.bits,v=S.lencode,_=S.distcode,y=(1<<S.lenbits)-1,T=(1<<S.distbits)-1;e:do{x<15&&(f+=A[r++]<<x,x+=8,f+=A[r++]<<x,x+=8),C=v[f&y];t:for(;;){if(O=C>>>24,f>>>=O,x-=O,O=C>>>16&255,O===0)F[a++]=C&65535;else if(O&16){Y=C&65535,O&=15,O&&(x<O&&(f+=A[r++]<<x,x+=8),Y+=f&(1<<O)-1,f>>>=O,x-=O),x<15&&(f+=A[r++]<<x,x+=8,f+=A[r++]<<x,x+=8),C=_[f&T];n:for(;;){if(O=C>>>24,f>>>=O,x-=O,O=C>>>16&255,O&16){if(ae=C&65535,O&=15,x<O&&(f+=A[r++]<<x,x+=8,x<O&&(f+=A[r++]<<x,x+=8)),ae+=f&(1<<O)-1,ae>l){e.msg="invalid distance too far back",S.mode=Sp;break e}if(f>>>=O,x-=O,O=a-s,ae>O){if(O=ae-O,O>u&&S.sane){e.msg="invalid distance too far back",S.mode=Sp;break e}if(L=0,I=g,d===0){if(L+=c-O,O<Y){Y-=O;do F[a++]=g[L++];while(--O);L=a-ae,I=F}}else if(d<O){if(L+=c+d-O,O-=d,O<Y){Y-=O;do F[a++]=g[L++];while(--O);if(L=0,d<Y){O=d,Y-=O;do F[a++]=g[L++];while(--O);L=a-ae,I=F}}}else if(L+=d-O,O<Y){Y-=O;do F[a++]=g[L++];while(--O);L=a-ae,I=F}for(;Y>2;)F[a++]=I[L++],F[a++]=I[L++],F[a++]=I[L++],Y-=3;Y&&(F[a++]=I[L++],Y>1&&(F[a++]=I[L++]))}else{L=a-ae;do F[a++]=F[L++],F[a++]=F[L++],F[a++]=F[L++],Y-=3;while(Y>2);Y&&(F[a++]=F[L++],Y>1&&(F[a++]=F[L++]))}}else if(O&64){e.msg="invalid distance code",S.mode=Sp;break e}else{C=_[(C&65535)+(f&(1<<O)-1)];continue n}break}}else if(O&64)if(O&32){S.mode=MX;break e}else{e.msg="invalid literal/length code",S.mode=Sp;break e}else{C=v[(C&65535)+(f&(1<<O)-1)];continue t}break}}while(r<i&&a<o);Y=x>>3,r-=Y,x-=Y<<3,f&=(1<<x)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<o?257+(o-a):257-(a-o),S.hold=f,S.bits=x};const Nf=15,QE=852,ZE=592,JE=0,Hv=1,eA=2,jX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),VX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HX=(t,e,n,r,i,a,s,o)=>{const l=o.bits;let c=0,u=0,d=0,g=0,f=0,x=0,v=0,_=0,y=0,T=0,C,O,Y,ae,L,I=null,A;const F=new Uint16Array(Nf+1),S=new Uint16Array(Nf+1);let D=null,P,ue,me;for(c=0;c<=Nf;c++)F[c]=0;for(u=0;u<r;u++)F[e[n+u]]++;for(f=l,g=Nf;g>=1&&F[g]===0;g--);if(f>g&&(f=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<g&&F[d]===0;d++);for(f<d&&(f=d),_=1,c=1;c<=Nf;c++)if(_<<=1,_-=F[c],_<0)return-1;if(_>0&&(t===JE||g!==1))return-1;for(S[1]=0,c=1;c<Nf;c++)S[c+1]=S[c]+F[c];for(u=0;u<r;u++)e[n+u]!==0&&(s[S[e[n+u]]++]=u);if(t===JE?(I=D=s,A=20):t===Hv?(I=jX,D=UX,A=257):(I=VX,D=zX,A=0),T=0,u=0,c=d,L=a,x=f,v=0,Y=-1,y=1<<f,ae=y-1,t===Hv&&y>QE||t===eA&&y>ZE)return 1;for(;;){P=c-v,s[u]+1<A?(ue=0,me=s[u]):s[u]>=A?(ue=D[s[u]-A],me=I[s[u]-A]):(ue=96,me=0),C=1<<c-v,O=1<<x,d=O;do O-=C,i[L+(T>>v)+O]=P<<24|ue<<16|me|0;while(O!==0);for(C=1<<c-1;T&C;)C>>=1;if(C!==0?(T&=C-1,T+=C):T=0,u++,--F[c]===0){if(c===g)break;c=e[n+s[u]]}if(c>f&&(T&ae)!==Y){for(v===0&&(v=f),L+=d,x=c-v,_=1<<x;x+v<g&&(_-=F[x+v],!(_<=0));)x++,_<<=1;if(y+=1<<x,t===Hv&&y>QE||t===eA&&y>ZE)return 1;Y=T&ae,i[Y]=f<<24|x<<16|L-a|0}}return T!==0&&(i[L+T]=c-v<<24|64<<16|0),o.bits=f,0};var gd=HX;const qX=0,D7=1,k7=2,{Z_FINISH:tA,Z_BLOCK:WX,Z_TREES:Tp,Z_OK:tf,Z_STREAM_END:GX,Z_NEED_DICT:$X,Z_STREAM_ERROR:Gs,Z_DATA_ERROR:O7,Z_MEM_ERROR:P7,Z_BUF_ERROR:YX,Z_DEFLATED:nA}=R7,m2=16180,rA=16181,iA=16182,aA=16183,sA=16184,oA=16185,lA=16186,cA=16187,uA=16188,fA=16189,gm=16190,fl=16191,qv=16192,hA=16193,Wv=16194,dA=16195,pA=16196,gA=16197,mA=16198,Cp=16199,Np=16200,vA=16201,yA=16202,xA=16203,_A=16204,wA=16205,Gv=16206,bA=16207,EA=16208,Ar=16209,F7=16210,M7=16211,XX=852,KX=592,QX=15,ZX=QX,AA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<m2||e.mode>M7?1:0},B7=t=>{if(pf(t))return Gs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=m2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(XX),e.distcode=e.distdyn=new Int32Array(KX),e.sane=1,e.back=-1,tf},j7=t=>{if(pf(t))return Gs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,B7(t)},U7=(t,e)=>{let n;if(pf(t))return Gs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Gs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,j7(t))},V7=(t,e)=>{if(!t)return Gs;const n=new JX;t.state=n,n.strm=t,n.window=null,n.mode=m2;const r=U7(t,e);return r!==tf&&(t.state=null),r},eK=t=>V7(t,ZX);let SA=!0,$v,Yv;const tK=t=>{if(SA){$v=new Int32Array(512),Yv=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(gd(D7,t.lens,0,288,$v,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;gd(k7,t.lens,0,32,Yv,0,t.work,{bits:5}),SA=!1}t.lencode=$v,t.lenbits=9,t.distcode=Yv,t.distbits=5},z7=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},nK=(t,e)=>{let n,r,i,a,s,o,l,c,u,d,g,f,x,v,_=0,y,T,C,O,Y,ae,L,I;const A=new Uint8Array(4);let F,S;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pf(t)||!t.output||!t.input&&t.avail_in!==0)return Gs;n=t.state,n.mode===fl&&(n.mode=qv),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,d=o,g=l,I=tf;e:for(;;)switch(n.mode){case m2:if(n.wrap===0){n.mode=qv;break}for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,A[0]=c&255,A[1]=c>>>8&255,n.check=Eo(n.check,A,2,0),c=0,u=0,n.mode=rA;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Ar;break}if((c&15)!==nA){t.msg="unknown compression method",n.mode=Ar;break}if(c>>>=4,u-=4,L=(c&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){t.msg="invalid window size",n.mode=Ar;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?fA:fl,c=0,u=0;break;case rA:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==nA){t.msg="unknown compression method",n.mode=Ar;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ar;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=Eo(n.check,A,2,0)),c=0,u=0,n.mode=iA;case iA:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=Eo(n.check,A,4,0)),c=0,u=0,n.mode=aA;case aA:for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=Eo(n.check,A,2,0)),c=0,u=0,n.mode=sA;case sA:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=Eo(n.check,A,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=oA;case oA:if(n.flags&1024&&(f=n.length,f>o&&(f=o),f&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+f),L)),n.flags&512&&n.wrap&4&&(n.check=Eo(n.check,r,f,a)),o-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=lA;case lA:if(n.flags&2048){if(o===0)break e;f=0;do L=r[a+f++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&f<o);if(n.flags&512&&n.wrap&4&&(n.check=Eo(n.check,r,f,a)),o-=f,a+=f,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=cA;case cA:if(n.flags&4096){if(o===0)break e;f=0;do L=r[a+f++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&f<o);if(n.flags&512&&n.wrap&4&&(n.check=Eo(n.check,r,f,a)),o-=f,a+=f,L)break e}else n.head&&(n.head.comment=null);n.mode=uA;case uA:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ar;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=fl;break;case fA:for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}t.adler=n.check=AA(c),c=0,u=0,n.mode=gm;case gm:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,$X;t.adler=n.check=1,n.mode=fl;case fl:if(e===WX||e===Tp)break e;case qv:if(n.last){c>>>=u&7,u-=u&7,n.mode=Gv;break}for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=hA;break;case 1:if(tK(n),n.mode=Cp,e===Tp){c>>>=2,u-=2;break e}break;case 2:n.mode=pA;break;case 3:t.msg="invalid block type",n.mode=Ar}c>>>=2,u-=2;break;case hA:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ar;break}if(n.length=c&65535,c=0,u=0,n.mode=Wv,e===Tp)break e;case Wv:n.mode=dA;case dA:if(f=n.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(r.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,n.length-=f;break}n.mode=fl;break;case pA:for(;u<14;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ar;break}n.have=0,n.mode=gA;case gA:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.lens[D[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},I=gd(qX,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,I){t.msg="invalid code lengths set",n.mode=Ar;break}n.have=0,n.mode=mA;case mA:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],y=_>>>24,T=_>>>16&255,C=_&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(C<16)c>>>=y,u-=y,n.lens[n.have++]=C;else{if(C===16){for(S=y+2;u<S;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(c>>>=y,u-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=Ar;break}L=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(C===17){for(S=y+3;u<S;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,L=0,f=3+(c&7),c>>>=3,u-=3}else{for(S=y+7;u<S;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,L=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ar;break}for(;f--;)n.lens[n.have++]=L}}if(n.mode===Ar)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ar;break}if(n.lenbits=9,F={bits:n.lenbits},I=gd(D7,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,I){t.msg="invalid literal/lengths set",n.mode=Ar;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},I=gd(k7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,I){t.msg="invalid distances set",n.mode=Ar;break}if(n.mode=Cp,e===Tp)break e;case Cp:n.mode=Np;case Np:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,BX(t,g),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,u=n.bits,n.mode===fl&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],y=_>>>24,T=_>>>16&255,C=_&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(T&&!(T&240)){for(O=y,Y=T,ae=C;_=n.lencode[ae+((c&(1<<O+Y)-1)>>O)],y=_>>>24,T=_>>>16&255,C=_&65535,!(O+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=O,u-=O,n.back+=O}if(c>>>=y,u-=y,n.back+=y,n.length=C,T===0){n.mode=wA;break}if(T&32){n.back=-1,n.mode=fl;break}if(T&64){t.msg="invalid literal/length code",n.mode=Ar;break}n.extra=T&15,n.mode=vA;case vA:if(n.extra){for(S=n.extra;u<S;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=yA;case yA:for(;_=n.distcode[c&(1<<n.distbits)-1],y=_>>>24,T=_>>>16&255,C=_&65535,!(y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(!(T&240)){for(O=y,Y=T,ae=C;_=n.distcode[ae+((c&(1<<O+Y)-1)>>O)],y=_>>>24,T=_>>>16&255,C=_&65535,!(O+y<=u);){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}c>>>=O,u-=O,n.back+=O}if(c>>>=y,u-=y,n.back+=y,T&64){t.msg="invalid distance code",n.mode=Ar;break}n.offset=C,n.extra=T&15,n.mode=xA;case xA:if(n.extra){for(S=n.extra;u<S;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ar;break}n.mode=_A;case _A:if(l===0)break e;if(f=g-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ar;break}f>n.wnext?(f-=n.wnext,x=n.wsize-f):x=n.wnext-f,f>n.length&&(f=n.length),v=n.window}else v=i,x=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=v[x++];while(--f);n.length===0&&(n.mode=Np);break;case wA:if(l===0)break e;i[s++]=n.length,l--,n.mode=Np;break;case Gv:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[a++]<<u,u+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Eo(n.check,i,g,s-g):H5(n.check,i,g,s-g)),g=l,n.wrap&4&&(n.flags?c:AA(c))!==n.check){t.msg="incorrect data check",n.mode=Ar;break}c=0,u=0}n.mode=bA;case bA:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[a++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ar;break}c=0,u=0}n.mode=EA;case EA:I=GX;break e;case Ar:I=O7;break e;case F7:return P7;case M7:default:return Gs}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=u,(n.wsize||g!==t.avail_out&&n.mode<Ar&&(n.mode<Gv||e!==tA))&&z7(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Eo(n.check,i,g,t.next_out-g):H5(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===fl?128:0)+(n.mode===Cp||n.mode===Wv?256:0),(d===0&&g===0||e===tA)&&I===tf&&(I=YX),I},rK=t=>{if(pf(t))return Gs;let e=t.state;return e.window&&(e.window=null),t.state=null,tf},iK=(t,e)=>{if(pf(t))return Gs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,tf):Gs},aK=(t,e)=>{const n=e.length;let r,i,a;return pf(t)||(r=t.state,r.wrap!==0&&r.mode!==gm)?Gs:r.mode===gm&&(i=1,i=H5(i,e,n,0),i!==r.check)?O7:(a=z7(t,e,n,n),a?(r.mode=F7,P7):(r.havedict=1,tf))};var sK=j7,oK=U7,lK=B7,cK=eK,uK=V7,fK=nK,hK=rK,dK=iK,pK=aK,gK="pako inflate (from Nodeca project)",hl={inflateReset:sK,inflateReset2:oK,inflateResetKeep:lK,inflateInit:cK,inflateInit2:uK,inflate:fK,inflateEnd:hK,inflateGetHeader:dK,inflateSetDictionary:pK,inflateInfo:gK};function mK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vK=mK;const H7=Object.prototype.toString,{Z_NO_FLUSH:yK,Z_FINISH:xK,Z_OK:Kd,Z_STREAM_END:Xv,Z_NEED_DICT:Kv,Z_STREAM_ERROR:_K,Z_DATA_ERROR:TA,Z_MEM_ERROR:wK}=R7;function R1(t){this.options=I7.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FX,this.strm.avail_out=0;let n=hl.inflateInit2(this.strm,e.windowBits);if(n!==Kd)throw new Error(q5[n]);if(this.header=new vK,hl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=W5.string2buf(e.dictionary):H7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=hl.inflateSetDictionary(this.strm,e.dictionary),n!==Kd)))throw new Error(q5[n])}R1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?xK:yK,H7.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=hl.inflate(n,s),a===Kv&&i&&(a=hl.inflateSetDictionary(n,i),a===Kd?a=hl.inflate(n,s):a===TA&&(a=Kv));n.avail_in>0&&a===Xv&&n.state.wrap>0&&t[n.next_in]!==0;)hl.inflateReset(n),a=hl.inflate(n,s);switch(a){case _K:case TA:case Kv:case wK:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===Xv))if(this.options.to==="string"){let l=W5.utf8border(n.output,n.next_out),c=n.next_out-l,u=W5.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Kd&&o===0)){if(a===Xv)return a=hl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};R1.prototype.onData=function(t){this.chunks.push(t)};R1.prototype.onEnd=function(t){t===Kd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=I7.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bK(t,e){const n=new R1(e);if(n.push(t),n.err)throw n.msg||q5[n.err];return n.result}var EK=R1,AK=bK,SK={Inflate:EK,inflate:AK};const{Inflate:TK,inflate:CK}=SK;var CA=TK,NK=CK;const q7=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;q7[t]=e}const NA=4294967295;function RK(t,e,n){let r=t;for(let i=0;i<n;i++)r=q7[(r^e[i])&255]^r>>>8;return r}function IK(t,e){return(RK(NA,t,e)^NA)>>>0}function RA(t,e,n){const r=t.readUint32(),i=IK(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function W7(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function G7(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function $7(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Y7(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function X7(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+LK(e[a-i],n[a],n[a-i])&255}}function LK(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function DK(t,e,n,r,i,a){switch(t){case 0:W7(e,n,i);break;case 1:G7(e,n,i,a);break;case 2:$7(e,n,r,i);break;case 3:Y7(e,n,r,i,a);break;case 4:X7(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const kK=new Uint16Array([255]),OK=new Uint8Array(kK.buffer),PK=OK[0]===255;function FK(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const d=s[u],g=Math.ceil((n-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(g<=0||f<=0)continue;const x=g*o,v=new Uint8Array(x);for(let _=0;_<f;_++){const y=e[c++],T=e.subarray(c,c+x);c+=x;const C=new Uint8Array(x);DK(y,T,C,v,x,o),v.set(C);for(let O=0;O<g;O++){const Y=d.x+O*d.xStep,ae=d.y+_*d.yStep;if(!(Y>=n||ae>=r))for(let L=0;L<o;L++)l[(ae*n+Y)*o+L]=C[O*o+L]}}}if(a===16){const u=new Uint16Array(l.buffer);if(PK)for(let d=0;d<u.length;d++)u[d]=MK(u[d]);return u}else return l}function MK(t){return(t&255)<<8|t>>8&255}const BK=new Uint16Array([255]),jK=new Uint8Array(BK.buffer),UK=jK[0]===255,VK=new Uint8Array(0);function IA(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c=VK,u=0,d,g;for(let f=0;f<r;f++){switch(d=e.subarray(u+1,u+1+o),g=l.subarray(f*o,(f+1)*o),e[u]){case 0:W7(d,g,o);break;case 1:G7(d,g,o,s);break;case 2:$7(d,g,c,o);break;case 3:Y7(d,g,c,o,s);break;case 4:X7(d,g,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=g,u+=o+1}if(a===16){const f=new Uint16Array(l.buffer);if(UK)for(let x=0;x<f.length;x++)f[x]=zK(f[x]);return f}else return l}function zK(t){return(t&255)<<8|t>>8&255}const ng=Uint8Array.of(137,80,78,71,13,10,26,10);function LA(t){if(!HK(t.readBytes(ng.length)))throw new Error("wrong PNG signature")}function HK(t){if(t.length<ng.length)return!1;for(let e=0;e<ng.length;e++)if(t[e]!==ng[e])return!1;return!0}const qK="tEXt",WK=0,K7=new TextDecoder("latin1");function GK(t){if(YK(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const $K=/^[\u0000-\u00FF]*$/;function YK(t){if(!$K.test(t))throw new Error("invalid latin1 text")}function XK(t,e,n){const r=Q7(e);t[r]=KK(e,n-r.length-1)}function Q7(t){for(t.mark();t.readByte()!==WK;);const e=t.offset;t.reset();const n=K7.decode(t.readBytes(e-t.offset-1));return t.skip(1),GK(n),n}function KK(t,e){return K7.decode(t.readBytes(e))}const cs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Qv={UNKNOWN:-1,DEFLATE:0},DA={UNKNOWN:-1,ADAPTIVE:0},Zv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rp={NONE:0,BACKGROUND:1,PREVIOUS:2},Jv={SOURCE:0,OVER:1};class QK extends _w{constructor(n,r={}){super(n);Wn(this,"_checkCrc");Wn(this,"_inflator");Wn(this,"_png");Wn(this,"_apng");Wn(this,"_end");Wn(this,"_hasPalette");Wn(this,"_palette");Wn(this,"_hasTransparency");Wn(this,"_transparency");Wn(this,"_compressionMethod");Wn(this,"_filterMethod");Wn(this,"_interlaceMethod");Wn(this,"_colorType");Wn(this,"_isAnimated");Wn(this,"_numberOfFrames");Wn(this,"_numberOfPlays");Wn(this,"_frames");Wn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new CA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Qv.UNKNOWN,this._filterMethod=DA.UNKNOWN,this._interlaceMethod=Zv.UNKNOWN,this._colorType=cs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(LA(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(LA(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case qK:XK(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?RA(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?RA(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=ZK(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case cs.GREYSCALE:i=1;break;case cs.TRUECOLOUR:i=3;break;case cs.INDEXED_COLOUR:i=1;break;case cs.GREYSCALE_ALPHA:i=2;break;case cs.TRUECOLOUR_ALPHA:i=4;break;case cs.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Qv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case cs.GREYSCALE:case cs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case cs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case cs.UNKNOWN:case cs.GREYSCALE_ALPHA:case cs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=Q7(this),i=this.readUint8();if(i!==Qv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:NK(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=IA({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Rp.NONE:break;case Rp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Rp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(s*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case Jv.SOURCE:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case Jv.OVER:for(let s=0;s<r.height;s++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/i,g=u%(this._png.channels-1)===0?1:r.data[c+u],f=Math.floor(d*g+(1-d)*n.data[l+u]);n.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==DA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Zv.NO_INTERLACE)this._png.data=IA({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Zv.ADAM7)this._png.data=FK({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rp.NONE,blendOp:Jv.SOURCE,data:n}),this._inflator=new CA,this._writingDataChunks=!1}}function ZK(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var kA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(kA||(kA={}));function JK(t,e){return new QK(t,e).decode()}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ey(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var ur={log:ey,warn:function(t){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):ey.call(null,arguments))},error:function(t){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):ey(t))}};function ty(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Tu(r.response,e,n)},r.onerror=function(){ur.error("could not download file")},r.send()}function OA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ip(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Tu=Jt.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Jt.URL||Jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?OA(i.href)?ty(t,e,n):Ip(i,i.target="_blank"):Ip(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ip(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(OA(t))ty(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ip(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Xn(a)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ty(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(Jt.HTMLElement)||Jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=Jt.URL||Jt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Z7(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var rg=Jt.atob.bind(Jt),PA=Jt.btoa.bind(Jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ny(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=ia(n,r,i,a,e[0],7,-680876936),a=ia(a,n,r,i,e[1],12,-389564586),i=ia(i,a,n,r,e[2],17,606105819),r=ia(r,i,a,n,e[3],22,-1044525330),n=ia(n,r,i,a,e[4],7,-176418897),a=ia(a,n,r,i,e[5],12,1200080426),i=ia(i,a,n,r,e[6],17,-1473231341),r=ia(r,i,a,n,e[7],22,-45705983),n=ia(n,r,i,a,e[8],7,1770035416),a=ia(a,n,r,i,e[9],12,-1958414417),i=ia(i,a,n,r,e[10],17,-42063),r=ia(r,i,a,n,e[11],22,-1990404162),n=ia(n,r,i,a,e[12],7,1804603682),a=ia(a,n,r,i,e[13],12,-40341101),i=ia(i,a,n,r,e[14],17,-1502002290),n=aa(n,r=ia(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=aa(a,n,r,i,e[6],9,-1069501632),i=aa(i,a,n,r,e[11],14,643717713),r=aa(r,i,a,n,e[0],20,-373897302),n=aa(n,r,i,a,e[5],5,-701558691),a=aa(a,n,r,i,e[10],9,38016083),i=aa(i,a,n,r,e[15],14,-660478335),r=aa(r,i,a,n,e[4],20,-405537848),n=aa(n,r,i,a,e[9],5,568446438),a=aa(a,n,r,i,e[14],9,-1019803690),i=aa(i,a,n,r,e[3],14,-187363961),r=aa(r,i,a,n,e[8],20,1163531501),n=aa(n,r,i,a,e[13],5,-1444681467),a=aa(a,n,r,i,e[2],9,-51403784),i=aa(i,a,n,r,e[7],14,1735328473),n=sa(n,r=aa(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=sa(a,n,r,i,e[8],11,-2022574463),i=sa(i,a,n,r,e[11],16,1839030562),r=sa(r,i,a,n,e[14],23,-35309556),n=sa(n,r,i,a,e[1],4,-1530992060),a=sa(a,n,r,i,e[4],11,1272893353),i=sa(i,a,n,r,e[7],16,-155497632),r=sa(r,i,a,n,e[10],23,-1094730640),n=sa(n,r,i,a,e[13],4,681279174),a=sa(a,n,r,i,e[0],11,-358537222),i=sa(i,a,n,r,e[3],16,-722521979),r=sa(r,i,a,n,e[6],23,76029189),n=sa(n,r,i,a,e[9],4,-640364487),a=sa(a,n,r,i,e[12],11,-421815835),i=sa(i,a,n,r,e[15],16,530742520),n=oa(n,r=sa(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=oa(a,n,r,i,e[7],10,1126891415),i=oa(i,a,n,r,e[14],15,-1416354905),r=oa(r,i,a,n,e[5],21,-57434055),n=oa(n,r,i,a,e[12],6,1700485571),a=oa(a,n,r,i,e[3],10,-1894986606),i=oa(i,a,n,r,e[10],15,-1051523),r=oa(r,i,a,n,e[1],21,-2054922799),n=oa(n,r,i,a,e[8],6,1873313359),a=oa(a,n,r,i,e[15],10,-30611744),i=oa(i,a,n,r,e[6],15,-1560198380),r=oa(r,i,a,n,e[13],21,1309151649),n=oa(n,r,i,a,e[4],6,-145523070),a=oa(a,n,r,i,e[11],10,-1120210379),i=oa(i,a,n,r,e[2],15,718787259),r=oa(r,i,a,n,e[9],21,-343485551),t[0]=Nc(n,t[0]),t[1]=Nc(r,t[1]),t[2]=Nc(i,t[2]),t[3]=Nc(a,t[3])}function v2(t,e,n,r,i,a){return e=Nc(Nc(e,t),Nc(r,a)),Nc(e<<i|e>>>32-i,n)}function ia(t,e,n,r,i,a,s){return v2(e&n|~e&r,t,e,i,a,s)}function aa(t,e,n,r,i,a,s){return v2(e&r|n&~r,t,e,i,a,s)}function sa(t,e,n,r,i,a,s){return v2(e^n^r,t,e,i,a,s)}function oa(t,e,n,r,i,a,s){return v2(n^(e|~r),t,e,i,a,s)}function J7(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ny(r,eQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ny(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,ny(r,i),r}function eQ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var FA="0123456789abcdef".split("");function tQ(t){for(var e="",n=0;n<4;n++)e+=FA[t>>8*n+4&15]+FA[t>>8*n&15];return e}function nQ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function G5(t){return J7(t).map(nQ).join("")}var rQ=function(t){for(var e=0;e<t.length;e++)t[e]=tQ(t[e]);return t.join("")}(J7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(t,e){if(rQ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $5(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var d=e.length,g=0,f=0,x="";for(l=0;l<d;l++)f=(f+(u=o[g=(g+1)%256]))%256,o[g]=o[f],o[f]=u,s=o[(o[g]+o[f])%256],x+=String.fromCharCode(e.charCodeAt(l)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MA={print:4,modify:8,copy:16,"annot-forms":32};function Uf(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(MA.perm!==void 0)throw new Error("Invalid permission: "+o);i+=MA[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=G5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$5(this.encryptionKey,this.padding)}function Vf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function BA(t){if(Xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(o){Jt.console&&ur.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mm(t){if(!(this instanceof mm))return new mm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function eI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nu(t,e,n,r,i){if(!(this instanceof Nu))return new Nu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,eI.call(this,r,i)}function th(t,e,n,r,i){if(!(this instanceof th))return new th(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,eI.call(this,r,i)}function Mt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;Xn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=BA;var x="1.3",v=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(w){x=w};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var y=f.__private__.getPageFormat=function(w){return _[w]};i=i||"a4";var T="compat",C="advanced",O=T;function Y(){this.saveGraphicsState(),fe(new Ut(jt,0,0,-jt,0,Xs()*jt).toString()+" cm"),this.setFontSize(this.getFontSize()/jt),c="n",O=C}function ae(){this.restoreGraphicsState(),c="S",O=T}var L=f.__private__.combineFontStyleAndFontWeight=function(w,U){if(w=="bold"&&U=="normal"||w=="bold"&&U==400||w=="normal"&&U=="italic"||w=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(w=U==400||U==="normal"?w==="italic"?"italic":"normal":U!=700&&U!=="bold"||w!=="normal"?(U==700?"bold":U)+""+w:"bold"),w};f.advancedAPI=function(w){var U=O===T;return U&&Y.call(this),typeof w!="function"||(w(this),U&&ae.call(this)),this},f.compatAPI=function(w){var U=O===C;return U&&ae.call(this),typeof w!="function"||(w(this),U&&Y.call(this)),this},f.isAdvancedAPI=function(){return O===C};var I,A=function(w){if(O!==C)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=f.roundToPrecision=f.__private__.roundToPrecision=function(w,U){var se=e||U;if(isNaN(w)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(se).replace(/0+$/,"")};I=f.hpf=f.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return F(w,16)};var S=f.f2=f.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return F(w,2)},D=f.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return F(w,3)},P=f.scale=f.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return O===T?w*jt:O===C?w:void 0},ue=function(w){return P(function(U){return O===T?Xs()-U:O===C?U:void 0}(w))};f.__private__.setPrecision=f.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var me,de="00000000000000000000000000000000",we=f.__private__.getFileId=function(){return de},J=f.__private__.setFileId=function(w){return de=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ue=new Uf(u.userPermissions,u.userPassword,u.ownerPassword,de)),de};f.setFileId=function(w){return J(w),this},f.getFileId=function(){return we()};var ie=f.__private__.convertDateToPDFDate=function(w){var U=w.getTimezoneOffset(),se=U<0?"+":"-",ve=Math.floor(Math.abs(U/60)),Ce=Math.abs(U%60),Ge=[se,B(ve),"'",B(Ce),"'"].join("");return["D:",w.getFullYear(),B(w.getMonth()+1),B(w.getDate()),B(w.getHours()),B(w.getMinutes()),B(w.getSeconds()),Ge].join("")},_e=f.__private__.convertPDFDateToDate=function(w){var U=parseInt(w.substr(2,4),10),se=parseInt(w.substr(6,2),10)-1,ve=parseInt(w.substr(8,2),10),Ce=parseInt(w.substr(10,2),10),Ge=parseInt(w.substr(12,2),10),tt=parseInt(w.substr(14,2),10);return new Date(U,se,ve,Ce,Ge,tt,0)},Ie=f.__private__.setCreationDate=function(w){var U;if(w===void 0&&(w=new Date),w instanceof Date)U=ie(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=w}return me=U},N=f.__private__.getCreationDate=function(w){var U=me;return w==="jsDate"&&(U=_e(me)),U};f.setCreationDate=function(w){return Ie(w),this},f.getCreationDate=function(w){return N(w)};var j,B=f.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},z=f.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},Q=0,he=[],xe=[],pe=0,Ee=[],He=[],Ye=!1,ot=xe;f.__private__.setCustomOutputDestination=function(w){Ye=!0,ot=w};var De=function(w){Ye||(ot=w)};f.__private__.resetCustomOutputDestination=function(){Ye=!1,ot=xe};var fe=f.__private__.out=function(w){return w=w.toString(),pe+=w.length+1,ot.push(w),ot},wt=f.__private__.write=function(w){return fe(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ke=f.__private__.getArrayBuffer=function(w){for(var U=w.length,se=new ArrayBuffer(U),ve=new Uint8Array(se);U--;)ve[U]=w.charCodeAt(U);return se},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return xt};var Ve=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(w){return Ve=O===C?w/jt:w,this};var ft,st=f.__private__.getFontSize=f.getFontSize=function(){return O===T?Ve:Ve*jt},Ht=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(w){return Ht=w,this},f.__private__.getR2L=f.getR2L=function(){return Ht};var ke,ct=f.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ft=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ft=w}else ft=parseInt(w,10)};f.__private__.getZoomMode=function(){return ft};var vt,Lt=f.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');ke=w};f.__private__.getPageMode=function(){return ke};var tn=f.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');vt=w};f.__private__.getLayoutMode=function(){return vt},f.__private__.setDisplayMode=f.setDisplayMode=function(w,U,se){return ct(w),tn(U),Lt(se),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(w){if(Object.keys(_t).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[w]},f.__private__.getDocumentProperties=function(){return _t},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(w){for(var U in _t)_t.hasOwnProperty(U)&&w[U]&&(_t[U]=w[U]);return this},f.__private__.setDocumentProperty=function(w,U){if(Object.keys(_t).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[w]=U};var Ct,jt,St,vn,nn,Et={},qt={},gn=[],Bt={},en={},Gt={},Ln={},zn=null,Kt=0,Vt=[],hn=new BA(f),ii=t.hotfixes||[],Rr={},Ir={},Wr=[],Ut=function w(U,se,ve,Ce,Ge,tt){if(!(this instanceof w))return new w(U,se,ve,Ce,Ge,tt);isNaN(U)&&(U=1),isNaN(se)&&(se=0),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[U,se,ve,Ce,Ge,tt]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(w)},Ut.prototype.multiply=function(w){var U=w.sx*this.sx+w.shy*this.shx,se=w.sx*this.shy+w.shy*this.sy,ve=w.shx*this.sx+w.sy*this.shx,Ce=w.shx*this.shy+w.sy*this.sy,Ge=w.tx*this.sx+w.ty*this.shx+this.tx,tt=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ut(U,se,ve,Ce,Ge,tt)},Ut.prototype.decompose=function(){var w=this.sx,U=this.shy,se=this.shx,ve=this.sy,Ce=this.tx,Ge=this.ty,tt=Math.sqrt(w*w+U*U),Tt=(w/=tt)*se+(U/=tt)*ve;se-=w*Tt,ve-=U*Tt;var It=Math.sqrt(se*se+ve*ve);return Tt/=It,w*(ve/=It)<U*(se/=It)&&(w=-w,U=-U,Tt=-Tt,tt=-tt),{scale:new Ut(tt,0,0,It,0,0),translate:new Ut(1,0,0,1,Ce,Ge),rotate:new Ut(w,U,-U,w,0,0),skew:new Ut(1,0,Tt,1,0,0)}},Ut.prototype.toString=function(w){return this.join(" ")},Ut.prototype.inversed=function(){var w=this.sx,U=this.shy,se=this.shx,ve=this.sy,Ce=this.tx,Ge=this.ty,tt=1/(w*ve-U*se),Tt=ve*tt,It=-U*tt,$t=-se*tt,Pt=w*tt;return new Ut(Tt,It,$t,Pt,-Tt*Ce-$t*Ge,-It*Ce-Pt*Ge)},Ut.prototype.applyToPoint=function(w){var U=w.x*this.sx+w.y*this.shx+this.tx,se=w.x*this.shy+w.y*this.sy+this.ty;return new Za(U,se)},Ut.prototype.applyToRectangle=function(w){var U=this.applyToPoint(w),se=this.applyToPoint(new Za(w.x+w.w,w.y+w.h));return new $l(U.x,U.y,se.x-U.x,se.y-U.y)},Ut.prototype.clone=function(){var w=this.sx,U=this.shy,se=this.shx,ve=this.sy,Ce=this.tx,Ge=this.ty;return new Ut(w,U,se,ve,Ce,Ge)},f.Matrix=Ut;var pa=f.matrixMult=function(w,U){return U.multiply(w)},Si=new Ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Si;var Gr=function(w,U){if(!en[w]){var se=(U instanceof Nu?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);U.id=se,en[w]=se,Bt[se]=U,hn.publish("addPattern",U)}};f.ShadingPattern=Nu,f.TilingPattern=th,f.addShadingPattern=function(w,U){return A("addShadingPattern()"),Gr(w,U),this},f.beginTilingPattern=function(w){A("beginTilingPattern()"),vo(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},f.endTilingPattern=function(w,U){A("endTilingPattern()"),U.stream=He[j].join(`
`),Gr(w,U),hn.publish("endTilingPattern",U),Wr.pop().restore()};var ai,Fn=f.__private__.newObject=function(){var w=Jn();return H(w,!0),w},Jn=f.__private__.newObjectDeferred=function(){return Q++,he[Q]=function(){return pe},Q},H=function(w,U){return U=typeof U=="boolean"&&U,he[w]=pe,U&&fe(w+" 0 obj"),w},ne=f.__private__.newAdditionalObject=function(){var w={objId:Jn(),content:""};return Ee.push(w),w},Z=Jn(),te=Jn(),re=f.__private__.decodeColorString=function(w){var U=w.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var se=parseFloat(U[0]);U=[se,se,se,"r"]}for(var ve="#",Ce=0;Ce<3;Ce++)ve+=("0"+Math.floor(255*parseFloat(U[Ce])).toString(16)).slice(-2);return ve},ce=f.__private__.encodeColorString=function(w){var U;typeof w=="string"&&(w={ch1:w});var se=w.ch1,ve=w.ch2,Ce=w.ch3,Ge=w.ch4,tt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Tt=new Z7(se);if(Tt.ok)se=Tt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var It=parseInt(se.substr(1),16);se=It>>16&255,ve=It>>8&255,Ce=255&It}if(ve===void 0||Ge===void 0&&se===ve&&ve===Ce)U=typeof se=="string"?se+" "+tt[0]:w.precision===2?S(se/255)+" "+tt[0]:D(se/255)+" "+tt[0];else if(Ge===void 0||Xn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");U=typeof se=="string"?[se,ve,Ce,tt[1]].join(" "):w.precision===2?[S(se/255),S(ve/255),S(Ce/255),tt[1]].join(" "):[D(se/255),D(ve/255),D(Ce/255),tt[1]].join(" ")}else U=typeof se=="string"?[se,ve,Ce,Ge,tt[2]].join(" "):w.precision===2?[S(se),S(ve),S(Ce),S(Ge),tt[2]].join(" "):[D(se),D(ve),D(Ce),D(Ge),tt[2]].join(" ");return U},Re=f.__private__.getFilters=function(){return s},ze=f.__private__.putStream=function(w){var U=(w=w||{}).data||"",se=w.filters||Re(),ve=w.alreadyAppliedFilters||[],Ce=w.addLength1||!1,Ge=U.length,tt=w.objectId,Tt=function(R){return R};if(u!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Tt=Ue.encryptor(tt,0));var It={};se===!0&&(se=["FlateEncode"]);var $t=w.additionalKeyValues||[],Pt=(It=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(U,se):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(It.data.length!==0&&($t.push({key:"Length",value:It.data.length}),Ce===!0&&$t.push({key:"Length1",value:Ge})),Pt.length!=0)if(Pt.split("/").length-1==1)$t.push({key:"Filter",value:Pt});else{$t.push({key:"Filter",value:"["+Pt+"]"});for(var Tn=0;Tn<$t.length;Tn+=1)if($t[Tn].key==="DecodeParms"){for(var dr=[],ar=0;ar<It.reverseChain.split("/").length-1;ar+=1)dr.push("null");dr.push($t[Tn].value),$t[Tn].value="["+dr.join(" ")+"]"}}fe("<<");for(var p=0;p<$t.length;p++)fe("/"+$t[p].key+" "+$t[p].value);fe(">>"),It.data.length!==0&&(fe("stream"),fe(Tt(It.data)),fe("endstream"))},Oe=f.__private__.putPage=function(w){var U=w.number,se=w.data,ve=w.objId,Ce=w.contentsObjId;H(ve,!0),fe("<</Type /Page"),fe("/Parent "+w.rootDictionaryObjId+" 0 R"),fe("/Resources "+w.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(I(w.mediaBox.bottomLeftX))+" "+parseFloat(I(w.mediaBox.bottomLeftY))+" "+I(w.mediaBox.topRightX)+" "+I(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&fe("/CropBox ["+I(w.cropBox.bottomLeftX)+" "+I(w.cropBox.bottomLeftY)+" "+I(w.cropBox.topRightX)+" "+I(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&fe("/BleedBox ["+I(w.bleedBox.bottomLeftX)+" "+I(w.bleedBox.bottomLeftY)+" "+I(w.bleedBox.topRightX)+" "+I(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&fe("/TrimBox ["+I(w.trimBox.bottomLeftX)+" "+I(w.trimBox.bottomLeftY)+" "+I(w.trimBox.topRightX)+" "+I(w.trimBox.topRightY)+"]"),w.artBox!==null&&fe("/ArtBox ["+I(w.artBox.bottomLeftX)+" "+I(w.artBox.bottomLeftY)+" "+I(w.artBox.topRightX)+" "+I(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&fe("/UserUnit "+w.userUnit),hn.publish("putPage",{objId:ve,pageContext:Vt[U],pageNumber:U,page:se}),fe("/Contents "+Ce+" 0 R"),fe(">>"),fe("endobj");var Ge=se.join(`
`);return O===C&&(Ge+=`
Q`),H(Ce,!0),ze({data:Ge,filters:Re(),objectId:Ce}),fe("endobj"),ve},Pe=f.__private__.putPages=function(){var w,U,se=[];for(w=1;w<=Kt;w++)Vt[w].objId=Jn(),Vt[w].contentsObjId=Jn();for(w=1;w<=Kt;w++)se.push(Oe({number:w,data:He[w],objId:Vt[w].objId,contentsObjId:Vt[w].contentsObjId,mediaBox:Vt[w].mediaBox,cropBox:Vt[w].cropBox,bleedBox:Vt[w].bleedBox,trimBox:Vt[w].trimBox,artBox:Vt[w].artBox,userUnit:Vt[w].userUnit,rootDictionaryObjId:Z,resourceDictionaryObjId:te}));H(Z,!0),fe("<</Type /Pages");var ve="/Kids [";for(U=0;U<Kt;U++)ve+=se[U]+" 0 R ";fe(ve+"]"),fe("/Count "+Kt),fe(">>"),fe("endobj"),hn.publish("postPutPages")},Fe=function(w){hn.publish("putFont",{font:w,out:fe,newObject:Fn,putStream:ze}),w.isAlreadyPutted!==!0&&(w.objectNumber=Fn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Vf(w.postScriptName)),fe("/Subtype /Type1"),typeof w.encoding=="string"&&fe("/Encoding /"+w.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},it=function(w){w.objectNumber=Fn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[I(w.x),I(w.y),I(w.x+w.width),I(w.y+w.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var se=w.pages[1].join(`
`);ze({data:se,additionalKeyValues:U,objectId:w.objectNumber}),fe("endobj")},ut=function(w,U){U||(U=21);var se=Fn(),ve=function(tt,Tt){var It,$t=[],Pt=1/(Tt-1);for(It=0;It<1;It+=Pt)$t.push(It);if($t.push(1),tt[0].offset!=0){var Tn={offset:0,color:tt[0].color};tt.unshift(Tn)}if(tt[tt.length-1].offset!=1){var dr={offset:1,color:tt[tt.length-1].color};tt.push(dr)}for(var ar="",p=0,R=0;R<$t.length;R++){for(It=$t[R];It>tt[p+1].offset;)p++;var M=tt[p].offset,K=(It-M)/(tt[p+1].offset-M),Ne=tt[p].color,je=tt[p+1].color;ar+=z(Math.round((1-K)*Ne[0]+K*je[0]).toString(16))+z(Math.round((1-K)*Ne[1]+K*je[1]).toString(16))+z(Math.round((1-K)*Ne[2]+K*je[2]).toString(16))}return ar.trim()}(w.colors,U),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+U+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:ve,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),fe("endobj"),w.objectNumber=Fn(),fe("<< /ShadingType "+w.type),fe("/ColorSpace /DeviceRGB");var Ge="/Coords ["+I(parseFloat(w.coords[0]))+" "+I(parseFloat(w.coords[1]))+" ";w.type===2?Ge+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3])):Ge+=I(parseFloat(w.coords[2]))+" "+I(parseFloat(w.coords[3]))+" "+I(parseFloat(w.coords[4]))+" "+I(parseFloat(w.coords[5])),fe(Ge+="]"),w.matrix&&fe("/Matrix ["+w.matrix.toString()+"]"),fe("/Function "+se+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},mt=function(w,U){var se=Jn(),ve=Fn();U.push({resourcesOid:se,objectOid:ve}),w.objectNumber=ve;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+w.boundingBox.map(I).join(" ")+"]"}),Ce.push({key:"XStep",value:I(w.xStep)}),Ce.push({key:"YStep",value:I(w.yStep)}),Ce.push({key:"Resources",value:se+" 0 R"}),w.matrix&&Ce.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ze({data:w.stream,additionalKeyValues:Ce,objectId:w.objectNumber}),fe("endobj")},Ze=function(w){for(var U in w.objectNumber=Fn(),fe("<<"),w)switch(U){case"opacity":fe("/ca "+S(w[U]));break;case"stroke-opacity":fe("/CA "+S(w[U]))}fe(">>"),fe("endobj")},gt=function(w){H(w.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in fe("/Font <<"),Et)Et.hasOwnProperty(U)&&(d===!1||d===!0&&g.hasOwnProperty(U))&&fe("/"+U+" "+Et[U].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Bt).length>0){for(var U in fe("/Shading <<"),Bt)Bt.hasOwnProperty(U)&&Bt[U]instanceof Nu&&Bt[U].objectNumber>=0&&fe("/"+U+" "+Bt[U].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),fe(">>")}}(),function(U){if(Object.keys(Bt).length>0){for(var se in fe("/Pattern <<"),Bt)Bt.hasOwnProperty(se)&&Bt[se]instanceof f.TilingPattern&&Bt[se].objectNumber>=0&&Bt[se].objectNumber<U&&fe("/"+se+" "+Bt[se].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),fe(">>")}}(w.objectOid),function(){if(Object.keys(Gt).length>0){var U;for(U in fe("/ExtGState <<"),Gt)Gt.hasOwnProperty(U)&&Gt[U].objectNumber>=0&&fe("/"+U+" "+Gt[U].objectNumber+" 0 R");hn.publish("putGStateDict"),fe(">>")}}(),function(){for(var U in fe("/XObject <<"),Rr)Rr.hasOwnProperty(U)&&Rr[U].objectNumber>=0&&fe("/"+U+" "+Rr[U].objectNumber+" 0 R");hn.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},Wt=function(w){qt[w.fontName]=qt[w.fontName]||{},qt[w.fontName][w.fontStyle]=w.id},Sn=function(w,U,se,ve,Ce){var Ge={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:w,fontName:U,fontStyle:se,encoding:ve,isStandardFont:Ce||!1,metadata:{}};return hn.publish("addFont",{font:Ge,instance:this}),Et[Ge.id]=Ge,Wt(Ge),Ge.id},cn=f.__private__.pdfEscape=f.pdfEscape=function(w,U){return function(se,ve){var Ce,Ge,tt,Tt,It,$t,Pt,Tn,dr;if(tt=(ve=ve||{}).sourceEncoding||"Unicode",It=ve.outputEncoding,(ve.autoencode||It)&&Et[Ct].metadata&&Et[Ct].metadata[tt]&&Et[Ct].metadata[tt].encoding&&(Tt=Et[Ct].metadata[tt].encoding,!It&&Et[Ct].encoding&&(It=Et[Ct].encoding),!It&&Tt.codePages&&(It=Tt.codePages[0]),typeof It=="string"&&(It=Tt[It]),It)){for(Pt=!1,$t=[],Ce=0,Ge=se.length;Ce<Ge;Ce++)(Tn=It[se.charCodeAt(Ce)])?$t.push(String.fromCharCode(Tn)):$t.push(se[Ce]),$t[Ce].charCodeAt(0)>>8&&(Pt=!0);se=$t.join("")}for(Ce=se.length;Pt===void 0&&Ce!==0;)se.charCodeAt(Ce-1)>>8&&(Pt=!0),Ce--;if(!Pt)return se;for($t=ve.noBOM?[]:[254,255],Ce=0,Ge=se.length;Ce<Ge;Ce++){if((dr=(Tn=se.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(dr),$t.push(Tn-(dr<<8))}return String.fromCharCode.apply(void 0,$t)}(w,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ir=f.__private__.beginPage=function(w){He[++Kt]=[],Vt[Kt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},ga(Kt),De(He[j])},Ji=function(w,U){var se,ve,Ce;switch(n=U||n,typeof w=="string"&&(se=y(w.toLowerCase()),Array.isArray(se)&&(ve=se[0],Ce=se[1])),Array.isArray(w)&&(ve=w[0]*jt,Ce=w[1]*jt),isNaN(ve)&&(ve=i[0],Ce=i[1]),(ve>14400||Ce>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ce=Math.min(14400,Ce)),i=[ve,Ce],n.substr(0,1)){case"l":Ce>ve&&(i=[Ce,ve]);break;case"p":ve>Ce&&(i=[Ce,ve])}ir(i),uu(ka),fe(ql),Oa!==0&&fe(Oa+" J"),Gl!==0&&fe(Gl+" j"),hn.publish("addPage",{pageNumber:Kt})},Ti=function(w){w>0&&w<=Kt&&(He.splice(w,1),Vt.splice(w,1),Kt--,j>Kt&&(j=Kt),this.setPage(j))},ga=function(w){w>0&&w<=Kt&&(j=w)},Lr=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return He.length-1},Xa=function(w,U,se){var ve,Ce=void 0;return se=se||{},w=w!==void 0?w:Et[Ct].fontName,U=U!==void 0?U:Et[Ct].fontStyle,ve=w.toLowerCase(),qt[ve]!==void 0&&qt[ve][U]!==void 0?Ce=qt[ve][U]:qt[w]!==void 0&&qt[w][U]!==void 0?Ce=qt[w][U]:se.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+w+"', '"+U+"'. Refer to getFontList() for available fonts."),Ce||se.noFallback||(Ce=qt.times[U])==null&&(Ce=qt.times.normal),Ce},$r=f.__private__.putInfo=function(){var w=Fn(),U=function(ve){return ve};for(var se in u!==null&&(U=Ue.encryptor(w,0)),fe("<<"),fe("/Producer ("+cn(U("jsPDF "+Mt.version))+")"),_t)_t.hasOwnProperty(se)&&_t[se]&&fe("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+cn(U(_t[se]))+")");fe("/CreationDate ("+cn(U(me))+")"),fe(">>"),fe("endobj")},Ra=f.__private__.putCatalog=function(w){var U=(w=w||{}).rootDictionaryObjId||Z;switch(Fn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+U+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+ft;se.substr(se.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+S(ft)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}ke&&fe("/PageMode /"+ke),hn.publish("putCatalog"),fe(">>"),fe("endobj")},Dn=f.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Q+1)),fe("/Root "+Q+" 0 R"),fe("/Info "+(Q-1)+" 0 R"),u!==null&&fe("/Encrypt "+Ue.oid+" 0 R"),fe("/ID [ <"+de+"> <"+de+"> ]"),fe(">>")},Ka=f.__private__.putHeader=function(){fe("%PDF-"+x),fe("%")},Qa=f.__private__.putXRef=function(){var w="0000000000";fe("xref"),fe("0 "+(Q+1)),fe("0000000000 65535 f ");for(var U=1;U<=Q;U++)typeof he[U]=="function"?fe((w+he[U]()).slice(-10)+" 00000 n "):he[U]!==void 0?fe((w+he[U]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},q=f.__private__.buildDocument=function(){var w;Q=0,pe=0,xe=[],he=[],Ee=[],Z=Jn(),te=Jn(),De(xe),hn.publish("buildDocument"),Ka(),Pe(),function(){hn.publish("putAdditionalObjects");for(var se=0;se<Ee.length;se++){var ve=Ee[se];H(ve.objId,!0),fe(ve.content),fe("endobj")}hn.publish("postPutAdditionalObjects")}(),w=[],function(){for(var se in Et)Et.hasOwnProperty(se)&&(d===!1||d===!0&&g.hasOwnProperty(se))&&Fe(Et[se])}(),function(){var se;for(se in Gt)Gt.hasOwnProperty(se)&&Ze(Gt[se])}(),function(){for(var se in Rr)Rr.hasOwnProperty(se)&&it(Rr[se])}(),function(se){var ve;for(ve in Bt)Bt.hasOwnProperty(ve)&&(Bt[ve]instanceof Nu?ut(Bt[ve]):Bt[ve]instanceof th&&mt(Bt[ve],se))}(w),hn.publish("putResources"),w.forEach(gt),gt({resourcesOid:te,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources"),u!==null&&(Ue.oid=Fn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Ue.v),fe("/R "+Ue.r),fe("/U <"+Ue.toHexString(Ue.U)+">"),fe("/O <"+Ue.toHexString(Ue.O)+">"),fe("/P "+Ue.P),fe(">>"),fe("endobj")),$r(),Ra();var U=pe;return Qa(),Dn(),fe("startxref"),fe(""+U),fe("%%EOF"),De(He[j]),xe.join(`
`)},ye=f.__private__.getBlob=function(w){return new Blob([Ke(w)],{type:"application/pdf"})},Te=f.output=f.__private__.output=(ai=function(w,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",w){case void 0:return q();case"save":f.save(U.filename);break;case"arraybuffer":return Ke(q());case"blob":return ye(q());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(ye(q()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ve=q();try{se=PA(ve)}catch{se=PA(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+U.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Ce=U.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",Tt=Jt.open();return Tt!==null&&Tt.document.write(tt),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',$t=Jt.open();if($t!==null){$t.document.write(It);var Pt=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=U.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',dr=Jt.open();if(dr!==null&&(dr.document.write(Tn),dr.document.title=U.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",U);default:return null}},ai.foo=function(){try{return ai.apply(this,arguments)}catch(se){var w=se.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var U="Error in function "+w.split(`
`)[0].split("<")[0]+": "+se.message;if(!Jt.console)throw new Error(U);Jt.console.error(U,se),Jt.alert&&alert(U)}},ai.foo.bar=ai,ai.foo),Se=function(w){return Array.isArray(ii)===!0&&ii.indexOf(w)>-1};switch(r){case"pt":jt=1;break;case"mm":jt=72/25.4;break;case"cm":jt=72/2.54;break;case"in":jt=72;break;case"px":jt=Se("px_scaling")==1?.75:96/72;break;case"pc":case"em":jt=12;break;case"ex":jt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);jt=r}var Ue=null;Ie(),J();var at=f.__private__.getPageInfo=f.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[w].objId,pageNumber:w,pageContext:Vt[w]}},Ot=f.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Vt)if(Vt[U].objId===w)break;return at(U)},yn=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Vt[j].objId,pageNumber:j,pageContext:Vt[j]}};f.addPage=function(){return Ji.apply(this,arguments),this},f.setPage=function(){return ga.apply(this,arguments),De.call(this,He[j]),this},f.insertPage=function(w){return this.addPage(),this.movePage(j,w),this},f.movePage=function(w,U){var se,ve;if(w>U){se=He[w],ve=Vt[w];for(var Ce=w;Ce>U;Ce--)He[Ce]=He[Ce-1],Vt[Ce]=Vt[Ce-1];He[U]=se,Vt[U]=ve,this.setPage(U)}else if(w<U){se=He[w],ve=Vt[w];for(var Ge=w;Ge<U;Ge++)He[Ge]=He[Ge+1],Vt[Ge]=Vt[Ge+1];He[U]=se,Vt[U]=ve,this.setPage(U)}return this},f.deletePage=function(){return Ti.apply(this,arguments),this},f.__private__.text=f.text=function(w,U,se,ve,Ce){var Ge,tt,Tt,It,$t,Pt,Tn,dr,ar,p=(ve=ve||{}).scope||this;if(typeof w=="number"&&typeof U=="number"&&(typeof se=="string"||Array.isArray(se))){var R=se;se=U,U=w,w=R}if(arguments[3]instanceof Ut==0?(Tt=arguments[4],It=arguments[5],Xn(Tn=arguments[3])==="object"&&Tn!==null||(typeof Tt=="string"&&(It=Tt,Tt=null),typeof Tn=="string"&&(It=Tn,Tn=null),typeof Tn=="number"&&(Tt=Tn,Tn=null),ve={flags:Tn,angle:Tt,align:It})):(A("The transform parameter of text() with a Matrix value"),ar=Ce),isNaN(U)||isNaN(se)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return p;var M,K="",Ne=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Yo,je=p.internal.scaleFactor;function ht(Un){return Un=Un.split("	").join(Array(ve.TabLen||9).join(" ")),cn(Un,Tn)}function Zt(Un){for(var or,Xr=Un.concat(),mi=[],rl=Xr.length;rl--;)typeof(or=Xr.shift())=="string"?mi.push(or):Array.isArray(Un)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?mi.push(or[0]):mi.push([or[0],or[1],or[2]]);return mi}function sr(Un,or){var Xr;if(typeof Un=="string")Xr=or(Un)[0];else if(Array.isArray(Un)){for(var mi,rl,h0=Un.concat(),_f=[],D1=h0.length;D1--;)typeof(mi=h0.shift())=="string"?_f.push(or(mi)[0]):Array.isArray(mi)&&typeof mi[0]=="string"&&(rl=or(mi[0],mi[1],mi[2]),_f.push([rl[0],rl[1],rl[2]]));Xr=_f}return Xr}var wn=!1,pr=!0;if(typeof w=="string")wn=!0;else if(Array.isArray(w)){var Ci=w.concat();tt=[];for(var xa,xr=Ci.length;xr--;)(typeof(xa=Ci.shift())!="string"||Array.isArray(xa)&&typeof xa[0]!="string")&&(pr=!1);wn=pr}if(wn===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var ta=Ve/p.internal.scaleFactor,Cs=ta*(Ne-1);switch(ve.baseline){case"bottom":se-=Cs;break;case"top":se+=ta-Cs;break;case"hanging":se+=ta-2*Cs;break;case"middle":se+=ta/2-Cs}if((Pt=ve.maxWidth||0)>0&&(typeof w=="string"?w=p.splitTextToSize(w,Pt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Un,or){return Un.concat(p.splitTextToSize(or,Pt))},[]))),Ge={text:w,x:U,y:se,options:ve,mutex:{pdfEscape:cn,activeFontKey:Ct,fonts:Et,activeFontSize:Ve}},hn.publish("preProcessText",Ge),w=Ge.text,Tt=(ve=Ge.options).angle,ar instanceof Ut==0&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,ve.rotationDirection===0&&(Tt=-Tt),O===C&&(Tt=-Tt);var el=Math.cos(Tt),i0=Math.sin(Tt);ar=new Ut(el,i0,-i0,el,0,0)}else Tt&&Tt instanceof Ut&&(ar=Tt);O!==C||ar||(ar=Si),($t=ve.charSpace||Qo)!==void 0&&(K+=I(P($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=ve.horizontalScale)!==void 0&&(K+=I(100*dr)+` Tz
`),ve.lang;var Fr=-1,tl=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,yf=p.internal.getCurrentPageInfo().pageContext;switch(tl){case 0:case!1:case"fill":Fr=0;break;case 1:case!0:case"stroke":Fr=1;break;case 2:case"fillThenStroke":Fr=2;break;case 3:case"invisible":Fr=3;break;case 4:case"fillAndAddForClipping":Fr=4;break;case 5:case"strokeAndAddPathForClipping":Fr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fr=6;break;case 7:case"addToPathForClipping":Fr=7}var I1=yf.usedRenderingMode!==void 0?yf.usedRenderingMode:-1;Fr!==-1?K+=Fr+` Tr
`:I1!==-1&&(K+=`0 Tr
`),Fr!==-1&&(yf.usedRenderingMode=Fr),It=ve.align||"left";var Ns,gu=Ve*Ne,a0=p.internal.pageSize.getWidth(),s0=Et[Ct];$t=ve.charSpace||Qo,Pt=ve.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Xl=[],mu=function(Un){return p.getStringUnitWidth(Un,{font:s0,charSpace:$t,fontSize:Ve,doKerning:!1})*Ve/je};if(Object.prototype.toString.call(w)==="[object Array]"){var Ja;tt=Zt(w),It!=="left"&&(Ns=tt.map(mu));var es,Kl=0;if(It==="right"){U-=Ns[0],w=[],xr=tt.length;for(var nl=0;nl<xr;nl++)nl===0?(es=va(U),Ja=Ss(se)):(es=P(Kl-Ns[nl]),Ja=-gu),w.push([tt[nl],es,Ja]),Kl=Ns[nl]}else if(It==="center"){U-=Ns[0]/2,w=[],xr=tt.length;for(var Ql=0;Ql<xr;Ql++)Ql===0?(es=va(U),Ja=Ss(se)):(es=P((Kl-Ns[Ql])/2),Ja=-gu),w.push([tt[Ql],es,Ja]),Kl=Ns[Ql]}else if(It==="left"){w=[],xr=tt.length;for(var o0=0;o0<xr;o0++)w.push(tt[o0])}else if(It==="justify"&&s0.encoding==="Identity-H"){w=[],xr=tt.length,Pt=Pt!==0?Pt:a0;for(var xf=0,Yr=0;Yr<xr;Yr++)if(Ja=Yr===0?Ss(se):-gu,es=Yr===0?va(U):xf,Yr<xr-1){var L1=P((Pt-Ns[Yr])/(tt[Yr].split(" ").length-1)),xo=tt[Yr].split(" ");w.push([xo[0]+" ",es,Ja]),xf=0;for(var _o=1;_o<xo.length;_o++){var l0=(mu(xo[_o-1]+" "+xo[_o])-mu(xo[_o]))*je+L1;_o==xo.length-1?w.push([xo[_o],l0,0]):w.push([xo[_o]+" ",l0,0]),xf-=l0}}else w.push([tt[Yr],es,Ja]);w.push(["",xf,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],xr=tt.length,Pt=Pt!==0?Pt:a0,Yr=0;Yr<xr;Yr++){Ja=Yr===0?Ss(se):-gu,es=Yr===0?va(U):0;var c0=tt[Yr].split(" ").length-1,u0=c0>0?(Pt-Ns[Yr])/c0:0;Yr<xr-1?Xl.push(I(P(u0))):Xl.push(0),w.push([tt[Yr],es,Ja])}}}(typeof ve.R2L=="boolean"?ve.R2L:Ht)===!0&&(w=sr(w,function(Un,or,Xr){return[Un.split("").reverse().join(""),or,Xr]})),Ge={text:w,x:U,y:se,options:ve,mutex:{pdfEscape:cn,activeFontKey:Ct,fonts:Et,activeFontSize:Ve}},hn.publish("postProcessText",Ge),w=Ge.text,M=Ge.mutex.isHex||!1;var f0=Et[Ct].encoding;f0!=="WinAnsiEncoding"&&f0!=="StandardEncoding"||(w=sr(w,function(Un,or,Xr){return[ht(Un),or,Xr]})),tt=Zt(w),w=[];for(var Zl,Jl,ec,vu=Array.isArray(tt[0])?1:0,tc="",yu=function(Un,or,Xr){var mi="";return Xr instanceof Ut?(Xr=typeof ve.angle=="number"?pa(Xr,new Ut(1,0,0,1,Un,or)):pa(new Ut(1,0,0,1,Un,or),Xr),O===C&&(Xr=pa(new Ut(1,0,0,-1,0,0),Xr)),mi=Xr.join(" ")+` Tm
`):mi=I(Un)+" "+I(or)+` Td
`,mi},Rs=0;Rs<tt.length;Rs++){switch(tc="",vu){case 1:ec=(M?"<":"(")+tt[Rs][0]+(M?">":")"),Zl=parseFloat(tt[Rs][1]),Jl=parseFloat(tt[Rs][2]);break;case 0:ec=(M?"<":"(")+tt[Rs]+(M?">":")"),Zl=va(U),Jl=Ss(se)}Xl!==void 0&&Xl[Rs]!==void 0&&(tc=Xl[Rs]+` Tw
`),Rs===0?w.push(tc+yu(Zl,Jl,ar)+ec):vu===0?w.push(tc+ec):vu===1&&w.push(tc+yu(Zl,Jl,ar)+ec)}w=vu===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var wo=`BT
/`;return wo+=Ct+" "+Ve+` Tf
`,wo+=I(Ve*Ne)+` TL
`,wo+=go+`
`,wo+=K,wo+=w,fe(wo+="ET"),g[Ct]=!0,p};var ma=f.__private__.clip=f.clip=function(w){return fe(w==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ma("evenodd")},f.__private__.discardPath=f.discardPath=function(){return fe("n"),this};var Dr=f.__private__.isValidStyle=function(w){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(U=!0),U};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(w){return Dr(w)&&(c=w),this};var Ia=f.__private__.getStyle=f.getStyle=function(w){var U=c;switch(w){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=w}return U},La=f.close=function(){return fe("h"),this};f.stroke=function(){return fe("S"),this},f.fill=function(w){return gi("f",w),this},f.fillEvenOdd=function(w){return gi("f*",w),this},f.fillStroke=function(w){return gi("B",w),this},f.fillStrokeEvenOdd=function(w){return gi("B*",w),this};var gi=function(w,U){Xn(U)==="object"?kn(U,w):fe(w)},Da=function(w){w===null||O===C&&w===void 0||(w=Ia(w),fe(w))};function zl(w,U,se,ve,Ce){var Ge=new th(U||this.boundingBox,se||this.xStep,ve||this.yStep,this.gState,Ce||this.matrix);Ge.stream=this.stream;var tt=w+"$$"+this.cloneIndex+++"$$";return Gr(tt,Ge),Ge}var kn=function(w,U){var se=en[w.key],ve=Bt[se];if(ve instanceof Nu)fe("q"),fe(er(U)),ve.gState&&f.setGState(ve.gState),fe(w.matrix.toString()+" cm"),fe("/"+se+" sh"),fe("Q");else if(ve instanceof th){var Ce=new Ut(1,0,0,-1,0,Xs());w.matrix&&(Ce=Ce.multiply(w.matrix||Si),se=zl.call(ve,w.key,w.boundingBox,w.xStep,w.yStep,Ce).id),fe("q"),fe("/Pattern cs"),fe("/"+se+" scn"),ve.gState&&f.setGState(ve.gState),fe(U),fe("Q")}},er=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ys=f.moveTo=function(w,U){return fe(I(P(w))+" "+I(ue(U))+" m"),this},ea=f.lineTo=function(w,U){return fe(I(P(w))+" "+I(ue(U))+" l"),this},po=f.curveTo=function(w,U,se,ve,Ce,Ge){return fe([I(P(w)),I(ue(U)),I(P(se)),I(ue(ve)),I(P(Ce)),I(ue(Ge)),"c"].join(" ")),this};f.__private__.line=f.line=function(w,U,se,ve,Ce){if(isNaN(w)||isNaN(U)||isNaN(se)||isNaN(ve)||!Dr(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return O===T?this.lines([[se-w,ve-U]],w,U,[1,1],Ce||"S"):this.lines([[se-w,ve-U]],w,U,[1,1]).stroke()},f.__private__.lines=f.lines=function(w,U,se,ve,Ce,Ge){var tt,Tt,It,$t,Pt,Tn,dr,ar,p,R,M,K;if(typeof w=="number"&&(K=se,se=U,U=w,w=K),ve=ve||[1,1],Ge=Ge||!1,isNaN(U)||isNaN(se)||!Array.isArray(w)||!Array.isArray(ve)||!Dr(Ce)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ys(U,se),tt=ve[0],Tt=ve[1],$t=w.length,R=U,M=se,It=0;It<$t;It++)(Pt=w[It]).length===2?(R=Pt[0]*tt+R,M=Pt[1]*Tt+M,ea(R,M)):(Tn=Pt[0]*tt+R,dr=Pt[1]*Tt+M,ar=Pt[2]*tt+R,p=Pt[3]*Tt+M,R=Pt[4]*tt+R,M=Pt[5]*Tt+M,po(Tn,dr,ar,p,R,M));return Ge&&La(),Da(Ce),this},f.path=function(w){for(var U=0;U<w.length;U++){var se=w[U],ve=se.c;switch(se.op){case"m":Ys(ve[0],ve[1]);break;case"l":ea(ve[0],ve[1]);break;case"c":po.apply(this,ve);break;case"h":La()}}return this},f.__private__.rect=f.rect=function(w,U,se,ve,Ce){if(isNaN(w)||isNaN(U)||isNaN(se)||isNaN(ve)||!Dr(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return O===T&&(ve=-ve),fe([I(P(w)),I(ue(U)),I(P(se)),I(P(ve)),"re"].join(" ")),Da(Ce),this},f.__private__.triangle=f.triangle=function(w,U,se,ve,Ce,Ge,tt){if(isNaN(w)||isNaN(U)||isNaN(se)||isNaN(ve)||isNaN(Ce)||isNaN(Ge)||!Dr(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-w,ve-U],[Ce-se,Ge-ve],[w-Ce,U-Ge]],w,U,[1,1],tt,!0),this},f.__private__.roundedRect=f.roundedRect=function(w,U,se,ve,Ce,Ge,tt){if(isNaN(w)||isNaN(U)||isNaN(se)||isNaN(ve)||isNaN(Ce)||isNaN(Ge)||!Dr(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*se),Ge=Math.min(Ge,.5*ve),this.lines([[se-2*Ce,0],[Ce*Tt,0,Ce,Ge-Ge*Tt,Ce,Ge],[0,ve-2*Ge],[0,Ge*Tt,-Ce*Tt,Ge,-Ce,Ge],[2*Ce-se,0],[-Ce*Tt,0,-Ce,-Ge*Tt,-Ce,-Ge],[0,2*Ge-ve],[0,-Ge*Tt,Ce*Tt,-Ge,Ce,-Ge]],w+Ce,U,[1,1],tt,!0),this},f.__private__.ellipse=f.ellipse=function(w,U,se,ve,Ce){if(isNaN(w)||isNaN(U)||isNaN(se)||isNaN(ve)||!Dr(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*se,tt=4/3*(Math.SQRT2-1)*ve;return Ys(w+se,U),po(w+se,U-tt,w+Ge,U-ve,w,U-ve),po(w-Ge,U-ve,w-se,U-tt,w-se,U),po(w-se,U+tt,w-Ge,U+ve,w,U+ve),po(w+Ge,U+ve,w+se,U+tt,w+se,U),Da(Ce),this},f.__private__.circle=f.circle=function(w,U,se,ve){if(isNaN(w)||isNaN(U)||isNaN(se)||!Dr(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,U,se,se,ve)},f.setFont=function(w,U,se){return se&&(U=L(U,se)),Ct=Xa(w,U,{disableWarning:!1}),this};var r0=f.__private__.getFont=f.getFont=function(){return Et[Xa.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var w,U,se={};for(w in qt)if(qt.hasOwnProperty(w))for(U in se[w]=[],qt[w])qt[w].hasOwnProperty(U)&&se[w].push(U);return se},f.addFont=function(w,U,se,ve,Ce){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(se=L(se,ve)),Sn.call(this,w,U,se,Ce=Ce||"Identity-H")};var Yo,ka=t.lineWidth||.200025,Qt=f.__private__.getLineWidth=f.getLineWidth=function(){return ka},uu=f.__private__.setLineWidth=f.setLineWidth=function(w){return ka=w,fe(I(P(w))+" w"),this};f.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(w,U){if(w=w||[],U=U||0,isNaN(U)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(se){return I(P(se))}).join(" "),U=I(P(U)),fe("["+w+"] "+U+" d"),this};var Hl=f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*Yo};f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*Yo};var mf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Yo=w),this},Xo=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Yo};mf(t.lineHeight);var va=f.__private__.getHorizontalCoordinate=function(w){return P(w)},Ss=f.__private__.getVerticalCoordinate=function(w){return O===C?w:Vt[j].mediaBox.topRightY-Vt[j].mediaBox.bottomLeftY-P(w)},fu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(w){return I(va(w))},hr=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(w){return I(Ss(w))},ql=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return re(ql)},f.__private__.setStrokeColor=f.setDrawColor=function(w,U,se,ve){return ql=ce({ch1:w,ch2:U,ch3:se,ch4:ve,pdfColorType:"draw",precision:2}),fe(ql),this};var hu=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return re(hu)},f.__private__.setFillColor=f.setFillColor=function(w,U,se,ve){return hu=ce({ch1:w,ch2:U,ch3:se,ch4:ve,pdfColorType:"fill",precision:2}),fe(hu),this};var go=t.textColor||"0 g",Ko=f.__private__.getTextColor=f.getTextColor=function(){return re(go)};f.__private__.setTextColor=f.setTextColor=function(w,U,se,ve){return go=ce({ch1:w,ch2:U,ch3:se,ch4:ve,pdfColorType:"text",precision:3}),this};var Qo=t.charSpace,Wl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qo||0)};f.__private__.setCharSpace=f.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qo=w,this};var Oa=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(w){var U=f.CapJoinStyles[w];if(U===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oa=U,fe(U+" J"),this};var Gl=0;f.__private__.setLineJoin=f.setLineJoin=function(w){var U=f.CapJoinStyles[w];if(U===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=U,fe(U+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(I(P(w))+" M"),this},f.GState=mm,f.setGState=function(w){(w=typeof w=="string"?Gt[Ln[w]]:Zo(null,w)).equals(zn)||(fe("/"+w.id+" gs"),zn=w)};var Zo=function(w,U){if(!w||!Ln[w]){var se=!1;for(var ve in Gt)if(Gt.hasOwnProperty(ve)&&Gt[ve].equals(U)){se=!0;break}if(se)U=Gt[ve];else{var Ce="GS"+(Object.keys(Gt).length+1).toString(10);Gt[Ce]=U,U.id=Ce}return w&&(Ln[w]=U.id),hn.publish("addGState",U),U}};f.addGState=function(w,U){return Zo(w,U),this},f.saveGraphicsState=function(){return fe("q"),gn.push({key:Ct,size:Ve,color:go}),this},f.restoreGraphicsState=function(){fe("Q");var w=gn.pop();return Ct=w.key,Ve=w.size,go=w.color,zn=null,this},f.setCurrentTransformationMatrix=function(w){return fe(w.toString()+" cm"),this},f.comment=function(w){return fe("#"+w),this};var Za=function(w,U){var se=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ge){isNaN(Ge)||(se=parseFloat(Ge))}});var ve=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Ge){Ce=Ge.toString()}}),this},$l=function(w,U,se,ve){Za.call(this,w,U),this.type="rect";var Ce=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(tt){isNaN(tt)||(Ce=parseFloat(tt))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},mo=function(){this.page=Kt,this.currentPage=j,this.pages=He.slice(0),this.pagesContext=Vt.slice(0),this.x=St,this.y=vn,this.matrix=nn,this.width=Jo(j),this.height=Ts(j),this.outputDestination=ot,this.id="",this.objectNumber=-1};mo.prototype.restore=function(){Kt=this.page,j=this.currentPage,Vt=this.pagesContext,He=this.pages,St=this.x,vn=this.y,nn=this.matrix,vf(j,this.width),ya(j,this.height),ot=this.outputDestination};var vo=function(w,U,se,ve,Ce){Wr.push(new mo),Kt=j=0,He=[],St=w,vn=U,nn=Ce,ir([se,ve])};for(var yo in f.beginFormObject=function(w,U,se,ve,Ce){return vo(w,U,se,ve,Ce),this},f.endFormObject=function(w){return function(U){if(Ir[U])Wr.pop().restore();else{var se=new mo,ve="Xo"+(Object.keys(Rr).length+1).toString(10);se.id=ve,Ir[U]=ve,Rr[ve]=se,hn.publish("addFormObject",se),Wr.pop().restore()}}(w),this},f.doFormObject=function(w,U){var se=Rr[Ir[w]];return fe("q"),fe(U.toString()+" cm"),fe("/"+se.id+" Do"),fe("Q"),this},f.getFormObject=function(w){var U=Rr[Ir[w]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},f.save=function(w,U){return w=w||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Tu(ye(q()),w),typeof Tu.unload=="function"&&Jt.setTimeout&&setTimeout(Tu.unload,911),this):new Promise(function(se,ve){try{var Ce=Tu(ye(q()),w);typeof Tu.unload=="function"&&Jt.setTimeout&&setTimeout(Tu.unload,911),se(Ce)}catch(Ge){ve(Ge.message)}})},Mt.API)Mt.API.hasOwnProperty(yo)&&(yo==="events"&&Mt.API.events.length?function(w,U){var se,ve,Ce;for(Ce=U.length-1;Ce!==-1;Ce--)se=U[Ce][0],ve=U[Ce][1],w.subscribe.apply(w,[se].concat(typeof ve=="function"?[ve]:ve))}(hn,Mt.API.events):f[yo]=Mt.API[yo]);function Jo(w){return Vt[w].mediaBox.topRightX-Vt[w].mediaBox.bottomLeftX}function vf(w,U){Vt[w].mediaBox.topRightX=U+Vt[w].mediaBox.bottomLeftX}function Ts(w){return Vt[w].mediaBox.topRightY-Vt[w].mediaBox.bottomLeftY}function ya(w,U){Vt[w].mediaBox.topRightY=U+Vt[w].mediaBox.bottomLeftY}var du=f.getPageWidth=function(w){return Jo(w=w||j)/jt},pu=f.setPageWidth=function(w,U){vf(w,U*jt)},Xs=f.getPageHeight=function(w){return Ts(w=w||j)/jt},Yl=f.setPageHeight=function(w,U){ya(w,U*jt)};return f.internal={pdfEscape:cn,getStyle:Ia,getFont:r0,getFontSize:st,getCharSpace:Wl,getTextColor:Ko,getLineHeight:Hl,getLineHeightFactor:Xo,getLineWidth:Qt,write:wt,getHorizontalCoordinate:va,getVerticalCoordinate:Ss,getCoordinateString:fu,getVerticalCoordinateString:hr,collections:{},newObject:Fn,newAdditionalObject:ne,newObjectDeferred:Jn,newObjectDeferredBegin:H,getFilters:Re,putStream:ze,events:hn,scaleFactor:jt,pageSize:{getWidth:function(){return du(j)},setWidth:function(w){pu(j,w)},getHeight:function(){return Xs(j)},setHeight:function(w){Yl(j,w)}},encryptionOptions:u,encryption:Ue,getEncryptor:function(w){return u!==null?Ue.encryptor(w,0):function(U){return U}},output:Te,getNumberOfPages:Lr,pages:He,out:fe,f2:S,f3:D,getPageInfo:at,getPageInfoByObjId:Ot,getCurrentPageInfo:yn,getPDFVersion:v,Point:Za,Rectangle:$l,Matrix:Ut,hasHotfix:Se},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return du(j)},set:function(w){pu(j,w)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Xs(j)},set:function(w){Yl(j,w)},enumerable:!0,configurable:!0}),(function(w){for(var U=0,se=xt.length;U<se;U++){var ve=Sn.call(this,w[U][0],w[U][1],w[U][2],xt[U][3],!0);d===!1&&(g[ve]=!0);var Ce=w[U][0].split("-");Wt({id:ve,fontName:Ce[0],fontStyle:Ce[1]||""})}hn.publish("addFonts",{fonts:Et,dictionary:qt})}).call(f,xt),Ct="F1",Ji(i,n),hn.publish("initialized"),f}Uf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uf.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Uf.prototype.processOwnerPassword=function(t,e){return $5(G5(e).substr(0,5),t)},Uf.prototype.encryptor=function(t,e){var n=G5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return $5(n,r)}},mm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Xn(t)!==Xn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Mt.API={events:[]},Mt.version="3.0.3";var Ur=Mt.API,ww=1,gf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(t){return t.toFixed(2)},dc=function(t){return t.toFixed(5)};Ur.__acroform__={};var Ya=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},jA=function(t){return t*ww},To=function(t){var e=new nI,n=Rt.internal.getHeight(t)||0,r=Rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(sn(r)),Number(sn(n))],e},iQ=Ur.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},aQ=Ur.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sQ=Ur.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ti=Ur.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sQ(t,e-1)},ni=Ur.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iQ(t,e-1)},ri=Ur.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aQ(t,e-1)},oQ=Ur.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(sn(l.lowerLeft_X)),Number(sn(l.lowerLeft_Y)),Number(sn(l.upperRight_X)),Number(sn(l.upperRight_Y))]},lQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Y5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+sn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=To(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Y5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var a=n,s=Rt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Rt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(S,D,P){if(S+1<i.length){var ue=D+" "+i[S+1][0];return Lp(ue,t,P).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,d=Lp("3",t,a).height,g=t.multiline?s-a:(s-d)/2,f=g+=2,x=0,v=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Lp(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",T=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var O=!1;if(i[C].length!==1&&_!==i[C].length-1){if((d+2)*(T+2)+2>s)continue e;y+=i[C][_],O=!0,v=C,C--}else{y=(y+=i[C][_]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var Y=parseInt(C),ae=l(Y,y,a),L=C>=i.length-1;if(ae&&!L){y+=" ",_=0;continue}if(ae||L){if(L)v=Y;else if(t.multiline&&(d+2)*(T+2)+2>s)continue e}else{if(!t.multiline||(d+2)*(T+2)+2>s)continue e;v=Y}}for(var I="",A=x;A<=v;A++){var F=i[A];if(t.multiline){if(A===v){I+=F[_]+" ",_=(_+1)%F.length;continue}if(A===x){I+=F[F.length-1]+" ";continue}}I+=F[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=Lp(I,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=sn(c)+" "+sn(f)+` Td
`,e+="("+gf(I)+`) Tj
`,e+=-sn(c)+` 0 Td
`,f=-(a+2),u=0,x=O?v:v+1,T++,y=""}break}return r.text=e,r.fontSize=a,r},Lp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},cQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uQ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(fo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(cQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ww=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new rI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&uQ(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var o=r[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=oQ(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Rt.createDefaultAppearanceStream(o),Xn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=lQ(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var f=o.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var x=f[s];typeof x=="function"&&(x=x.call(i,o)),d+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(i,o)),d+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(v,_){for(var y in v)if(v.hasOwnProperty(y)){var T=y,C=v[y];_.internal.newObjectDeferredBegin(C.objId,!0),Xn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete v[T]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},tI=Ur.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Xn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+gf(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ry=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+gf(r(t))+")"},Lo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lo.prototype.toString=function(){return this.objId+" 0 R"},Lo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Lo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:tI(i,this.objId,this.scope)}):i instanceof Lo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var nI=function(){Lo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ya(nI,Lo);var rI=function(){Lo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+gf(n(t))+")"}},set:function(n){t=n}})};Ya(rI,Lo);var fo=function t(){Lo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(y){y?this.F=ni(e,3):this.F=ri(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof vm)return;a="FieldObject"+t.FieldNum++}var y=function(T){return T};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+gf(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ww:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof vm||this instanceof Vu))return ry(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ii==0?ry(g,this.objId,this.scope):g},set:function(y){y=y.toString(),g=this instanceof Ii==0?y.substr(0,1)==="("?Rf(y.substr(1,y.length-2)):Rf(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?Rf(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Ii==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ii==0?ry(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Ii==0?y.substr(0,1)==="("?Rf(y.substr(1,y.length-2)):Rf(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?Rf(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Ii==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(y){y?this.Ff=ni(this.Ff,1):this.Ff=ri(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(y){y?this.Ff=ni(this.Ff,2):this.Ff=ri(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(y){y?this.Ff=ni(this.Ff,3):this.Ff=ri(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');_=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(_){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Ya(fo,Lo);var gh=function(){fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(n){n?this.Ff=ni(this.Ff,18):this.Ff=ri(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ni(this.Ff,19):this.Ff=ri(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(n){n?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ri(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(n){n?this.Ff=ni(this.Ff,22):this.Ff=ri(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(n){n?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(n){n?this.Ff=ni(this.Ff,27):this.Ff=ri(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(gh,fo);var mh=function(){gh.call(this),this.fontName="helvetica",this.combo=!1};Ya(mh,gh);var vh=function(){mh.call(this),this.combo=!0};Ya(vh,mh);var ig=function(){vh.call(this),this.edit=!0};Ya(ig,vh);var Ii=function(){fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(n){n?this.Ff=ni(this.Ff,15):this.Ff=ri(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(n){n?this.Ff=ni(this.Ff,16):this.Ff=ri(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(n){n?this.Ff=ni(this.Ff,17):this.Ff=ri(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(n){n?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+gf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Xn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ya(Ii,fo);var ag=function(){Ii.call(this),this.pushButton=!0};Ya(ag,Ii);var yh=function(){Ii.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ya(yh,Ii);var vm=function(){var t,e;fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+gf(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Xn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(vm,fo),yh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},yh.prototype.createOption=function(t){var e=new vm;return e.Parent=this,e.optionName=t,this.Kids.push(e),hQ.call(this.scope,e),e};var sg=function(){Ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Ya(sg,Ii);var Vu=function(){fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=ri(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=ri(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ri(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=ri(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=ri(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ri(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(Vu,fo);var og=function(){Vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(t){t?this.Ff=ni(this.Ff,14):this.Ff=ri(this.Ff,14)}}),this.password=!0};Ya(og,Vu);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=To(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Y5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+sn(Rt.internal.getWidth(t))+" "+sn(Rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+sn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=To(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Rt.internal.getHeight(t),s=Rt.internal.getWidth(t),o=Y5(t,t.caption);return i.push("1 g"),i.push("0 0 "+sn(s)+" "+sn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sn(s-1)+" "+sn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+sn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=To(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(Rt.internal.getWidth(t))+" "+sn(Rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Rt.RadioButton.Circle.YesNormal,e.D[t]=Rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=To(t);e.scope=t.scope;var n=[],r=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Rt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+dc(Rt.internal.getWidth(t)/2)+" "+dc(Rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=To(t);e.scope=t.scope;var n=[],r=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Rt.internal.Bezier_C).toFixed(5)),s=Number((r*Rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dc(Rt.internal.getWidth(t)/2)+" "+dc(Rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+dc(Rt.internal.getWidth(t)/2)+" "+dc(Rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=To(t);e.scope=t.scope;var n=[],r=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dc(Rt.internal.getWidth(t)/2)+" "+dc(Rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Rt.RadioButton.Cross.YesNormal,e.D[t]=Rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=To(t);e.scope=t.scope;var n=[],r=Rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+sn(Rt.internal.getWidth(t)-2)+" "+sn(Rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(sn(r.x1.x)+" "+sn(r.x1.y)+" m"),n.push(sn(r.x2.x)+" "+sn(r.x2.y)+" l"),n.push(sn(r.x4.x)+" "+sn(r.x4.y)+" m"),n.push(sn(r.x3.x)+" "+sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=To(t);e.scope=t.scope;var n=Rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(Rt.internal.getWidth(t))+" "+sn(Rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sn(Rt.internal.getWidth(t)-2)+" "+sn(Rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(sn(n.x1.x)+" "+sn(n.x1.y)+" m"),r.push(sn(n.x2.x)+" "+sn(n.x2.y)+" l"),r.push(sn(n.x4.x)+" "+sn(n.x4.y)+" m"),r.push(sn(n.x3.x)+" "+sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=To(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(Rt.internal.getWidth(t))+" "+sn(Rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Rt.internal.getWidth(t),n=Rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Rt.internal.getWidth=function(t){var e=0;return Xn(t)==="object"&&(e=jA(t.Rect[2])),e},Rt.internal.getHeight=function(t){var e=0;return Xn(t)==="object"&&(e=jA(t.Rect[3])),e};var hQ=Ur.addField=function(t){if(fQ(this,t),!(t instanceof fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ur.AcroFormChoiceField=gh,Ur.AcroFormListBox=mh,Ur.AcroFormComboBox=vh,Ur.AcroFormEditBox=ig,Ur.AcroFormButton=Ii,Ur.AcroFormPushButton=ag,Ur.AcroFormRadioButton=yh,Ur.AcroFormCheckBox=sg,Ur.AcroFormTextField=Vu,Ur.AcroFormPasswordField=og,Ur.AcroFormAppearance=Rt,Ur.AcroForm={ChoiceField:gh,ListBox:mh,ComboBox:vh,EditBox:ig,Button:Ii,PushButton:ag,RadioButton:yh,CheckBox:sg,TextField:Vu,PasswordField:og,Appearance:Rt},Mt.AcroForm={ChoiceField:gh,ListBox:mh,ComboBox:vh,EditBox:ig,Button:Ii,PushButton:ag,RadioButton:yh,CheckBox:sg,TextField:Vu,PasswordField:og,Appearance:Rt};Mt.AcroForm;function iI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,D){var P,ue,me,de,we,J=n;if((D=D||n)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(ae(S))for(we in r)for(me=r[we],P=0;P<me.length;P+=1){for(de=!0,ue=0;ue<me[P].length;ue+=1)if(me[P][ue]!==void 0&&me[P][ue]!==S[ue]){de=!1;break}if(de===!0){J=we;break}}else for(we in r)for(me=r[we],P=0;P<me.length;P+=1){for(de=!0,ue=0;ue<me[P].length;ue+=1)if(me[P][ue]!==void 0&&me[P][ue]!==S.charCodeAt(ue)){de=!1;break}if(de===!0){J=we;break}}return J===n&&D!==n&&(J=D),J},a=function S(D){for(var P=this.internal.write,ue=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:D.width}),de.push({key:"Height",value:D.height}),D.colorSpace===y.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===y.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var we="",J=0,ie=D.transparency.length;J<ie;J++)we+=D.transparency[J]+" "+D.transparency[J]+" ";de.push({key:"Mask",value:"["+we+"]"})}D.sMask!==void 0&&de.push({key:"SMask",value:D.objectId+1+" 0 R"});var _e=D.filter!==void 0?["/"+D.filter]:void 0;if(ue({data:D.data,additionalKeyValues:de,alreadyAppliedFilters:_e,objectId:D.objectId}),P("endobj"),"sMask"in D&&D.sMask!==void 0){var Ie,N=(Ie=D.sMaskBitsPerComponent)!==null&&Ie!==void 0?Ie:D.bitsPerComponent,j={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:D.sMask};"filter"in D&&(j.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(D.width),j.filter=D.filter),S.call(this,j)}if(D.colorSpace===y.INDEXED){var B=this.internal.newObject();ue({data:I(new Uint8Array(D.palette)),objectId:B}),P("endobj")}},s=function(){var S=this.internal.collections[e+"images"];for(var D in S)a.call(this,S[D])},o=function(){var S,D=this.internal.collections[e+"images"],P=this.internal.write;for(var ue in D)P("/I"+(S=D[ue]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(S){return typeof t["process"+S.toUpperCase()]=="function"},g=function(S){return Xn(S)==="object"&&S.nodeType===1},f=function(S,D){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var P=""+S.getAttribute("src");if(P.indexOf("data:image/")===0)return rg(unescape(P).split("base64,").pop());var ue=t.loadFile(P,!0);if(ue!==void 0)return ue}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var me;switch(D){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return rg(S.toDataURL(me,1).split("base64,").pop())}},x=function(S){var D=this.internal.collections[e+"images"];if(D){for(var P in D)if(S===D[P].alias)return D[P]}},v=function(S,D,P){return S||D||(S=-96,D=-96),S<0&&(S=-1*P.width*72/S/this.internal.scaleFactor),D<0&&(D=-1*P.height*72/D/this.internal.scaleFactor),S===0&&(S=D*P.width/P.height),D===0&&(D=S*P.height/P.width),[S,D]},_=function(S,D,P,ue,me,de){var we=v.call(this,P,ue,me),J=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,_e=c.call(this);if(P=we[0],ue=we[1],_e[me.index]=me,de){de*=Math.PI/180;var Ie=Math.cos(de),N=Math.sin(de),j=function(z){return z.toFixed(4)},B=[j(Ie),j(N),j(-1*N),j(Ie),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,J(S),ie(D+ue),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([J(P),"0","0",J(ue),"0","0","cm"].join(" "))):this.internal.write([J(P),"0","0",J(ue),J(S),ie(D+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(S){var D,P,ue=0;if(typeof S=="string")for(P=S.length,D=0;D<P;D++)ue=(ue<<5)-ue+S.charCodeAt(D),ue|=0;else if(ae(S))for(P=S.byteLength/2,D=0;D<P;D++)ue=(ue<<5)-ue+S[D],ue|=0;return ue},O=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var D=!0;return S.length===0&&(D=!1),S.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(D=!1),D},Y=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var D=S.indexOf(",");return D<0?null:S.substring(0,D).trim().endsWith("base64")?S.substring(D+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(S){for(var D=S.length,P=new Uint8Array(D),ue=0;ue<D;ue++)P[ue]=S.charCodeAt(ue);return P},I=t.__addimage__.arrayBufferToBinaryString=function(S){for(var D="",P=ae(S)?S:new Uint8Array(S),ue=0;ue<P.length;ue+=8192)D+=String.fromCharCode.apply(null,P.subarray(ue,ue+8192));return D};t.addImage=function(){var S,D,P,ue,me,de,we,J,ie;if(typeof arguments[1]=="number"?(D=n,P=arguments[1],ue=arguments[2],me=arguments[3],de=arguments[4],we=arguments[5],J=arguments[6],ie=arguments[7]):(D=arguments[1],P=arguments[2],ue=arguments[3],me=arguments[4],de=arguments[5],we=arguments[6],J=arguments[7],ie=arguments[8]),Xn(S=arguments[0])==="object"&&!g(S)&&"imageData"in S){var _e=S;S=_e.imageData,D=_e.format||D||n,P=_e.x||P||0,ue=_e.y||ue||0,me=_e.w||_e.width||me,de=_e.h||_e.height||de,we=_e.alias||we,J=_e.compression||J,ie=_e.rotation||_e.angle||ie}var Ie=this.internal.getFilters();if(J===void 0&&Ie.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(P)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var N=A.call(this,S,D,we,J);return _.call(this,P,ue,me,de,N,ie),this};var A=function(S,D,P,ue){var me,de,we;if(typeof S=="string"&&i(S)===n){S=unescape(S);var J=F(S,!1);(J!==""||(J=t.loadFile(S,!0))!==void 0)&&(S=J)}if(g(S)&&(S=f(S,D)),D=i(S,D),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((we=P)==null||we.length===0)&&(P=function(ie){return typeof ie=="string"||ae(ie)?C(ie):ae(ie.data)?C(ie.data):null}(S)),(me=x.call(this,P))||(S instanceof Uint8Array||D==="RGBA"||(de=S,S=L(S)),me=this["process"+D.toUpperCase()](S,u.call(this),P,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:T.NONE}(ue),de)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},F=t.__addimage__.convertBase64ToBinaryString=function(S,D){D=typeof D!="boolean"||D;var P,ue="";if(typeof S=="string"){var me;P=(me=Y(S))!==null&&me!==void 0?me:S;try{ue=rg(P)}catch(de){if(D)throw O(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};t.getImageProperties=function(S){var D,P,ue="";if(g(S)&&(S=f(S)),typeof S=="string"&&i(S)===n&&((ue=F(S,!1))===""&&(ue=t.loadFile(S)||""),S=ue),P=i(S),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(S instanceof Uint8Array||(S=L(S)),!(D=this["process"+P.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=P,D}})(Mt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Mt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),T=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(y(T))+") >>",v.content=a;var C=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(v.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+o(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var ae=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(n,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-c,o,s,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(v){var _=0,y=n,T="",C=0;for(_=0;_<v.length;_+=1)y[v.charCodeAt(_)]!==void 0?(C++,typeof(y=y[v.charCodeAt(_)])=="number"&&(T+=String.fromCharCode(y),y=n,C=0),_===v.length-1&&(y=n,T+=v.charAt(_-(C-1)),_-=C-1,C=0)):(y=n,T+=v.charAt(_-C),_-=C,C=0);return T};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(v,_,y){return s(v)?a(v)===!1?-1:!c(v)||!s(_)&&!s(y)||!s(y)&&o(_)||o(v)&&!s(_)||o(v)&&l(_)||o(v)&&o(_)?0:u(v)&&s(_)&&!o(_)&&s(y)&&c(y)?3:o(v)||!s(y)?1:2:-1},f=function(v){var _=0,y=0,T=0,C="",O="",Y="",ae=(v=v||"").split("\\s+"),L=[];for(_=0;_<ae.length;_+=1){for(L.push(""),y=0;y<ae[_].length;y+=1)C=ae[_][y],O=ae[_][y-1],Y=ae[_][y+1],s(C)?(T=g(C,O,Y),L[_]+=T!==-1?String.fromCharCode(e[C.charCodeAt(0)][T]):C):L[_]+=C;L[_]=d(L[_])}return L.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var v,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(_)){var T=0;for(y=[],T=0;T<_.length;T+=1)Array.isArray(_[T])?y.push([f(_[T][0]),_[T][1],_[T][2]]):y.push([f(_[T])]);v=y}else v=f(_);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",x])}(Mt.API),Mt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,f=0,x=0,v=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,O){return C.concat(_.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)f<(v=this.getStringUnitWidth(l[T],{font:d})*u)&&(f=v);return f!==0&&(x=l.length),{w:f/=g,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,g){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,x,v,_,y=[],T=[],C=[],O={},Y={},ae=[],L=[],I=(g=g||{}).autoSize||!1,A=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,S=g.margins||Object.assign({width:this.getPageWidth()},e),D=typeof g.padding=="number"?g.padding:3,P=g.headerBackgroundColor||"#c8c8c8",ue=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=ue,this.setFontSize(F),d==null)T=y=Object.keys(u[0]),C=y.map(function(){return"left"});else if(Array.isArray(d)&&Xn(d[0])==="object")for(y=d.map(function(_e){return _e.name}),T=d.map(function(_e){return _e.prompt||_e.name||""}),C=d.map(function(_e){return _e.align||"left"}),f=0;f<d.length;f+=1)Y[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(T=y=d,C=y.map(function(){return"left"}));if(I||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(O[_=y[f]]=u.map(function(_e){return _e[_]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(T[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=O[_],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)ae.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[_]=Math.max.apply(null,ae)+D+D,ae=[]}if(A){var me={};for(f=0;f<y.length;f+=1)me[y[f]]={},me[y[f]].text=T[f],me[y[f]].align=C[f];var de=o.call(this,me,Y);L=y.map(function(_e){return new a(l,c,Y[_e],de,me[_e].text,void 0,me[_e].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var we=d.reduce(function(_e,Ie){return _e[Ie.name]=Ie.align,_e},{});for(f=0;f<u.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:u[f]},this);var J=o.call(this,u[f],Y);for(v=0;v<y.length;v+=1){var ie=u[f][y[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:v,data:ie},this),s.call(this,new a(l,c,Y[y[v]],J,ie,f+2,we[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var x=l[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/g+u+u},this).reduce(function(f,x){return Math.max(f,x)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(x)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Mt.API);var aI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X5=iI(sI),oI=[100,200,300,400,500,600,700,800,900],dQ=iI(oI);function iy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return aI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof X5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function UA(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var pQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function zA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function HA(t){return t.trimLeft()}function gQ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Dp,qA,WA,If,kp,GA,$A,YA,ay=["times"];function XA(t,e,n,r,i){var a=4,s=QA;switch(i){case Mt.API.image_compression.FAST:a=1,s=KA;break;case Mt.API.image_compression.MEDIUM:a=6,s=ZA;break;case Mt.API.image_compression.SLOW:a=9,s=JA}t=function(l,c,u,d){for(var g,f=l.length/c,x=new Uint8Array(l.length+f),v=[vQ,KA,QA,ZA,JA],_=0;_<f;_+=1){var y=_*c,T=l.subarray(y,y+c);if(d)x.set(d(T,u,g),y+_);else{for(var C=v.length,O=[],Y=0;Y<C;Y+=1)O[Y]=v[Y](T,u,g);var ae=xQ(O.concat());x.set(O[ae],y+_)}g=T}return x}(t,e,Math.ceil(n*r/8),s);var o=z5(t,{level:a});return Mt.API.__addimage__.arrayBufferToBinaryString(o)}function vQ(t){var e=Array.apply([],t);return e.unshift(0),e}function KA(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function QA(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function ZA(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function JA(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=yQ(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function yQ(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function xQ(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function sy(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return lI(t,i)>>a&s}function eS(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(e&o)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var g=d>>8&255;c.setUint8(u,g)}})(t,a,lI(t,a)&~(o<<s)&65535|l)}function lI(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function _Q(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],d=0,g=null,f=0,x=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&v||(g=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,O=t[e++],Y=O>>6&1,ae=1<<1+(7&O),L=o,I=l,A=!1;O>>7&&(A=!0,L=e,I=ae,e+=3*ae);var F=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x:_,y,width:T,height:C,has_local_palette:A,palette_offset:L,palette_size:I,data_offset:F,data_length:e-F,transparent_index:g,interlaced:!!Y,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,P){var ue=this.frameInfo(D),me=ue.width*ue.height,de=new Uint8Array(me);tS(t,ue.data_offset,de,me);var we=ue.palette_offset,J=ue.transparent_index;J===null&&(J=256);var ie=ue.width,_e=n-ie,Ie=ie,N=4*(ue.y*n+ue.x),j=4*((ue.y+ue.height)*n+ue.x),B=N,z=4*_e;ue.interlaced===!0&&(z+=4*n*7);for(var Q=8,he=0,xe=de.length;he<xe;++he){var pe=de[he];if(Ie===0&&(Ie=ie,(B+=z)>=j&&(z=4*_e+4*n*(Q-1),B=N+(ie+_e)*(Q<<1),Q>>=1)),pe===J)B+=4;else{var Ee=t[we+3*pe],He=t[we+3*pe+1],Ye=t[we+3*pe+2];P[B++]=Ye,P[B++]=He,P[B++]=Ee,P[B++]=255}--Ie}},this.decodeAndBlitFrameRGBA=function(D,P){var ue=this.frameInfo(D),me=ue.width*ue.height,de=new Uint8Array(me);tS(t,ue.data_offset,de,me);var we=ue.palette_offset,J=ue.transparent_index;J===null&&(J=256);var ie=ue.width,_e=n-ie,Ie=ie,N=4*(ue.y*n+ue.x),j=4*((ue.y+ue.height)*n+ue.x),B=N,z=4*_e;ue.interlaced===!0&&(z+=4*n*7);for(var Q=8,he=0,xe=de.length;he<xe;++he){var pe=de[he];if(Ie===0&&(Ie=ie,(B+=z)>=j&&(z=4*_e+4*n*(Q-1),B=N+(ie+_e)*(Q<<1),Q>>=1)),pe===J)B+=4;else{var Ee=t[we+3*pe],He=t[we+3*pe+1],Ye=t[we+3*pe+2];P[B++]=Ee,P[B++]=He,P[B++]=Ye,P[B++]=255}--Ie}}}function tS(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,g=0,f=t[e++],x=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var _=d&c;if(d>>=l,u-=l,_!==a){if(_===s)break;for(var y=_<o?_:v,T=0,C=y;C>a;)C=x[C]>>8,++T;var O=C;if(g+T+(y!==_?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");n[g++]=O;var Y=g+=T;for(y!==_&&(n[g++]=O),C=y;T--;)C=x[C],n[--Y]=255&C,C>>=8;v!==null&&o<4096&&(x[o++]=v<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=_}else o=s+1,c=(1<<(l=i+1))-1,v=null}return g!==r&&ur.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oy(t){var e,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),g=new Array(65535),f=new Array(64),x=new Array(64),v=[],_=0,y=7,T=new Array(64),C=new Array(64),O=new Array(64),Y=new Array(256),ae=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(N,j){for(var B=0,z=0,Q=new Array,he=1;he<=16;he++){for(var xe=1;xe<=N[he];xe++)Q[j[z]]=[],Q[j[z]][0]=B,Q[j[z]][1]=he,z++,B++;B*=2}return Q}function we(N){for(var j=N[0],B=N[1]-1;B>=0;)j&1<<B&&(_|=1<<y),B--,--y<0&&(_==255?(J(255),J(0)):J(_),y=7,_=0)}function J(N){v.push(N)}function ie(N){J(N>>8&255),J(255&N)}function _e(N,j,B,z,Q){for(var he,xe=Q[0],pe=Q[240],Ee=function(Ve,ft){var st,Ht,ke,ct,vt,Lt,tn,_t,Ct,jt,St=0;for(Ct=0;Ct<8;++Ct){st=Ve[St],Ht=Ve[St+1],ke=Ve[St+2],ct=Ve[St+3],vt=Ve[St+4],Lt=Ve[St+5],tn=Ve[St+6];var vn=st+(_t=Ve[St+7]),nn=st-_t,Et=Ht+tn,qt=Ht-tn,gn=ke+Lt,Bt=ke-Lt,en=ct+vt,Gt=ct-vt,Ln=vn+en,zn=vn-en,Kt=Et+gn,Vt=Et-gn;Ve[St]=Ln+Kt,Ve[St+4]=Ln-Kt;var hn=.707106781*(Vt+zn);Ve[St+2]=zn+hn,Ve[St+6]=zn-hn;var ii=.382683433*((Ln=Gt+Bt)-(Vt=qt+nn)),Rr=.5411961*Ln+ii,Ir=1.306562965*Vt+ii,Wr=.707106781*(Kt=Bt+qt),Ut=nn+Wr,pa=nn-Wr;Ve[St+5]=pa+Rr,Ve[St+3]=pa-Rr,Ve[St+1]=Ut+Ir,Ve[St+7]=Ut-Ir,St+=8}for(St=0,Ct=0;Ct<8;++Ct){st=Ve[St],Ht=Ve[St+8],ke=Ve[St+16],ct=Ve[St+24],vt=Ve[St+32],Lt=Ve[St+40],tn=Ve[St+48];var Si=st+(_t=Ve[St+56]),Gr=st-_t,ai=Ht+tn,Fn=Ht-tn,Jn=ke+Lt,H=ke-Lt,ne=ct+vt,Z=ct-vt,te=Si+ne,re=Si-ne,ce=ai+Jn,Re=ai-Jn;Ve[St]=te+ce,Ve[St+32]=te-ce;var ze=.707106781*(Re+re);Ve[St+16]=re+ze,Ve[St+48]=re-ze;var Oe=.382683433*((te=Z+H)-(Re=Fn+Gr)),Pe=.5411961*te+Oe,Fe=1.306562965*Re+Oe,it=.707106781*(ce=H+Fn),ut=Gr+it,mt=Gr-it;Ve[St+40]=mt+Pe,Ve[St+24]=mt-Pe,Ve[St+8]=ut+Fe,Ve[St+56]=ut-Fe,St++}for(Ct=0;Ct<64;++Ct)jt=Ve[Ct]*ft[Ct],f[Ct]=jt>0?jt+.5|0:jt-.5|0;return f}(N,j),He=0;He<64;++He)x[L[He]]=Ee[He];var Ye=x[0]-B;B=x[0],Ye==0?we(z[0]):(we(z[g[he=32767+Ye]]),we(d[he]));for(var ot=63;ot>0&&x[ot]==0;)ot--;if(ot==0)return we(xe),B;for(var De,fe=1;fe<=ot;){for(var wt=fe;x[fe]==0&&fe<=ot;)++fe;var Ke=fe-wt;if(Ke>=16){De=Ke>>4;for(var xt=1;xt<=De;++xt)we(pe);Ke&=15}he=32767+x[fe],we(Q[(Ke<<4)+g[he]]),we(d[he]),fe++}return ot!=63&&we(xe),B}function Ie(N){N=Math.min(Math.max(N,1),100),a!=N&&(function(j){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var Q=s((B[z]*j+50)/100);Q=Math.min(Math.max(Q,1),255),o[L[z]]=Q}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var pe=s((he[xe]*j+50)/100);pe=Math.min(Math.max(pe,1),255),l[L[xe]]=pe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ye=0;Ye<8;Ye++)for(var ot=0;ot<8;ot++)c[He]=1/(o[L[He]]*Ee[Ye]*Ee[ot]*8),u[He]=1/(l[L[He]]*Ee[Ye]*Ee[ot]*8),He++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),a=N)}this.encode=function(N,j){j&&Ie(j),v=new Array,_=0,y=7,ie(65496),ie(65504),ie(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ie(1),ie(1),J(0),J(0),function(){ie(65499),ie(132),J(0);for(var Ht=0;Ht<64;Ht++)J(o[Ht]);J(1);for(var ke=0;ke<64;ke++)J(l[ke])}(),function(Ht,ke){ie(65472),ie(17),J(8),ie(ke),ie(Ht),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(N.width,N.height),function(){ie(65476),ie(418),J(0);for(var Ht=0;Ht<16;Ht++)J(I[Ht+1]);for(var ke=0;ke<=11;ke++)J(A[ke]);J(16);for(var ct=0;ct<16;ct++)J(F[ct+1]);for(var vt=0;vt<=161;vt++)J(S[vt]);J(1);for(var Lt=0;Lt<16;Lt++)J(D[Lt+1]);for(var tn=0;tn<=11;tn++)J(P[tn]);J(17);for(var _t=0;_t<16;_t++)J(ue[_t+1]);for(var Ct=0;Ct<=161;Ct++)J(me[Ct])}(),ie(65498),ie(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var B=0,z=0,Q=0;_=0,y=7,this.encode.displayName="_encode_";for(var he,xe,pe,Ee,He,Ye,ot,De,fe,wt=N.data,Ke=N.width,xt=N.height,Ve=4*Ke,ft=0;ft<xt;){for(he=0;he<Ve;){for(He=Ve*ft+he,ot=-1,De=0,fe=0;fe<64;fe++)Ye=He+(De=fe>>3)*Ve+(ot=4*(7&fe)),ft+De>=xt&&(Ye-=Ve*(ft+1+De-xt)),he+ot>=Ve&&(Ye-=he+ot-Ve+4),xe=wt[Ye++],pe=wt[Ye++],Ee=wt[Ye++],T[fe]=(ae[xe]+ae[pe+256|0]+ae[Ee+512|0]>>16)-128,C[fe]=(ae[xe+768|0]+ae[pe+1024|0]+ae[Ee+1280|0]>>16)-128,O[fe]=(ae[xe+1280|0]+ae[pe+1536|0]+ae[Ee+1792|0]>>16)-128;B=_e(T,c,B,e,r),z=_e(C,u,z,n,i),Q=_e(O,u,Q,n,i),he+=32}ft+=8}if(y>=0){var st=[];st[1]=y+1,st[0]=(1<<y+1)-1,we(st)}return ie(65497),new Uint8Array(v)},t=t||50,function(){for(var N=String.fromCharCode,j=0;j<256;j++)Y[j]=N(j)}(),e=de(I,A),n=de(D,P),r=de(F,S),i=de(ue,me),function(){for(var N=1,j=2,B=1;B<=15;B++){for(var z=N;z<j;z++)g[32767+z]=B,d[32767+z]=[],d[32767+z][1]=B,d[32767+z][0]=z;for(var Q=-(j-1);Q<=-N;Q++)g[32767+Q]=B,d[32767+Q]=[],d[32767+Q][1]=B,d[32767+Q][0]=j-1+Q;N<<=1,j<<=1}}(),function(){for(var N=0;N<256;N++)ae[N]=19595*N,ae[N+256|0]=38470*N,ae[N+512|0]=7471*N+32768,ae[N+768|0]=-11059*N,ae[N+1024|0]=-21709*N,ae[N+1280|0]=32768*N+8421375,ae[N+1536|0]=-27439*N,ae[N+1792|0]=-5329*N}(),Ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function to(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nS(t){function e(A){if(!A)throw Error("assert :P")}function n(A,F,S){for(var D=0;4>D;D++)if(A[F+D]!=S.charCodeAt(D))return!0;return!1}function r(A,F,S,D,P){for(var ue=0;ue<P;ue++)A[F+ue]=S[D+ue]}function i(A,F,S,D){for(var P=0;P<D;P++)A[F+P]=S}function a(A){return new Int32Array(A)}function s(A,F){for(var S=[],D=0;D<A;D++)S.push(new F);return S}function o(A,F){var S=[];return function D(P,ue,me){for(var de=me[ue],we=0;we<de&&(P.push(me.length>ue+1?[]:new F),!(me.length<ue+1));we++)D(P[we],ue+1,me)}(S,0,A),S}var l=function(){var A=this;function F(h,m){for(var E=1<<m-1>>>0;h&E;)E>>>=1;return E?(h&E-1)+E:h}function S(h,m,E,k,V){e(!(k%E));do h[m+(k-=E)]=V;while(0<k)}function D(h,m,E,k,V){if(e(2328>=V),512>=V)var W=a(512);else if((W=a(V))==null)return 0;return function(G,X,ee,oe,be,Be){var le,Ae,Le=X,We=1<<ee,Me=a(16),$e=a(16);for(e(be!=0),e(oe!=null),e(G!=null),e(0<ee),Ae=0;Ae<be;++Ae){if(15<oe[Ae])return 0;++Me[oe[Ae]]}if(Me[0]==be)return 0;for($e[1]=0,le=1;15>le;++le){if(Me[le]>1<<le)return 0;$e[le+1]=$e[le]+Me[le]}for(Ae=0;Ae<be;++Ae)le=oe[Ae],0<oe[Ae]&&(Be[$e[le]++]=Ae);if($e[15]==1)return(oe=new P).g=0,oe.value=Be[0],S(G,Le,1,We,oe),We;var Xe,lt=-1,rt=We-1,Ft=0,Nt=1,un=1,Dt=1<<ee;for(Ae=0,le=1,be=2;le<=ee;++le,be<<=1){if(Nt+=un<<=1,0>(un-=Me[le]))return 0;for(;0<Me[le];--Me[le])(oe=new P).g=le,oe.value=Be[Ae++],S(G,Le+Ft,be,Dt,oe),Ft=F(Ft,le)}for(le=ee+1,be=2;15>=le;++le,be<<=1){if(Nt+=un<<=1,0>(un-=Me[le]))return 0;for(;0<Me[le];--Me[le]){if(oe=new P,(Ft&rt)!=lt){for(Le+=Dt,Xe=1<<(lt=le)-ee;15>lt&&!(0>=(Xe-=Me[lt]));)++lt,Xe<<=1;We+=Dt=1<<(Xe=lt-ee),G[X+(lt=Ft&rt)].g=Xe+ee,G[X+lt].value=Le-X-lt}oe.g=le-ee,oe.value=Be[Ae++],S(G,Le+(Ft>>ee),be,Dt,oe),Ft=F(Ft,le)}}return Nt!=2*$e[15]-1?0:We}(h,m,E,k,V,W)}function P(){this.value=this.g=0}function ue(){this.value=this.g=0}function me(){this.G=s(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(mu,ue)}function de(h,m,E,k){e(h!=null),e(m!=null),e(2147483648>k),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=E,h.Jd=m,h.Yc=E+k,h.Zc=4<=k?E+k-4+1:E,xe(h)}function we(h,m){for(var E=0;0<m--;)E|=Ee(h,128)<<m;return E}function J(h,m){var E=we(h,m);return pe(h)?-E:E}function ie(h,m,E,k){var V,W=0;for(e(h!=null),e(m!=null),e(4294967288>k),h.Sb=k,h.Ra=0,h.u=0,h.h=0,4<k&&(k=4),V=0;V<k;++V)W+=m[E+V]<<8*V;h.Ra=W,h.bb=k,h.oa=m,h.pa=E}function _e(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Kl-8>>>0,++h.bb,h.u-=8;z(h)&&(h.h=1,h.u=0)}function Ie(h,m){if(e(0<=m),!h.h&&m<=es){var E=B(h)&Ja[m];return h.u+=m,_e(h),E}return h.h=1,h.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(h){return h.Ra>>>(h.u&Kl-1)>>>0}function z(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Kl}function Q(h,m){h.u=m,h.h=z(h)}function he(h){h.u>=nl&&(e(h.u>=nl),_e(h))}function xe(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function pe(h){return we(h,1)}function Ee(h,m){var E=h.Ca;0>h.b&&xe(h);var k=h.b,V=E*m>>>8,W=(h.I>>>k>V)+0;for(W?(E-=V,h.I-=V+1<<k>>>0):E=V+1,k=E,V=0;256<=k;)V+=8,k>>=8;return k=7^V+Ql[k],h.b-=k,h.Ca=(E<<k)-1,W}function He(h,m,E){h[m+0]=E>>24&255,h[m+1]=E>>16&255,h[m+2]=E>>8&255,h[m+3]=255&E}function Ye(h,m){return h[m+0]|h[m+1]<<8}function ot(h,m){return Ye(h,m)|h[m+2]<<16}function De(h,m){return Ye(h,m)|Ye(h,m+2)<<16}function fe(h,m){var E=1<<m;return e(h!=null),e(0<m),h.X=a(E),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function wt(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function xt(h,m,E,k){e(E!=null),e(k!=null);var V=E[0],W=k[0];return V==0&&(V=(h*W+m/2)/m),W==0&&(W=(m*V+h/2)/h),0>=V||0>=W?0:(E[0]=V,k[0]=W,1)}function Ve(h,m){return h+(1<<m)-1>>>m}function ft(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function st(h,m){A[m]=function(E,k,V,W,G,X,ee){var oe;for(oe=0;oe<G;++oe){var be=A[h](X[ee+oe-1],V,W+oe);X[ee+oe]=ft(E[k+oe],be)}}}function Ht(){this.ud=this.hd=this.jd=0}function ke(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function ct(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function vt(h,m){return ct(h+(h-m+.5>>1))}function Lt(h,m,E){return Math.abs(m-E)-Math.abs(h-E)}function tn(h,m,E,k,V,W,G){for(k=W[G-1],E=0;E<V;++E)W[G+E]=k=ft(h[m+E],k)}function _t(h,m,E,k,V){var W;for(W=0;W<E;++W){var G=h[m+W],X=G>>8&255,ee=16711935&(ee=(ee=16711935&G)+((X<<16)+X));k[V+W]=(4278255360&G)+ee>>>0}}function Ct(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function jt(h,m,E,k,V,W){var G;for(G=0;G<k;++G){var X=m[E+G],ee=X>>>8,oe=X,be=255&(be=(be=X>>>16)+((h.jd<<24>>24)*(ee<<24>>24)>>>5));oe=255&(oe=(oe+=(h.hd<<24>>24)*(ee<<24>>24)>>>5)+((h.ud<<24>>24)*(be<<24>>24)>>>5)),V[W+G]=(4278255360&X)+(be<<16)+oe}}function St(h,m,E,k,V){A[m]=function(W,G,X,ee,oe,be,Be,le,Ae){for(ee=Be;ee<le;++ee)for(Be=0;Be<Ae;++Be)oe[be++]=V(X[k(W[G++])])},A[h]=function(W,G,X,ee,oe,be,Be){var le=8>>W.b,Ae=W.Ea,Le=W.K[0],We=W.w;if(8>le)for(W=(1<<W.b)-1,We=(1<<le)-1;G<X;++G){var Me,$e=0;for(Me=0;Me<Ae;++Me)Me&W||($e=k(ee[oe++])),be[Be++]=V(Le[$e&We]),$e>>=le}else A["VP8LMapColor"+E](ee,oe,Le,We,be,Be,G,X,Ae)}}function vn(h,m,E,k,V){for(E=m+E;m<E;){var W=h[m++];k[V++]=W>>16&255,k[V++]=W>>8&255,k[V++]=255&W}}function nn(h,m,E,k,V){for(E=m+E;m<E;){var W=h[m++];k[V++]=W>>16&255,k[V++]=W>>8&255,k[V++]=255&W,k[V++]=W>>24&255}}function Et(h,m,E,k,V){for(E=m+E;m<E;){var W=(G=h[m++])>>16&240|G>>12&15,G=240&G|G>>28&15;k[V++]=W,k[V++]=G}}function qt(h,m,E,k,V){for(E=m+E;m<E;){var W=(G=h[m++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;k[V++]=W,k[V++]=G}}function gn(h,m,E,k,V){for(E=m+E;m<E;){var W=h[m++];k[V++]=255&W,k[V++]=W>>8&255,k[V++]=W>>16&255}}function Bt(h,m,E,k,V,W){if(W==0)for(E=m+E;m<E;)He(k,((W=h[m++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),V+=32;else r(k,V,h,m,E)}function en(h,m){A[m][0]=A[h+"0"],A[m][1]=A[h+"1"],A[m][2]=A[h+"2"],A[m][3]=A[h+"3"],A[m][4]=A[h+"4"],A[m][5]=A[h+"5"],A[m][6]=A[h+"6"],A[m][7]=A[h+"7"],A[m][8]=A[h+"8"],A[m][9]=A[h+"9"],A[m][10]=A[h+"10"],A[m][11]=A[h+"11"],A[m][12]=A[h+"12"],A[m][13]=A[h+"13"],A[m][14]=A[h+"0"],A[m][15]=A[h+"0"]}function Gt(h){return h==w2||h==b2||h==B1||h==E2}function Ln(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ln,this.f.kb=new zn,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ii(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Rr(h,m){var E=h.T,k=m.ba.f.RGBA,V=k.eb,W=k.fb+h.ka*k.A,G=Ls[m.ba.S],X=h.y,ee=h.O,oe=h.f,be=h.N,Be=h.ea,le=h.W,Ae=m.cc,Le=m.dc,We=m.Mc,Me=m.Nc,$e=h.ka,Xe=h.ka+h.T,lt=h.U,rt=lt+1>>1;for($e==0?G(X,ee,null,null,oe,be,Be,le,oe,be,Be,le,V,W,null,null,lt):(G(m.ec,m.fc,X,ee,Ae,Le,We,Me,oe,be,Be,le,V,W-k.A,V,W,lt),++E);$e+2<Xe;$e+=2)Ae=oe,Le=be,We=Be,Me=le,be+=h.Rc,le+=h.Rc,W+=2*k.A,G(X,(ee+=2*h.fa)-h.fa,X,ee,Ae,Le,We,Me,oe,be,Be,le,V,W-k.A,V,W,lt);return ee+=h.fa,h.j+Xe<h.o?(r(m.ec,m.fc,X,ee,lt),r(m.cc,m.dc,oe,be,rt),r(m.Mc,m.Nc,Be,le,rt),E--):1&Xe||G(X,ee,null,null,oe,be,Be,le,oe,be,Be,le,V,W+k.A,null,null,lt),E}function Ir(h,m,E){var k=h.F,V=[h.J];if(k!=null){var W=h.U,G=m.ba.S,X=G==M1||G==B1;m=m.ba.f.RGBA;var ee=[0],oe=h.ka;ee[0]=h.T,h.Kb&&(oe==0?--ee[0]:(--oe,V[0]-=h.width),h.j+h.ka+h.T==h.o&&(ee[0]=h.o-h.j-oe));var be=m.eb;oe=m.fb+oe*m.A,h=Rw(k,V[0],h.width,W,ee,be,oe+(X?0:3),m.A),e(E==ee),h&&Gt(G)&&d0(be,oe,X,W,ee,m.A)}return 0}function Wr(h){var m=h.ma,E=m.ba.S,k=11>E,V=E==P1||E==F1||E==M1||E==_2||E==12||Gt(E);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!a0(m.Oa,h,V?11:12))return 0;if(V&&Gt(E)&&ht(),h.da)alert("todo:use_scaling");else{if(k){if(m.Ib=ii,h.Kb){if(E=h.U+1>>1,m.memory=a(h.U+2*E),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+E,m.Ib=Rr,ht()}}else alert("todo:EmitYUV");V&&(m.Jb=Ir,k&&Ne())}if(k&&!Ww){for(h=0;256>h;++h)VI[h]=89858*(h-128)+U1>>j1,qI[h]=-22014*(h-128)+U1,HI[h]=-45773*(h-128),zI[h]=113618*(h-128)+U1>>j1;for(h=g0;h<T2;++h)m=76283*(h-16)+U1>>j1,WI[h-g0]=Fr(m,255),GI[h-g0]=Fr(m+8>>4,15);Ww=1}return 1}function Ut(h){var m=h.ma,E=h.U,k=h.T;return e(!(1&h.ka)),0>=E||0>=k?0:(E=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,E),m.Dc+=E,1)}function pa(h){h.ma.memory=null}function Si(h,m,E,k){return Ie(h,8)!=47?0:(m[0]=Ie(h,14)+1,E[0]=Ie(h,14)+1,k[0]=Ie(h,1),Ie(h,3)!=0?0:!h.h)}function Gr(h,m){if(4>h)return h+1;var E=h-2>>1;return(2+(1&h)<<E)+Ie(m,E)+1}function ai(h,m){return 120<m?m-120:1<=(E=((E=CI[m-1])>>4)*h+(8-(15&E)))?E:1;var E}function Fn(h,m,E){var k=B(E),V=h[m+=255&k].g-8;return 0<V&&(Q(E,E.u+8),k=B(E),m+=h[m].value,m+=k&(1<<V)-1),Q(E,E.u+h[m].g),h[m].value}function Jn(h,m,E){return E.g+=h.g,E.value+=h.value<<m>>>0,e(8>=E.g),h.g}function H(h,m,E){var k=h.xc;return e((m=k==0?0:h.vc[h.md*(E>>k)+(m>>k)])<h.Wb),h.Ya[m]}function ne(h,m,E,k){var V=h.ab,W=h.c*m,G=h.C;m=G+m;var X=E,ee=k;for(k=h.Ta,E=h.Ua;0<V--;){var oe=h.gc[V],be=G,Be=m,le=X,Ae=ee,Le=(ee=k,X=E,oe.Ea);switch(e(be<Be),e(Be<=oe.nc),oe.hc){case 2:Yr(le,Ae,(Be-be)*Le,ee,X);break;case 0:var We=be,Me=Be,$e=ee,Xe=X,lt=(Dt=oe).Ea;We==0&&(o0(le,Ae,null,null,1,$e,Xe),tn(le,Ae+1,0,0,lt-1,$e,Xe+1),Ae+=lt,Xe+=lt,++We);for(var rt=1<<Dt.b,Ft=rt-1,Nt=Ve(lt,Dt.b),un=Dt.K,Dt=Dt.w+(We>>Dt.b)*Nt;We<Me;){var An=un,vi=Dt,fn=1;for(xf(le,Ae,$e,Xe-lt,1,$e,Xe);fn<lt;){var kt=(fn&~Ft)+rt;kt>lt&&(kt=lt),(0,c0[An[vi++]>>8&15])(le,Ae+ +fn,$e,Xe+fn-lt,kt-fn,$e,Xe+fn),fn=kt}Ae+=lt,Xe+=lt,++We&Ft||(Dt+=Nt)}Be!=oe.nc&&r(ee,X-Le,ee,X+(Be-be-1)*Le,Le);break;case 1:for(Le=le,Me=Ae,lt=(le=oe.Ea)-(Xe=le&~($e=(Ae=1<<oe.b)-1)),We=Ve(le,oe.b),rt=oe.K,oe=oe.w+(be>>oe.b)*We;be<Be;){for(Ft=rt,Nt=oe,un=new Ht,Dt=Me+Xe,An=Me+le;Me<Dt;)Ct(Ft[Nt++],un),u0(un,Le,Me,Ae,ee,X),Me+=Ae,X+=Ae;Me<An&&(Ct(Ft[Nt++],un),u0(un,Le,Me,lt,ee,X),Me+=lt,X+=lt),++be&$e||(oe+=We)}break;case 3:if(le==ee&&Ae==X&&0<oe.b){for(Me=ee,le=Le=X+(Be-be)*Le-(Xe=(Be-be)*Ve(oe.Ea,oe.b)),Ae=ee,$e=X,We=[],Xe=(lt=Xe)-1;0<=Xe;--Xe)We[Xe]=Ae[$e+Xe];for(Xe=lt-1;0<=Xe;--Xe)Me[le+Xe]=We[Xe];L1(oe,be,Be,ee,Le,ee,X)}else L1(oe,be,Be,le,Ae,ee,X)}X=k,ee=E}ee!=E&&r(k,E,X,ee,W)}function Z(h,m){var E=h.V,k=h.Ba+h.c*h.C,V=m-h.C;if(e(m<=h.l.o),e(16>=V),0<V){var W=h.l,G=h.Ta,X=h.Ua,ee=W.width;if(ne(h,V,E,k),V=X=[X],e((E=h.C)<(k=m)),e(W.v<W.va),k>W.o&&(k=W.o),E<W.j){var oe=W.j-E;E=W.j,V[0]+=oe*ee}if(E>=k?E=0:(V[0]+=4*W.v,W.ka=E-W.j,W.U=W.va-W.v,W.T=k-E,E=1),E){if(X=X[0],11>(E=h.ca).S){var be=E.f.RGBA,Be=(k=E.S,V=W.U,W=W.T,oe=be.eb,be.A),le=W;for(be=be.fb+h.Ma*be.A;0<le--;){var Ae=G,Le=X,We=V,Me=oe,$e=be;switch(k){case O1:f0(Ae,Le,We,Me,$e);break;case P1:Zl(Ae,Le,We,Me,$e);break;case w2:Zl(Ae,Le,We,Me,$e),d0(Me,$e,0,We,1,0);break;case Fw:vu(Ae,Le,We,Me,$e);break;case F1:Bt(Ae,Le,We,Me,$e,1);break;case b2:Bt(Ae,Le,We,Me,$e,1),d0(Me,$e,0,We,1,0);break;case M1:Bt(Ae,Le,We,Me,$e,0);break;case B1:Bt(Ae,Le,We,Me,$e,0),d0(Me,$e,1,We,1,0);break;case _2:Jl(Ae,Le,We,Me,$e);break;case E2:Jl(Ae,Le,We,Me,$e),Nw(Me,$e,We,1,0);break;case Mw:ec(Ae,Le,We,Me,$e);break;default:e(0)}X+=ee,be+=Be}h.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=E.height)}}h.C=m,e(h.C<=h.i)}function te(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var E=h.Ya[m].G,k=h.Ya[m].H;if(0<E[1][k[1]+0].g||0<E[2][k[2]+0].g||0<E[3][k[3]+0].g)return 0}return 1}function re(h,m,E,k,V,W){if(h.Z!=0){var G=h.qd,X=h.rd;for(e(rc[h.Z]!=null);m<E;++m)rc[h.Z](G,X,k,V,k,V,W),G=k,X=V,V+=W;h.qd=G,h.rd=X}}function ce(h,m){var E=h.l.ma,k=E.Z==0||E.Z==1?h.l.j:h.C;if(k=h.C<k?k:h.C,e(m<=h.l.o),m>k){var V=h.l.width,W=E.ca,G=E.tb+V*k,X=h.V,ee=h.Ba+h.c*k,oe=h.gc;e(h.ab==1),e(oe[0].hc==3),_o(oe[0],k,m,X,ee,W,G),re(E,k,m,W,G,V)}h.C=h.Ma=m}function Re(h,m,E,k,V,W,G){var X=h.$/k,ee=h.$%k,oe=h.m,be=h.s,Be=E+h.$,le=Be;V=E+k*V;var Ae=E+k*W,Le=280+be.ua,We=h.Pb?X:16777216,Me=0<be.ua?be.Wa:null,$e=be.wc,Xe=Be<Ae?H(be,ee,X):null;e(h.C<W),e(Ae<=V);var lt=!1;e:for(;;){for(;lt||Be<Ae;){var rt=0;if(X>=We){var Ft=Be-E;e((We=h).Pb),We.wd=We.m,We.xd=Ft,0<We.s.ua&&wt(We.s.Wa,We.s.vb),We=X+RI}if(ee&$e||(Xe=H(be,ee,X)),e(Xe!=null),Xe.Qb&&(m[Be]=Xe.qb,lt=!0),!lt)if(he(oe),Xe.jc){rt=oe,Ft=m;var Nt=Be,un=Xe.pd[B(rt)&mu-1];e(Xe.jc),256>un.g?(Q(rt,rt.u+un.g),Ft[Nt]=un.value,rt=0):(Q(rt,rt.u+un.g-256),e(256<=un.value),rt=un.value),rt==0&&(lt=!0)}else rt=Fn(Xe.G[0],Xe.H[0],oe);if(oe.h)break;if(lt||256>rt){if(!lt)if(Xe.nd)m[Be]=(Xe.qb|rt<<8)>>>0;else{if(he(oe),lt=Fn(Xe.G[1],Xe.H[1],oe),he(oe),Ft=Fn(Xe.G[2],Xe.H[2],oe),Nt=Fn(Xe.G[3],Xe.H[3],oe),oe.h)break;m[Be]=(Nt<<24|lt<<16|rt<<8|Ft)>>>0}if(lt=!1,++Be,++ee>=k&&(ee=0,++X,G!=null&&X<=W&&!(X%16)&&G(h,X),Me!=null))for(;le<Be;)rt=m[le++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt}else if(280>rt){if(rt=Gr(rt-256,oe),Ft=Fn(Xe.G[4],Xe.H[4],oe),he(oe),Ft=ai(k,Ft=Gr(Ft,oe)),oe.h)break;if(Be-E<Ft||V-Be<rt)break e;for(Nt=0;Nt<rt;++Nt)m[Be+Nt]=m[Be+Nt-Ft];for(Be+=rt,ee+=rt;ee>=k;)ee-=k,++X,G!=null&&X<=W&&!(X%16)&&G(h,X);if(e(Be<=V),ee&$e&&(Xe=H(be,ee,X)),Me!=null)for(;le<Be;)rt=m[le++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt}else{if(!(rt<Le))break e;for(lt=rt-280,e(Me!=null);le<Be;)rt=m[le++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt;rt=Be,e(!(lt>>>(Ft=Me).Xa)),m[rt]=Ft.X[lt],lt=!0}lt||e(oe.h==z(oe))}if(h.Pb&&oe.h&&Be<V)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&wt(h.s.vb,h.s.Wa);else{if(oe.h)break e;G!=null&&G(h,X>W?W:X),h.a=0,h.$=Be-E}return 1}return h.a=3,0}function ze(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Oe(){var h=new It;return h==null?null:(h.a=0,h.xb=Uw,en("Predictor","VP8LPredictors"),en("Predictor","VP8LPredictors_C"),en("PredictorAdd","VP8LPredictorsAdd"),en("PredictorAdd","VP8LPredictorsAdd_C"),Yr=_t,u0=jt,f0=vn,Zl=nn,Jl=Et,ec=qt,vu=gn,A.VP8LMapColor32b=xo,A.VP8LMapColor8b=l0,h)}function Pe(h,m,E,k,V){var W=1,G=[h],X=[m],ee=k.m,oe=k.s,be=null,Be=0;e:for(;;){if(E)for(;W&&Ie(ee,1);){var le=G,Ae=X,Le=k,We=1,Me=Le.m,$e=Le.gc[Le.ab],Xe=Ie(Me,2);if(Le.Oc&1<<Xe)W=0;else{switch(Le.Oc|=1<<Xe,$e.hc=Xe,$e.Ea=le[0],$e.nc=Ae[0],$e.K=[null],++Le.ab,e(4>=Le.ab),Xe){case 0:case 1:$e.b=Ie(Me,3)+2,We=Pe(Ve($e.Ea,$e.b),Ve($e.nc,$e.b),0,Le,$e.K),$e.K=$e.K[0];break;case 3:var lt,rt=Ie(Me,8)+1,Ft=16<rt?0:4<rt?1:2<rt?2:3;if(le[0]=Ve($e.Ea,Ft),$e.b=Ft,lt=We=Pe(rt,1,0,Le,$e.K)){var Nt,un=rt,Dt=$e,An=1<<(8>>Dt.b),vi=a(An);if(vi==null)lt=0;else{var fn=Dt.K[0],kt=Dt.w;for(vi[0]=Dt.K[0][0],Nt=1;Nt<1*un;++Nt)vi[Nt]=ft(fn[kt+Nt],vi[Nt-1]);for(;Nt<4*An;++Nt)vi[Nt]=0;Dt.K[0]=null,Dt.K[0]=vi,lt=1}}We=lt;break;case 2:break;default:e(0)}W=We}}if(G=G[0],X=X[0],W&&Ie(ee,1)&&!(W=1<=(Be=Ie(ee,4))&&11>=Be)){k.a=3;break e}var yt;if(yt=W)t:{var Kr,ln,Cn,_r=k,Mi=G,_a=X,Mr=Be,na=E,wa=_r.m,yi=_r.s,On=[null],Hn=1,Br=0,qn=NI[Mr];n:for(;;){if(na&&Ie(wa,1)){var Bi=Ie(wa,3)+2,Qs=Ve(Mi,Bi),Qr=Ve(_a,Bi),Pa=Qs*Qr;if(!Pe(Qs,Qr,0,_r,On))break n;for(On=On[0],yi.xc=Bi,Kr=0;Kr<Pa;++Kr){var lr=On[Kr]>>8&65535;On[Kr]=lr,lr>=Hn&&(Hn=lr+1)}}if(wa.h)break n;for(ln=0;5>ln;++ln){var xi=Bw[ln];!ln&&0<Mr&&(xi+=1<<Mr),Br<xi&&(Br=xi)}var ns=s(Hn*qn,P),ba=Hn,rs=s(ba,me);if(rs==null)var is=null;else e(65536>=ba),is=rs;var Fa=a(Br);if(is==null||Fa==null||ns==null){_r.a=1;break n}var as=ns;for(Kr=Cn=0;Kr<Hn;++Kr){var gr=is[Kr],ss=gr.G,Zs=gr.H,xu=0,al=1,ji=0;for(ln=0;5>ln;++ln){xi=Bw[ln],ss[ln]=as,Zs[ln]=Cn,!ln&&0<Mr&&(xi+=1<<Mr);i:{var z1,C2=xi,H1=_r,m0=Fa,XI=as,KI=Cn,N2=0,ic=H1.m,QI=Ie(ic,1);if(i(m0,0,0,C2),QI){var ZI=Ie(ic,1)+1,JI=Ie(ic,1),Yw=Ie(ic,JI==0?1:8);m0[Yw]=1,ZI==2&&(m0[Yw=Ie(ic,8)]=1);var q1=1}else{var Xw=a(19),Kw=Ie(ic,4)+4;if(19<Kw){H1.a=3;var W1=0;break i}for(z1=0;z1<Kw;++z1)Xw[TI[z1]]=Ie(ic,3);var R2=void 0,v0=void 0,Qw=H1,eL=Xw,G1=C2,Zw=m0,I2=0,ac=Qw.m,Jw=8,e4=s(128,P);r:for(;D(e4,0,7,eL,19);){if(Ie(ac,1)){var tL=2+2*Ie(ac,3);if((R2=2+Ie(ac,tL))>G1)break r}else R2=G1;for(v0=0;v0<G1&&R2--;){he(ac);var t4=e4[0+(127&B(ac))];Q(ac,ac.u+t4.g);var wf=t4.value;if(16>wf)Zw[v0++]=wf,wf!=0&&(Jw=wf);else{var nL=wf==16,n4=wf-16,rL=AI[n4],r4=Ie(ac,EI[n4])+rL;if(v0+r4>G1)break r;for(var iL=nL?Jw:0;0<r4--;)Zw[v0++]=iL}}I2=1;break r}I2||(Qw.a=3),q1=I2}(q1=q1&&!ic.h)&&(N2=D(XI,KI,8,m0,C2)),q1&&N2!=0?W1=N2:(H1.a=3,W1=0)}if(W1==0)break n;if(al&&SI[ln]==1&&(al=as[Cn].g==0),xu+=as[Cn].g,Cn+=W1,3>=ln){var y0,L2=Fa[0];for(y0=1;y0<xi;++y0)Fa[y0]>L2&&(L2=Fa[y0]);ji+=L2}}if(gr.nd=al,gr.Qb=0,al&&(gr.qb=(ss[3][Zs[3]+0].value<<24|ss[1][Zs[1]+0].value<<16|ss[2][Zs[2]+0].value)>>>0,xu==0&&256>ss[0][Zs[0]+0].value&&(gr.Qb=1,gr.qb+=ss[0][Zs[0]+0].value<<8)),gr.jc=!gr.Qb&&6>ji,gr.jc){var $1,sl=gr;for($1=0;$1<mu;++$1){var sc=$1,oc=sl.pd[sc],Y1=sl.G[0][sl.H[0]+sc];256<=Y1.value?(oc.g=Y1.g+256,oc.value=Y1.value):(oc.g=0,oc.value=0,sc>>=Jn(Y1,8,oc),sc>>=Jn(sl.G[1][sl.H[1]+sc],16,oc),sc>>=Jn(sl.G[2][sl.H[2]+sc],0,oc),Jn(sl.G[3][sl.H[3]+sc],24,oc))}}}yi.vc=On,yi.Wb=Hn,yi.Ya=is,yi.yc=ns,yt=1;break t}yt=0}if(!(W=yt)){k.a=3;break e}if(0<Be){if(oe.ua=1<<Be,!fe(oe.Wa,Be)){k.a=1,W=0;break e}}else oe.ua=0;var D2=k,i4=G,aL=X,k2=D2.s,O2=k2.xc;if(D2.c=i4,D2.i=aL,k2.md=Ve(i4,O2),k2.wc=O2==0?-1:(1<<O2)-1,E){k.xb=FI;break e}if((be=a(G*X))==null){k.a=1,W=0;break e}W=(W=Re(k,be,0,G,X,X,null))&&!ee.h;break e}return W?(V!=null?V[0]=be:(e(be==null),e(E)),k.$=0,E||ze(oe)):ze(oe),W}function Fe(h,m){var E=h.c*h.i,k=E+m+16*m;return e(h.c<=m),h.V=a(k),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+E+m,1)}function it(h,m){var E=h.C,k=m-E,V=h.V,W=h.Ba+h.c*E;for(e(m<=h.l.o);0<k;){var G=16<k?16:k,X=h.l.ma,ee=h.l.width,oe=ee*G,be=X.ca,Be=X.tb+ee*E,le=h.Ta,Ae=h.Ua;ne(h,G,V,W),Iw(le,Ae,be,Be,oe),re(X,E,E+G,be,Be,ee),k-=G,V+=G*h.c,E+=G}e(E==m),h.C=h.Ma=m}function ut(){this.ub=this.yd=this.td=this.Rb=0}function mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ze(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function gt(){this.Yb=function(){var h=[];return function m(E,k,V){for(var W=V[k],G=0;G<W&&(E.push(V.length>k+1?[]:0),!(V.length<k+1));G++)m(E[G],k+1,V)}(h,0,[3,11]),h}()}function Wt(){this.jb=a(3),this.Wc=o([4,8],gt),this.Xc=o([4,17],gt)}function Sn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function cn(){this.ld=this.La=this.dd=this.tc=0}function ir(){this.Na=this.la=0}function Ji(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ti(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ga(){this.uc=this.M=this.Nb=0,this.wa=Array(new cn),this.Y=0,this.ya=Array(new Ti),this.aa=0,this.l=new $r}function Lr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Xa(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new ut,this.Kc=new mt,this.ed=new Sn,this.Qa=new Ze,this.Ic=this.$c=this.Aa=0,this.D=new ga,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,N),this.ia=0,this.pb=s(4,Ji),this.Pa=new Wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Lr),this.Hd=0,this.rb=Array(new ir),this.sb=0,this.wa=Array(new cn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ti),this.L=this.aa=0,this.gd=o([4,2],cn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $r(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ra(){var h=new Xa;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,p0||(p0=q)),h}function Dn(h,m,E){return h.a==0&&(h.a=m,h.sc=E,h.cb=0),0}function Ka(h,m,E){return 3<=E&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Qa(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return Dn(h,2,"null VP8Io passed to VP8GetHeaders()");var E=m.data,k=m.w,V=m.ha;if(4>V)return Dn(h,7,"Truncated header.");var W=E[k+0]|E[k+1]<<8|E[k+2]<<16,G=h.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return Dn(h,3,"Incorrect keyframe parameters.");if(!G.yd)return Dn(h,4,"Frame not displayable.");k+=3,V-=3;var X=h.Kc;if(G.Rb){if(7>V)return Dn(h,7,"cannot parse picture header");if(!Ka(E,k,V))return Dn(h,3,"Bad code word");X.c=16383&(E[k+4]<<8|E[k+3]),X.Td=E[k+4]>>6,X.i=16383&(E[k+6]<<8|E[k+5]),X.Ud=E[k+6]>>6,k+=7,V-=7,h.za=X.c+15>>4,h.Ub=X.i+15>>4,m.width=X.c,m.height=X.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((W=h.Pa).jb,0,255,W.jb.length),e((W=h.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>V)return Dn(h,7,"bad partition length");de(W=h.m,E,k,G.ub),k+=G.ub,V-=G.ub,G.Rb&&(X.Ld=pe(W),X.Kd=pe(W)),X=h.Qa;var ee,oe=h.Pa;if(e(W!=null),e(X!=null),X.Cb=pe(W),X.Cb){if(X.Bb=pe(W),pe(W)){for(X.Fb=pe(W),ee=0;4>ee;++ee)X.Zb[ee]=pe(W)?J(W,7):0;for(ee=0;4>ee;++ee)X.Lb[ee]=pe(W)?J(W,6):0}if(X.Bb)for(ee=0;3>ee;++ee)oe.jb[ee]=pe(W)?we(W,8):255}else X.Bb=0;if(W.Ka)return Dn(h,3,"cannot parse segment header");if((X=h.ed).zd=pe(W),X.Tb=we(W,6),X.wb=we(W,3),X.Pc=pe(W),X.Pc&&pe(W)){for(oe=0;4>oe;++oe)pe(W)&&(X.vd[oe]=J(W,6));for(oe=0;4>oe;++oe)pe(W)&&(X.od[oe]=J(W,6))}if(h.L=X.Tb==0?0:X.zd?1:2,W.Ka)return Dn(h,3,"cannot parse filter header");var be=V;if(V=ee=k,k=ee+be,X=be,h.Xb=(1<<we(h.m,2))-1,be<3*(oe=h.Xb))E=7;else{for(ee+=3*oe,X-=3*oe,be=0;be<oe;++be){var Be=E[V+0]|E[V+1]<<8|E[V+2]<<16;Be>X&&(Be=X),de(h.Jc[+be],E,ee,Be),ee+=Be,X-=Be,V+=3}de(h.Jc[+oe],E,ee,X),E=ee<k?0:5}if(E!=0)return Dn(h,E,"cannot parse partitions");for(E=we(ee=h.m,7),V=pe(ee)?J(ee,4):0,k=pe(ee)?J(ee,4):0,X=pe(ee)?J(ee,4):0,oe=pe(ee)?J(ee,4):0,ee=pe(ee)?J(ee,4):0,be=h.Qa,Be=0;4>Be;++Be){if(be.Cb){var le=be.Zb[Be];be.Fb||(le+=E)}else{if(0<Be){h.pb[Be]=h.pb[0];continue}le=E}var Ae=h.pb[Be];Ae.Sc[0]=A2[Fr(le+V,127)],Ae.Sc[1]=S2[Fr(le+0,127)],Ae.Eb[0]=2*A2[Fr(le+k,127)],Ae.Eb[1]=101581*S2[Fr(le+X,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=A2[Fr(le+oe,117)],Ae.Qc[1]=S2[Fr(le+ee,127)],Ae.lc=le+ee}if(!G.Rb)return Dn(h,4,"Not a key frame.");for(pe(W),G=h.Pa,E=0;4>E;++E){for(V=0;8>V;++V)for(k=0;3>k;++k)for(X=0;11>X;++X)oe=Ee(W,OI[E][V][k][X])?we(W,8):DI[E][V][k][X],G.Wc[E][V].Yb[k][X]=oe;for(V=0;17>V;++V)G.Xc[E][V]=G.Wc[E][PI[V]]}return h.kc=pe(W),h.kc&&(h.Bd=we(W,8)),h.cb=1}function q(h,m,E,k,V,W,G){var X=m[V].Yb[E];for(E=0;16>V;++V){if(!Ee(h,X[E+0]))return V;for(;!Ee(h,X[E+1]);)if(X=m[++V].Yb[0],E=0,V==16)return 16;var ee=m[V+1].Yb;if(Ee(h,X[E+2])){var oe=h,be=0;if(Ee(oe,(le=X)[(Be=E)+3]))if(Ee(oe,le[Be+6])){for(X=0,Be=2*(be=Ee(oe,le[Be+8]))+(le=Ee(oe,le[Be+9+be])),be=0,le=II[Be];le[X];++X)be+=be+Ee(oe,le[X]);be+=3+(8<<Be)}else Ee(oe,le[Be+7])?(be=7+2*Ee(oe,165),be+=Ee(oe,145)):be=5+Ee(oe,159);else be=Ee(oe,le[Be+4])?3+Ee(oe,le[Be+5]):2;X=ee[2]}else be=1,X=ee[1];ee=G+LI[V],0>(oe=h).b&&xe(oe);var Be,le=oe.b,Ae=(Be=oe.Ca>>1)-(oe.I>>le)>>31;--oe.b,oe.Ca+=Ae,oe.Ca|=1,oe.I-=(Be+1&Ae)<<le,W[ee]=((be^Ae)-Ae)*k[(0<V)+0]}return 16}function ye(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Te(h,m,E,k,V){V=h[m+E+32*k]+(V>>3),h[m+E+32*k]=-256&V?0>V?0:255:V}function Se(h,m,E,k,V,W){Te(h,m,0,E,k+V),Te(h,m,1,E,k+W),Te(h,m,2,E,k-W),Te(h,m,3,E,k-V)}function Ue(h){return(20091*h>>16)+h}function at(h,m,E,k){var V,W=0,G=a(16);for(V=0;4>V;++V){var X=h[m+0]+h[m+8],ee=h[m+0]-h[m+8],oe=(35468*h[m+4]>>16)-Ue(h[m+12]),be=Ue(h[m+4])+(35468*h[m+12]>>16);G[W+0]=X+be,G[W+1]=ee+oe,G[W+2]=ee-oe,G[W+3]=X-be,W+=4,m++}for(V=W=0;4>V;++V)X=(h=G[W+0]+4)+G[W+8],ee=h-G[W+8],oe=(35468*G[W+4]>>16)-Ue(G[W+12]),Te(E,k,0,0,X+(be=Ue(G[W+4])+(35468*G[W+12]>>16))),Te(E,k,1,0,ee+oe),Te(E,k,2,0,ee-oe),Te(E,k,3,0,X-be),W++,k+=32}function Ot(h,m,E,k){var V=h[m+0]+4,W=35468*h[m+4]>>16,G=Ue(h[m+4]),X=35468*h[m+1]>>16;Se(E,k,0,V+G,h=Ue(h[m+1]),X),Se(E,k,1,V+W,h,X),Se(E,k,2,V-W,h,X),Se(E,k,3,V-G,h,X)}function yn(h,m,E,k,V){at(h,m,E,k),V&&at(h,m+16,E,k+4)}function ma(h,m,E,k){yu(h,m+0,E,k,1),yu(h,m+32,E,k+128,1)}function Dr(h,m,E,k){var V;for(h=h[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)Te(E,k,m,V,h)}function Ia(h,m,E,k){h[m+0]&&Un(h,m+0,E,k),h[m+16]&&Un(h,m+16,E,k+4),h[m+32]&&Un(h,m+32,E,k+128),h[m+48]&&Un(h,m+48,E,k+128+4)}function La(h,m,E,k){var V,W=a(16);for(V=0;4>V;++V){var G=h[m+0+V]+h[m+12+V],X=h[m+4+V]+h[m+8+V],ee=h[m+4+V]-h[m+8+V],oe=h[m+0+V]-h[m+12+V];W[0+V]=G+X,W[8+V]=G-X,W[4+V]=oe+ee,W[12+V]=oe-ee}for(V=0;4>V;++V)G=(h=W[0+4*V]+3)+W[3+4*V],X=W[1+4*V]+W[2+4*V],ee=W[1+4*V]-W[2+4*V],oe=h-W[3+4*V],E[k+0]=G+X>>3,E[k+16]=oe+ee>>3,E[k+32]=G-X>>3,E[k+48]=oe-ee>>3,k+=64}function gi(h,m,E){var k,V=m-32,W=ts,G=255-h[V-1];for(k=0;k<E;++k){var X,ee=W,oe=G+h[m-1];for(X=0;X<E;++X)h[m+X]=ee[oe+h[V+X]];m+=32}}function Da(h,m){gi(h,m,4)}function zl(h,m){gi(h,m,8)}function kn(h,m){gi(h,m,16)}function er(h,m){var E;for(E=0;16>E;++E)r(h,m+32*E,h,m-32,16)}function Ys(h,m){var E;for(E=16;0<E;--E)i(h,m,h[m-1],16),m+=32}function ea(h,m,E){var k;for(k=0;16>k;++k)i(m,E+32*k,h,16)}function po(h,m){var E,k=16;for(E=0;16>E;++E)k+=h[m-1+32*E]+h[m+E-32];ea(k>>5,h,m)}function r0(h,m){var E,k=8;for(E=0;16>E;++E)k+=h[m-1+32*E];ea(k>>4,h,m)}function Yo(h,m){var E,k=8;for(E=0;16>E;++E)k+=h[m+E-32];ea(k>>4,h,m)}function ka(h,m){ea(128,h,m)}function Qt(h,m,E){return h+2*m+E+2>>2}function uu(h,m){var E,k=m-32;for(k=new Uint8Array([Qt(h[k-1],h[k+0],h[k+1]),Qt(h[k+0],h[k+1],h[k+2]),Qt(h[k+1],h[k+2],h[k+3]),Qt(h[k+2],h[k+3],h[k+4])]),E=0;4>E;++E)r(h,m+32*E,k,0,k.length)}function Hl(h,m){var E=h[m-1],k=h[m-1+32],V=h[m-1+64],W=h[m-1+96];He(h,m+0,16843009*Qt(h[m-1-32],E,k)),He(h,m+32,16843009*Qt(E,k,V)),He(h,m+64,16843009*Qt(k,V,W)),He(h,m+96,16843009*Qt(V,W,W))}function mf(h,m){var E,k=4;for(E=0;4>E;++E)k+=h[m+E-32]+h[m-1+32*E];for(k>>=3,E=0;4>E;++E)i(h,m+32*E,k,4)}function Xo(h,m){var E=h[m-1+0],k=h[m-1+32],V=h[m-1+64],W=h[m-1-32],G=h[m+0-32],X=h[m+1-32],ee=h[m+2-32],oe=h[m+3-32];h[m+0+96]=Qt(k,V,h[m-1+96]),h[m+1+96]=h[m+0+64]=Qt(E,k,V),h[m+2+96]=h[m+1+64]=h[m+0+32]=Qt(W,E,k),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Qt(G,W,E),h[m+3+64]=h[m+2+32]=h[m+1+0]=Qt(X,G,W),h[m+3+32]=h[m+2+0]=Qt(ee,X,G),h[m+3+0]=Qt(oe,ee,X)}function va(h,m){var E=h[m+1-32],k=h[m+2-32],V=h[m+3-32],W=h[m+4-32],G=h[m+5-32],X=h[m+6-32],ee=h[m+7-32];h[m+0+0]=Qt(h[m+0-32],E,k),h[m+1+0]=h[m+0+32]=Qt(E,k,V),h[m+2+0]=h[m+1+32]=h[m+0+64]=Qt(k,V,W),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Qt(V,W,G),h[m+3+32]=h[m+2+64]=h[m+1+96]=Qt(W,G,X),h[m+3+64]=h[m+2+96]=Qt(G,X,ee),h[m+3+96]=Qt(X,ee,ee)}function Ss(h,m){var E=h[m-1+0],k=h[m-1+32],V=h[m-1+64],W=h[m-1-32],G=h[m+0-32],X=h[m+1-32],ee=h[m+2-32],oe=h[m+3-32];h[m+0+0]=h[m+1+64]=W+G+1>>1,h[m+1+0]=h[m+2+64]=G+X+1>>1,h[m+2+0]=h[m+3+64]=X+ee+1>>1,h[m+3+0]=ee+oe+1>>1,h[m+0+96]=Qt(V,k,E),h[m+0+64]=Qt(k,E,W),h[m+0+32]=h[m+1+96]=Qt(E,W,G),h[m+1+32]=h[m+2+96]=Qt(W,G,X),h[m+2+32]=h[m+3+96]=Qt(G,X,ee),h[m+3+32]=Qt(X,ee,oe)}function fu(h,m){var E=h[m+0-32],k=h[m+1-32],V=h[m+2-32],W=h[m+3-32],G=h[m+4-32],X=h[m+5-32],ee=h[m+6-32],oe=h[m+7-32];h[m+0+0]=E+k+1>>1,h[m+1+0]=h[m+0+64]=k+V+1>>1,h[m+2+0]=h[m+1+64]=V+W+1>>1,h[m+3+0]=h[m+2+64]=W+G+1>>1,h[m+0+32]=Qt(E,k,V),h[m+1+32]=h[m+0+96]=Qt(k,V,W),h[m+2+32]=h[m+1+96]=Qt(V,W,G),h[m+3+32]=h[m+2+96]=Qt(W,G,X),h[m+3+64]=Qt(G,X,ee),h[m+3+96]=Qt(X,ee,oe)}function hr(h,m){var E=h[m-1+0],k=h[m-1+32],V=h[m-1+64],W=h[m-1+96];h[m+0+0]=E+k+1>>1,h[m+2+0]=h[m+0+32]=k+V+1>>1,h[m+2+32]=h[m+0+64]=V+W+1>>1,h[m+1+0]=Qt(E,k,V),h[m+3+0]=h[m+1+32]=Qt(k,V,W),h[m+3+32]=h[m+1+64]=Qt(V,W,W),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=W}function ql(h,m){var E=h[m-1+0],k=h[m-1+32],V=h[m-1+64],W=h[m-1+96],G=h[m-1-32],X=h[m+0-32],ee=h[m+1-32],oe=h[m+2-32];h[m+0+0]=h[m+2+32]=E+G+1>>1,h[m+0+32]=h[m+2+64]=k+E+1>>1,h[m+0+64]=h[m+2+96]=V+k+1>>1,h[m+0+96]=W+V+1>>1,h[m+3+0]=Qt(X,ee,oe),h[m+2+0]=Qt(G,X,ee),h[m+1+0]=h[m+3+32]=Qt(E,G,X),h[m+1+32]=h[m+3+64]=Qt(k,E,G),h[m+1+64]=h[m+3+96]=Qt(V,k,E),h[m+1+96]=Qt(W,V,k)}function hu(h,m){var E;for(E=0;8>E;++E)r(h,m+32*E,h,m-32,8)}function go(h,m){var E;for(E=0;8>E;++E)i(h,m,h[m-1],8),m+=32}function Ko(h,m,E){var k;for(k=0;8>k;++k)i(m,E+32*k,h,8)}function Qo(h,m){var E,k=8;for(E=0;8>E;++E)k+=h[m+E-32]+h[m-1+32*E];Ko(k>>4,h,m)}function Wl(h,m){var E,k=4;for(E=0;8>E;++E)k+=h[m+E-32];Ko(k>>3,h,m)}function Oa(h,m){var E,k=4;for(E=0;8>E;++E)k+=h[m-1+32*E];Ko(k>>3,h,m)}function Gl(h,m){Ko(128,h,m)}function Zo(h,m,E){var k=h[m-E],V=h[m+0],W=3*(V-k)+x2[1020+h[m-2*E]-h[m+E]],G=k1[112+(W+4>>3)];h[m-E]=ts[255+k+k1[112+(W+3>>3)]],h[m+0]=ts[255+V-G]}function Za(h,m,E,k){var V=h[m+0],W=h[m+E];return Is[255+h[m-2*E]-h[m-E]]>k||Is[255+W-V]>k}function $l(h,m,E,k){return 4*Is[255+h[m-E]-h[m+0]]+Is[255+h[m-2*E]-h[m+E]]<=k}function mo(h,m,E,k,V){var W=h[m-3*E],G=h[m-2*E],X=h[m-E],ee=h[m+0],oe=h[m+E],be=h[m+2*E],Be=h[m+3*E];return 4*Is[255+X-ee]+Is[255+G-oe]>k?0:Is[255+h[m-4*E]-W]<=V&&Is[255+W-G]<=V&&Is[255+G-X]<=V&&Is[255+Be-be]<=V&&Is[255+be-oe]<=V&&Is[255+oe-ee]<=V}function vo(h,m,E,k){var V=2*k+1;for(k=0;16>k;++k)$l(h,m+k,E,V)&&Zo(h,m+k,E)}function yo(h,m,E,k){var V=2*k+1;for(k=0;16>k;++k)$l(h,m+k*E,1,V)&&Zo(h,m+k*E,1)}function Jo(h,m,E,k){var V;for(V=3;0<V;--V)vo(h,m+=4*E,E,k)}function vf(h,m,E,k){var V;for(V=3;0<V;--V)yo(h,m+=4,E,k)}function Ts(h,m,E,k,V,W,G,X){for(W=2*W+1;0<V--;){if(mo(h,m,E,W,G))if(Za(h,m,E,X))Zo(h,m,E);else{var ee=h,oe=m,be=E,Be=ee[oe-2*be],le=ee[oe-be],Ae=ee[oe+0],Le=ee[oe+be],We=ee[oe+2*be],Me=27*(Xe=x2[1020+3*(Ae-le)+x2[1020+Be-Le]])+63>>7,$e=18*Xe+63>>7,Xe=9*Xe+63>>7;ee[oe-3*be]=ts[255+ee[oe-3*be]+Xe],ee[oe-2*be]=ts[255+Be+$e],ee[oe-be]=ts[255+le+Me],ee[oe+0]=ts[255+Ae-Me],ee[oe+be]=ts[255+Le-$e],ee[oe+2*be]=ts[255+We-Xe]}m+=k}}function ya(h,m,E,k,V,W,G,X){for(W=2*W+1;0<V--;){if(mo(h,m,E,W,G))if(Za(h,m,E,X))Zo(h,m,E);else{var ee=h,oe=m,be=E,Be=ee[oe-be],le=ee[oe+0],Ae=ee[oe+be],Le=k1[112+(4+(We=3*(le-Be))>>3)],We=k1[112+(We+3>>3)],Me=Le+1>>1;ee[oe-2*be]=ts[255+ee[oe-2*be]+Me],ee[oe-be]=ts[255+Be+We],ee[oe+0]=ts[255+le-Le],ee[oe+be]=ts[255+Ae-Me]}m+=k}}function du(h,m,E,k,V,W){Ts(h,m,E,1,16,k,V,W)}function pu(h,m,E,k,V,W){Ts(h,m,1,E,16,k,V,W)}function Xs(h,m,E,k,V,W){var G;for(G=3;0<G;--G)ya(h,m+=4*E,E,1,16,k,V,W)}function Yl(h,m,E,k,V,W){var G;for(G=3;0<G;--G)ya(h,m+=4,1,E,16,k,V,W)}function w(h,m,E,k,V,W,G,X){Ts(h,m,V,1,8,W,G,X),Ts(E,k,V,1,8,W,G,X)}function U(h,m,E,k,V,W,G,X){Ts(h,m,1,V,8,W,G,X),Ts(E,k,1,V,8,W,G,X)}function se(h,m,E,k,V,W,G,X){ya(h,m+4*V,V,1,8,W,G,X),ya(E,k+4*V,V,1,8,W,G,X)}function ve(h,m,E,k,V,W,G,X){ya(h,m+4,1,V,8,W,G,X),ya(E,k+4,1,V,8,W,G,X)}function Ce(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new P}function It(){this.xb=this.a=0,this.l=new $r,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=s(4,tt),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $r,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(h,m,E,k,V,W,G){for(h=h==null?0:h[m+0],m=0;m<G;++m)V[W+m]=h+E[k+m]&255,h=V[W+m]}function Tn(h,m,E,k,V,W,G){var X;if(h==null)Pt(null,null,E,k,V,W,G);else for(X=0;X<G;++X)V[W+X]=h[m+X]+E[k+X]&255}function dr(h,m,E,k,V,W,G){if(h==null)Pt(null,null,E,k,V,W,G);else{var X,ee=h[m+0],oe=ee,be=ee;for(X=0;X<G;++X)oe=be+(ee=h[m+X])-oe,be=E[k+X]+(-256&oe?0>oe?0:255:oe)&255,oe=ee,V[W+X]=be}}function ar(h,m,E,k){var V=m.width,W=m.o;if(e(h!=null&&m!=null),0>E||0>=k||E+k>W)return null;if(!h.Cc){if(h.ga==null){var G;if(h.ga=new $t,(G=h.ga==null)||(G=m.width*m.o,e(h.Gb.length==0),h.Gb=a(G),h.Uc=0,h.Gb==null?G=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,G=1),G=!G),!G){G=h.ga;var X=h.Fa,ee=h.P,oe=h.qc,be=h.mb,Be=h.nb,le=ee+1,Ae=oe-1,Le=G.l;if(e(X!=null&&be!=null&&m!=null),rc[0]=null,rc[1]=Pt,rc[2]=Tn,rc[3]=dr,G.ca=be,G.tb=Be,G.c=m.width,G.i=m.height,e(0<G.c&&0<G.i),1>=oe)m=0;else if(G.$a=3&X[ee+0],G.Z=X[ee+0]>>2&3,G.Lc=X[ee+0]>>4&3,ee=X[ee+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||ee)m=0;else if(Le.put=Ut,Le.ac=Wr,Le.bc=pa,Le.ma=G,Le.width=m.width,Le.height=m.height,Le.Da=m.Da,Le.v=m.v,Le.va=m.va,Le.j=m.j,Le.o=m.o,G.$a)e:{e(G.$a==1),m=Oe();t:for(;;){if(m==null){m=0;break e}if(e(G!=null),G.mc=m,m.c=G.c,m.i=G.i,m.l=G.l,m.l.ma=G,m.l.width=G.c,m.l.height=G.i,m.a=0,ie(m.m,X,le,Ae),!Pe(G.c,G.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&te(m.s)?(G.ic=1,X=m.c*m.i,m.Ta=null,m.Ua=0,m.V=a(X),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(G.ic=0,m=Fe(m,G.c)),!m))break t;m=1;break e}G.mc=null,m=0}else m=Ae>=G.c*G.i;G=!m}if(G)return null;h.ga.Lc!=1?h.Ga=0:k=W-E}e(h.ga!=null),e(E+k<=W);e:{if(m=(X=h.ga).c,W=X.l.o,X.$a==0){if(le=h.rc,Ae=h.Vc,Le=h.Fa,ee=h.P+1+E*m,oe=h.mb,be=h.nb+E*m,e(ee<=h.P+h.qc),X.Z!=0)for(e(rc[X.Z]!=null),G=0;G<k;++G)rc[X.Z](le,Ae,Le,ee,oe,be,m),le=oe,Ae=be,be+=m,ee+=m;else for(G=0;G<k;++G)r(oe,be,Le,ee,m),le=oe,Ae=be,be+=m,ee+=m;h.rc=le,h.Vc=Ae}else{if(e(X.mc!=null),m=E+k,e((G=X.mc)!=null),e(m<=G.i),G.C>=m)m=1;else if(X.ic||Ne(),X.ic){X=G.V,le=G.Ba,Ae=G.c;var We=G.i,Me=(Le=1,ee=G.$/Ae,oe=G.$%Ae,be=G.m,Be=G.s,G.$),$e=Ae*We,Xe=Ae*m,lt=Be.wc,rt=Me<Xe?H(Be,oe,ee):null;e(Me<=$e),e(m<=We),e(te(Be));t:for(;;){for(;!be.h&&Me<Xe;){if(oe&lt||(rt=H(Be,oe,ee)),e(rt!=null),he(be),256>(We=Fn(rt.G[0],rt.H[0],be)))X[le+Me]=We,++Me,++oe>=Ae&&(oe=0,++ee<=m&&!(ee%16)&&ce(G,ee));else{if(!(280>We)){Le=0;break t}We=Gr(We-256,be);var Ft,Nt=Fn(rt.G[4],rt.H[4],be);if(he(be),!(Me>=(Nt=ai(Ae,Nt=Gr(Nt,be)))&&$e-Me>=We)){Le=0;break t}for(Ft=0;Ft<We;++Ft)X[le+Me+Ft]=X[le+Me+Ft-Nt];for(Me+=We,oe+=We;oe>=Ae;)oe-=Ae,++ee<=m&&!(ee%16)&&ce(G,ee);Me<Xe&&oe&lt&&(rt=H(Be,oe,ee))}e(be.h==z(be))}ce(G,ee>m?m:ee);break t}!Le||be.h&&Me<$e?(Le=0,G.a=be.h?5:3):G.$=Me,m=Le}else m=Re(G,G.V,G.Ba,G.c,G.i,m,it);if(!m){k=0;break e}}E+k>=W&&(h.Cc=1),k=1}if(!k)return null;if(h.Cc&&((k=h.ga)!=null&&(k.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+E*V}function p(h,m,E,k,V,W){for(;0<V--;){var G,X=h,ee=m+(E?1:0),oe=h,be=m+(E?0:3);for(G=0;G<k;++G){var Be=oe[be+4*G];Be!=255&&(Be*=32897,X[ee+4*G+0]=X[ee+4*G+0]*Be>>23,X[ee+4*G+1]=X[ee+4*G+1]*Be>>23,X[ee+4*G+2]=X[ee+4*G+2]*Be>>23)}m+=W}}function R(h,m,E,k,V){for(;0<k--;){var W;for(W=0;W<E;++W){var G=h[m+2*W+0],X=15&(oe=h[m+2*W+1]),ee=4369*X,oe=(240&oe|oe>>4)*ee>>16;h[m+2*W+0]=(240&G|G>>4)*ee>>16&240|(15&G|G<<4)*ee>>16>>4&15,h[m+2*W+1]=240&oe|X}m+=V}}function M(h,m,E,k,V,W,G,X){var ee,oe,be=255;for(oe=0;oe<V;++oe){for(ee=0;ee<k;++ee){var Be=h[m+ee];W[G+4*ee]=Be,be&=Be}m+=E,G+=X}return be!=255}function K(h,m,E,k,V){var W;for(W=0;W<V;++W)E[k+W]=h[m+W]>>8}function Ne(){d0=p,Nw=R,Rw=M,Iw=K}function je(h,m,E){A[h]=function(k,V,W,G,X,ee,oe,be,Be,le,Ae,Le,We,Me,$e,Xe,lt){var rt,Ft=lt-1>>1,Nt=X[ee+0]|oe[be+0]<<16,un=Be[le+0]|Ae[Le+0]<<16;e(k!=null);var Dt=3*Nt+un+131074>>2;for(m(k[V+0],255&Dt,Dt>>16,We,Me),W!=null&&(Dt=3*un+Nt+131074>>2,m(W[G+0],255&Dt,Dt>>16,$e,Xe)),rt=1;rt<=Ft;++rt){var An=X[ee+rt]|oe[be+rt]<<16,vi=Be[le+rt]|Ae[Le+rt]<<16,fn=Nt+An+un+vi+524296,kt=fn+2*(An+un)>>3;Dt=kt+Nt>>1,Nt=(fn=fn+2*(Nt+vi)>>3)+An>>1,m(k[V+2*rt-1],255&Dt,Dt>>16,We,Me+(2*rt-1)*E),m(k[V+2*rt-0],255&Nt,Nt>>16,We,Me+(2*rt-0)*E),W!=null&&(Dt=fn+un>>1,Nt=kt+vi>>1,m(W[G+2*rt-1],255&Dt,Dt>>16,$e,Xe+(2*rt-1)*E),m(W[G+2*rt+0],255&Nt,Nt>>16,$e,Xe+(2*rt+0)*E)),Nt=An,un=vi}1&lt||(Dt=3*Nt+un+131074>>2,m(k[V+lt-1],255&Dt,Dt>>16,We,Me+(lt-1)*E),W!=null&&(Dt=3*un+Nt+131074>>2,m(W[G+lt-1],255&Dt,Dt>>16,$e,Xe+(lt-1)*E)))}}function ht(){Ls[O1]=MI,Ls[P1]=Vw,Ls[Fw]=BI,Ls[F1]=zw,Ls[M1]=Hw,Ls[_2]=qw,Ls[Mw]=jI,Ls[w2]=Vw,Ls[b2]=zw,Ls[B1]=Hw,Ls[E2]=qw}function Zt(h){return h&-16384?0>h?0:255:h>>UI}function sr(h,m){return Zt((19077*h>>8)+(26149*m>>8)-14234)}function wn(h,m,E){return Zt((19077*h>>8)-(6419*m>>8)-(13320*E>>8)+8708)}function pr(h,m){return Zt((19077*h>>8)+(33050*m>>8)-17685)}function Ci(h,m,E,k,V){k[V+0]=sr(h,E),k[V+1]=wn(h,m,E),k[V+2]=pr(h,m)}function xa(h,m,E,k,V){k[V+0]=pr(h,m),k[V+1]=wn(h,m,E),k[V+2]=sr(h,E)}function xr(h,m,E,k,V){var W=wn(h,m,E);m=W<<3&224|pr(h,m)>>3,k[V+0]=248&sr(h,E)|W>>5,k[V+1]=m}function ta(h,m,E,k,V){var W=240&pr(h,m)|15;k[V+0]=240&sr(h,E)|wn(h,m,E)>>4,k[V+1]=W}function Cs(h,m,E,k,V){k[V+0]=255,Ci(h,m,E,k,V+1)}function el(h,m,E,k,V){xa(h,m,E,k,V),k[V+3]=255}function i0(h,m,E,k,V){Ci(h,m,E,k,V),k[V+3]=255}function Fr(h,m){return 0>h?0:h>m?m:h}function tl(h,m,E){A[h]=function(k,V,W,G,X,ee,oe,be,Be){for(var le=be+(-2&Be)*E;be!=le;)m(k[V+0],W[G+0],X[ee+0],oe,be),m(k[V+1],W[G+0],X[ee+0],oe,be+E),V+=2,++G,++ee,be+=2*E;1&Be&&m(k[V+0],W[G+0],X[ee+0],oe,be)}}function yf(h,m,E){return E==0?h==0?m==0?6:5:m==0?4:0:E}function I1(h,m,E,k,V){switch(h>>>30){case 3:yu(m,E,k,V,0);break;case 2:Rs(m,E,k,V);break;case 1:Un(m,E,k,V)}}function Ns(h,m){var E,k,V=m.M,W=m.Nb,G=h.oc,X=h.pc+40,ee=h.oc,oe=h.pc+584,be=h.oc,Be=h.pc+600;for(E=0;16>E;++E)G[X+32*E-1]=129;for(E=0;8>E;++E)ee[oe+32*E-1]=129,be[Be+32*E-1]=129;for(0<V?G[X-1-32]=ee[oe-1-32]=be[Be-1-32]=129:(i(G,X-32-1,127,21),i(ee,oe-32-1,127,9),i(be,Be-32-1,127,9)),k=0;k<h.za;++k){var le=m.ya[m.aa+k];if(0<k){for(E=-1;16>E;++E)r(G,X+32*E-4,G,X+32*E+12,4);for(E=-1;8>E;++E)r(ee,oe+32*E-4,ee,oe+32*E+4,4),r(be,Be+32*E-4,be,Be+32*E+4,4)}var Ae=h.Gd,Le=h.Hd+k,We=le.ad,Me=le.Hc;if(0<V&&(r(G,X-32,Ae[Le].y,0,16),r(ee,oe-32,Ae[Le].f,0,8),r(be,Be-32,Ae[Le].ea,0,8)),le.Za){var $e=G,Xe=X-32+16;for(0<V&&(k>=h.za-1?i($e,Xe,Ae[Le].y[15],4):r($e,Xe,Ae[Le+1].y,0,4)),E=0;4>E;E++)$e[Xe+128+E]=$e[Xe+256+E]=$e[Xe+384+E]=$e[Xe+0+E];for(E=0;16>E;++E,Me<<=2)$e=G,Xe=X+Gw[E],Ks[le.Ob[E]]($e,Xe),I1(Me,We,16*+E,$e,Xe)}else if($e=yf(k,V,le.Ob[0]),nc[$e](G,X),Me!=0)for(E=0;16>E;++E,Me<<=2)I1(Me,We,16*+E,G,X+Gw[E]);for(E=le.Gc,$e=yf(k,V,le.Dd),il[$e](ee,oe),il[$e](be,Be),Me=We,$e=ee,Xe=oe,255&(le=0|E)&&(170&le?wo(Me,256,$e,Xe):or(Me,256,$e,Xe)),le=be,Me=Be,255&(E>>=8)&&(170&E?wo(We,320,le,Me):or(We,320,le,Me)),V<h.Ub-1&&(r(Ae[Le].y,0,G,X+480,16),r(Ae[Le].f,0,ee,oe+224,8),r(Ae[Le].ea,0,be,Be+224,8)),E=8*W*h.B,Ae=h.sa,Le=h.ta+16*k+16*W*h.R,We=h.qa,le=h.ra+8*k+E,Me=h.Ha,$e=h.Ia+8*k+E,E=0;16>E;++E)r(Ae,Le+E*h.R,G,X+32*E,16);for(E=0;8>E;++E)r(We,le+E*h.B,ee,oe+32*E,8),r(Me,$e+E*h.B,be,Be+32*E,8)}}function gu(h,m,E,k,V,W,G,X,ee){var oe=[0],be=[0],Be=0,le=ee!=null?ee.kd:0,Ae=ee??new Ge;if(h==null||12>E)return 7;Ae.data=h,Ae.w=m,Ae.ha=E,m=[m],E=[E],Ae.gb=[Ae.gb];e:{var Le=m,We=E,Me=Ae.gb;if(e(h!=null),e(We!=null),e(Me!=null),Me[0]=0,12<=We[0]&&!n(h,Le[0],"RIFF")){if(n(h,Le[0]+8,"WEBP")){Me=3;break e}var $e=De(h,Le[0]+4);if(12>$e||4294967286<$e){Me=3;break e}if(le&&$e>We[0]-8){Me=7;break e}Me[0]=$e,Le[0]+=12,We[0]-=12}Me=0}if(Me!=0)return Me;for($e=0<Ae.gb[0],E=E[0];;){e:{var Xe=h;We=m,Me=E;var lt=oe,rt=be,Ft=Le=[0];if((Dt=Be=[Be])[0]=0,8>Me[0])Me=7;else{if(!n(Xe,We[0],"VP8X")){if(De(Xe,We[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Nt=De(Xe,We[0]+8),un=1+ot(Xe,We[0]+12);if(2147483648<=un*(Xe=1+ot(Xe,We[0]+15))){Me=3;break e}Ft!=null&&(Ft[0]=Nt),lt!=null&&(lt[0]=un),rt!=null&&(rt[0]=Xe),We[0]+=18,Me[0]-=18,Dt[0]=1}Me=0}}if(Be=Be[0],Le=Le[0],Me!=0)return Me;if(We=!!(2&Le),!$e&&Be)return 3;if(W!=null&&(W[0]=!!(16&Le)),G!=null&&(G[0]=We),X!=null&&(X[0]=0),G=oe[0],Le=be[0],Be&&We&&ee==null){Me=0;break}if(4>E){Me=7;break}if($e&&Be||!$e&&!Be&&!n(h,m[0],"ALPH")){E=[E],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Nt=h,Me=m,$e=E;var Dt=Ae.gb;lt=Ae.na,rt=Ae.P,Ft=Ae.Sa,un=22,e(Nt!=null),e($e!=null),Xe=Me[0];var An=$e[0];for(e(lt!=null),e(Ft!=null),lt[0]=null,rt[0]=null,Ft[0]=0;;){if(Me[0]=Xe,$e[0]=An,8>An){Me=7;break e}var vi=De(Nt,Xe+4);if(4294967286<vi){Me=3;break e}var fn=8+vi+1&-2;if(un+=fn,0<Dt&&un>Dt){Me=3;break e}if(!n(Nt,Xe,"VP8 ")||!n(Nt,Xe,"VP8L")){Me=0;break e}if(An[0]<fn){Me=7;break e}n(Nt,Xe,"ALPH")||(lt[0]=Nt,rt[0]=Xe+8,Ft[0]=vi),Xe+=fn,An-=fn}}if(E=E[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Me!=0)break}E=[E],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(Dt=h,Me=m,$e=E,lt=Ae.gb[0],rt=Ae.Ja,Ft=Ae.xa,Nt=Me[0],Xe=!n(Dt,Nt,"VP8 "),un=!n(Dt,Nt,"VP8L"),e(Dt!=null),e($e!=null),e(rt!=null),e(Ft!=null),8>$e[0])Me=7;else{if(Xe||un){if(Dt=De(Dt,Nt+4),12<=lt&&Dt>lt-12){Me=3;break e}if(le&&Dt>$e[0]-8){Me=7;break e}rt[0]=Dt,Me[0]+=8,$e[0]-=8,Ft[0]=un}else Ft[0]=5<=$e[0]&&Dt[Nt+0]==47&&!(Dt[Nt+4]>>5),rt[0]=$e[0];Me=0}if(E=E[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],m=m[0],Me!=0)break;if(4294967286<Ae.Ja)return 3;if(X==null||We||(X[0]=Ae.xa?2:1),G=[G],Le=[Le],Ae.xa){if(5>E){Me=7;break}X=G,le=Le,We=W,h==null||5>E?h=0:5<=E&&h[m+0]==47&&!(h[m+4]>>5)?($e=[0],Dt=[0],lt=[0],ie(rt=new j,h,m,E),Si(rt,$e,Dt,lt)?(X!=null&&(X[0]=$e[0]),le!=null&&(le[0]=Dt[0]),We!=null&&(We[0]=lt[0]),h=1):h=0):h=0}else{if(10>E){Me=7;break}X=Le,h==null||10>E||!Ka(h,m+3,E-3)?h=0:(le=h[m+0]|h[m+1]<<8|h[m+2]<<16,We=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Ae.Ja||!We||!h?h=0:(G&&(G[0]=We),X&&(X[0]=h),h=1))}if(!h||(G=G[0],Le=Le[0],Be&&(oe[0]!=G||be[0]!=Le)))return 3;ee!=null&&(ee[0]=Ae,ee.offset=m-ee.w,e(4294967286>m-ee.w),e(ee.offset==ee.ha-E));break}return Me==0||Me==7&&Be&&ee==null?(W!=null&&(W[0]|=Ae.na!=null&&0<Ae.na.length),k!=null&&(k[0]=G),V!=null&&(V[0]=Le),0):Me}function a0(h,m,E){var k=m.width,V=m.height,W=0,G=0,X=k,ee=V;if(m.Da=h!=null&&0<h.Da,m.Da&&(X=h.cd,ee=h.bd,W=h.v,G=h.j,11>E||(W&=-2,G&=-2),0>W||0>G||0>=X||0>=ee||W+X>k||G+ee>V))return 0;if(m.v=W,m.j=G,m.va=W+X,m.o=G+ee,m.U=X,m.T=ee,m.da=h!=null&&0<h.da,m.da){if(!xt(X,ee,E=[h.ib],W=[h.hb]))return 0;m.ib=E[0],m.hb=W[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*k/4&&m.hb<3*V/4,m.Kb=0),1}function s0(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Xl(h,m,E,k){if(k==null||0>=h||0>=m)return 2;if(E!=null){if(E.Da){var V=E.cd,W=E.bd,G=-2&E.v,X=-2&E.j;if(0>G||0>X||0>=V||0>=W||G+V>h||X+W>m)return 2;h=V,m=W}if(E.da){if(!xt(h,m,V=[E.ib],W=[E.hb]))return 2;h=V[0],m=W[0]}}k.width=h,k.height=m;e:{var ee=k.width,oe=k.height;if(h=k.S,0>=ee||0>=oe||!(h>=O1&&13>h))h=2;else{if(0>=k.Rd&&k.sd==null){G=W=V=m=0;var be=(X=ee*$w[h])*oe;if(11>h||(W=(oe+1)/2*(m=(ee+1)/2),h==12&&(G=(V=ee)*oe)),(oe=a(be+2*W+G))==null){h=1;break e}k.sd=oe,11>h?((ee=k.f.RGBA).eb=oe,ee.fb=0,ee.A=X,ee.size=be):((ee=k.f.kb).y=oe,ee.O=0,ee.fa=X,ee.Fd=be,ee.f=oe,ee.N=0+be,ee.Ab=m,ee.Cd=W,ee.ea=oe,ee.W=0+be+W,ee.Db=m,ee.Ed=W,h==12&&(ee.F=oe,ee.J=0+be+2*W),ee.Tc=G,ee.lb=V)}if(m=1,V=k.S,W=k.width,G=k.height,V>=O1&&13>V)if(11>V)h=k.f.RGBA,m&=(X=Math.abs(h.A))*(G-1)+W<=h.size,m&=X>=W*$w[V],m&=h.eb!=null;else{h=k.f.kb,X=(W+1)/2,be=(G+1)/2,ee=Math.abs(h.fa),oe=Math.abs(h.Ab);var Be=Math.abs(h.Db),le=Math.abs(h.lb),Ae=le*(G-1)+W;m&=ee*(G-1)+W<=h.Fd,m&=oe*(be-1)+X<=h.Cd,m=(m&=Be*(be-1)+X<=h.Ed)&ee>=W&oe>=X&Be>=X,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,V==12&&(m&=le>=W,m&=Ae<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||E!=null&&E.fd&&(h=s0(k)),h}var mu=64,Ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],es=24,Kl=32,nl=8,Ql=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(h){return h},A.Predictor2=function(h,m,E){return m[E+0]},A.Predictor3=function(h,m,E){return m[E+1]},A.Predictor4=function(h,m,E){return m[E-1]},A.Predictor5=function(h,m,E){return ke(ke(h,m[E+1]),m[E+0])},A.Predictor6=function(h,m,E){return ke(h,m[E-1])},A.Predictor7=function(h,m,E){return ke(h,m[E+0])},A.Predictor8=function(h,m,E){return ke(m[E-1],m[E+0])},A.Predictor9=function(h,m,E){return ke(m[E+0],m[E+1])},A.Predictor10=function(h,m,E){return ke(ke(h,m[E-1]),ke(m[E+0],m[E+1]))},A.Predictor11=function(h,m,E){var k=m[E+0];return 0>=Lt(k>>24&255,h>>24&255,(m=m[E-1])>>24&255)+Lt(k>>16&255,h>>16&255,m>>16&255)+Lt(k>>8&255,h>>8&255,m>>8&255)+Lt(255&k,255&h,255&m)?k:h},A.Predictor12=function(h,m,E){var k=m[E+0];return(ct((h>>24&255)+(k>>24&255)-((m=m[E-1])>>24&255))<<24|ct((h>>16&255)+(k>>16&255)-(m>>16&255))<<16|ct((h>>8&255)+(k>>8&255)-(m>>8&255))<<8|ct((255&h)+(255&k)-(255&m)))>>>0},A.Predictor13=function(h,m,E){var k=m[E-1];return(vt((h=ke(h,m[E+0]))>>24&255,k>>24&255)<<24|vt(h>>16&255,k>>16&255)<<16|vt(h>>8&255,k>>8&255)<<8|vt(255&h,255&k))>>>0};var o0=A.PredictorAdd0;A.PredictorAdd1=tn,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var xf=A.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Yr,L1=A.ColorIndexInverseTransform,xo=A.MapARGB,_o=A.VP8LColorIndexInverseTransformAlpha,l0=A.MapAlpha,c0=A.VP8LPredictorsAdd=[];c0.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var u0,f0,Zl,Jl,ec,vu,tc,yu,Rs,wo,Un,or,Xr,mi,rl,h0,_f,D1,bw,Ew,Aw,Sw,Tw,Cw,d0,Nw,Rw,Iw,Lw=a(511),Dw=a(2041),kw=a(225),Ow=a(767),Pw=0,x2=Dw,k1=kw,ts=Ow,Is=Lw,O1=0,P1=1,Fw=2,F1=3,M1=4,_2=5,Mw=6,w2=7,b2=8,B1=9,E2=10,EI=[2,3,7],AI=[3,3,11],Bw=[280,256,256,256,40],SI=[0,1,1,1,0],TI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],CI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],NI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],RI=8,A2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],p0=null,II=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],OI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],PI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nc=[],Ks=[],il=[],FI=1,Uw=2,rc=[],Ls=[];je("UpsampleRgbLinePair",Ci,3),je("UpsampleBgrLinePair",xa,3),je("UpsampleRgbaLinePair",i0,4),je("UpsampleBgraLinePair",el,4),je("UpsampleArgbLinePair",Cs,4),je("UpsampleRgba4444LinePair",ta,2),je("UpsampleRgb565LinePair",xr,2);var MI=A.UpsampleRgbLinePair,BI=A.UpsampleBgrLinePair,Vw=A.UpsampleRgbaLinePair,zw=A.UpsampleBgraLinePair,Hw=A.UpsampleArgbLinePair,qw=A.UpsampleRgba4444LinePair,jI=A.UpsampleRgb565LinePair,j1=16,U1=1<<j1-1,g0=-227,T2=482,UI=6,Ww=0,VI=a(256),zI=a(256),HI=a(256),qI=a(256),WI=a(T2-g0),GI=a(T2-g0);tl("YuvToRgbRow",Ci,3),tl("YuvToBgrRow",xa,3),tl("YuvToRgbaRow",i0,4),tl("YuvToBgraRow",el,4),tl("YuvToArgbRow",Cs,4),tl("YuvToRgba4444Row",ta,2),tl("YuvToRgb565Row",xr,2);var Gw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],V1=[0,2,8],$I=[8,7,6,4,4,2,2,2,1,1,1,1],YI=1;this.WebPDecodeRGBA=function(h,m,E,k,V){var W=P1,G=new Ce,X=new Kt;G.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var ee=X.width,oe=X.height,be=new Vt;if(be==null||h==null)var Be=2;else e(be!=null),Be=gu(h,m,E,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Be!=0?ee=0:(ee!=null&&(ee[0]=be.width[0]),oe!=null&&(oe[0]=be.height[0]),ee=1),ee){X.width=X.width[0],X.height=X.height[0],k!=null&&(k[0]=X.width),V!=null&&(V[0]=X.height);e:{if(k=new $r,(V=new Ge).data=h,V.w=m,V.ha=E,V.kd=1,m=[0],e(V!=null),((h=gu(V.data,V.w,V.ha,null,null,null,m,null,V))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(G!=null),k.data=V.data,k.w=V.w+V.offset,k.ha=V.ha-V.offset,k.put=Ut,k.ac=Wr,k.bc=pa,k.ma=G,V.xa){if((h=Oe())==null){G=1;break e}if(function(le,Ae){var Le=[0],We=[0],Me=[0];t:for(;;){if(le==null)return 0;if(Ae==null)return le.a=2,0;if(le.l=Ae,le.a=0,ie(le.m,Ae.data,Ae.w,Ae.ha),!Si(le.m,Le,We,Me)){le.a=3;break t}if(le.xb=Uw,Ae.width=Le[0],Ae.height=We[0],!Pe(Le[0],We[0],1,le,null))break t;return 1}return e(le.a!=0),0}(h,k)){if(k=(m=Xl(k.width,k.height,G.Oa,G.ba))==0){t:{k=h;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((E=k.l)!=null),e((V=E.ma)!=null),k.xb!=0){if(k.ca=V.ba,k.tb=V.tb,e(k.ca!=null),!a0(V.Oa,E,F1)){k.a=2;break n}if(!Fe(k,E.width)||E.da)break n;if((E.da||Gt(k.ca.S))&&Ne(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Ne()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!fe(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Re(k,k.V,k.Ba,k.c,k.i,E.o,Z))break n;V.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(m=h.a)}else m=h.a}else{if((h=new Ra)==null){G=1;break e}if(h.Fa=V.na,h.P=V.P,h.qc=V.Sa,Qa(h,k)){if((m=Xl(k.width,k.height,G.Oa,G.ba))==0){if(h.Aa=0,E=G.Oa,e((V=h)!=null),E!=null){if(0<(ee=0>(ee=E.Md)?0:100<ee?255:255*ee/100)){for(oe=be=0;4>oe;++oe)12>(Be=V.pb[oe]).lc&&(Be.ia=ee*$I[0>Be.lc?0:Be.lc]>>3),be|=Be.ia;be&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=E.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(le,Ae){if(le==null)return 0;if(Ae==null)return Dn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!Qa(le,Ae))return 0;if(e(le.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(le.L=0);var Le=V1[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Ae.v-Le>>4,le.zb=Ae.j-Le>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Ae.o+15+Le>>4,le.Hb=Ae.va+15+Le>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var We=le.ed;for(Le=0;4>Le;++Le){var Me;if(le.Qa.Cb){var $e=le.Qa.Lb[Le];le.Qa.Fb||($e+=We.Tb)}else $e=We.Tb;for(Me=0;1>=Me;++Me){var Xe=le.gd[Le][Me],lt=$e;if(We.Pc&&(lt+=We.vd[0],Me&&(lt+=We.od[0])),0<(lt=0>lt?0:63<lt?63:lt)){var rt=lt;0<We.wb&&(rt=4<We.wb?rt>>2:rt>>1)>9-We.wb&&(rt=9-We.wb),1>rt&&(rt=1),Xe.dd=rt,Xe.tc=2*lt+rt,Xe.ld=40<=lt?2:15<=lt?1:0}else Xe.tc=0;Xe.La=Me}}}Le=0}else Dn(le,6,"Frame setup failed"),Le=le.a;if(Le=Le==0){if(Le){le.$c=0,0<le.Aa||(le.Ic=YI);t:{Le=le.Ic,We=4*(rt=le.za);var Ft=32*rt,Nt=rt+1,un=0<le.L?rt*(0<le.Aa?2:1):0,Dt=(le.Aa==2?2:1)*rt;if((Xe=We+832+(Me=3*(16*Le+V1[le.L])/2*Ft)+($e=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Xe)Le=0;else{if(Xe>le.Vb){if(le.Vb=0,le.Ec=a(Xe),le.Fc=0,le.Ec==null){Le=Dn(le,1,"no memory during frame initialization.");break t}le.Vb=Xe}Xe=le.Ec,lt=le.Fc,le.Ac=Xe,le.Bc=lt,lt+=We,le.Gd=s(Ft,Lr),le.Hd=0,le.rb=s(Nt+1,ir),le.sb=1,le.wa=un?s(un,cn):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=rt),e(!0),le.oc=Xe,le.pc=lt,lt+=832,le.ya=s(Dt,Ti),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=rt),le.R=16*rt,le.B=8*rt,rt=(Ft=V1[le.L])*le.R,Ft=Ft/2*le.B,le.sa=Xe,le.ta=lt+rt,le.qa=le.sa,le.ra=le.ta+16*Le*le.R+Ft,le.Ha=le.qa,le.Ia=le.ra+8*Le*le.B+Ft,le.$c=0,lt+=Me,le.mb=$e?Xe:null,le.nb=$e?lt:null,e(lt+$e<=le.Fc+le.Vb),ye(le),i(le.Ac,le.Bc,0,We),Le=1}}if(Le){if(Ae.ka=0,Ae.y=le.sa,Ae.O=le.ta,Ae.f=le.qa,Ae.N=le.ra,Ae.ea=le.Ha,Ae.Vd=le.Ia,Ae.fa=le.R,Ae.Rc=le.B,Ae.F=null,Ae.J=0,!Pw){for(Le=-255;255>=Le;++Le)Lw[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Dw[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)kw[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)Ow[255+Le]=0>Le?0:255<Le?255:Le;Pw=1}tc=La,yu=yn,wo=ma,Un=Dr,or=Ia,Rs=Ot,Xr=du,mi=pu,rl=w,h0=U,_f=Xs,D1=Yl,bw=se,Ew=ve,Aw=vo,Sw=yo,Tw=Jo,Cw=vf,Ks[0]=mf,Ks[1]=Da,Ks[2]=uu,Ks[3]=Hl,Ks[4]=Xo,Ks[5]=Ss,Ks[6]=va,Ks[7]=fu,Ks[8]=ql,Ks[9]=hr,nc[0]=po,nc[1]=kn,nc[2]=er,nc[3]=Ys,nc[4]=r0,nc[5]=Yo,nc[6]=ka,il[0]=Qo,il[1]=zl,il[2]=hu,il[3]=go,il[4]=Oa,il[5]=Wl,il[6]=Gl,Le=1}else Le=0}Le&&(Le=function(An,vi){for(An.M=0;An.M<An.Va;++An.M){var fn,kt=An.Jc[An.M&An.Xb],yt=An.m,Kr=An;for(fn=0;fn<Kr.za;++fn){var ln=yt,Cn=Kr,_r=Cn.Ac,Mi=Cn.Bc+4*fn,_a=Cn.zc,Mr=Cn.ya[Cn.aa+fn];if(Cn.Qa.Bb?Mr.$b=Ee(ln,Cn.Pa.jb[0])?2+Ee(ln,Cn.Pa.jb[2]):Ee(ln,Cn.Pa.jb[1]):Mr.$b=0,Cn.kc&&(Mr.Ad=Ee(ln,Cn.Bd)),Mr.Za=!Ee(ln,145)+0,Mr.Za){var na=Mr.Ob,wa=0;for(Cn=0;4>Cn;++Cn){var yi,On=_a[0+Cn];for(yi=0;4>yi;++yi){On=kI[_r[Mi+yi]][On];for(var Hn=jw[Ee(ln,On[0])];0<Hn;)Hn=jw[2*Hn+Ee(ln,On[Hn])];On=-Hn,_r[Mi+yi]=On}r(na,wa,_r,Mi,4),wa+=4,_a[0+Cn]=On}}else On=Ee(ln,156)?Ee(ln,128)?1:3:Ee(ln,163)?2:0,Mr.Ob[0]=On,i(_r,Mi,On,4),i(_a,0,On,4);Mr.Dd=Ee(ln,142)?Ee(ln,114)?Ee(ln,183)?1:3:2:0}if(Kr.m.Ka)return Dn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(Kr=kt,ln=(yt=An).rb[yt.sb-1],_r=yt.rb[yt.sb+yt.ja],fn=yt.ya[yt.aa+yt.ja],Mi=yt.kc?fn.Ad:0)ln.la=_r.la=0,fn.Za||(ln.Na=_r.Na=0),fn.Hc=0,fn.Gc=0,fn.ia=0;else{var Br,qn;if(ln=_r,_r=Kr,Mi=yt.Pa.Xc,_a=yt.ya[yt.aa+yt.ja],Mr=yt.pb[_a.$b],Cn=_a.ad,na=0,wa=yt.rb[yt.sb-1],On=yi=0,i(Cn,na,0,384),_a.Za)var Bi=0,Qs=Mi[3];else{Hn=a(16);var Qr=ln.Na+wa.Na;if(Qr=p0(_r,Mi[1],Qr,Mr.Eb,0,Hn,0),ln.Na=wa.Na=(0<Qr)+0,1<Qr)tc(Hn,0,Cn,na);else{var Pa=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)Cn[na+Hn]=Pa}Bi=1,Qs=Mi[0]}var lr=15&ln.la,xi=15&wa.la;for(Hn=0;4>Hn;++Hn){var ns=1&xi;for(Pa=qn=0;4>Pa;++Pa)lr=lr>>1|(ns=(Qr=p0(_r,Qs,Qr=ns+(1&lr),Mr.Sc,Bi,Cn,na))>Bi)<<7,qn=qn<<2|(3<Qr?3:1<Qr?2:Cn[na+0]!=0),na+=16;lr>>=4,xi=xi>>1|ns<<7,yi=(yi<<8|qn)>>>0}for(Qs=lr,Bi=xi>>4,Br=0;4>Br;Br+=2){for(qn=0,lr=ln.la>>4+Br,xi=wa.la>>4+Br,Hn=0;2>Hn;++Hn){for(ns=1&xi,Pa=0;2>Pa;++Pa)Qr=ns+(1&lr),lr=lr>>1|(ns=0<(Qr=p0(_r,Mi[2],Qr,Mr.Qc,0,Cn,na)))<<3,qn=qn<<2|(3<Qr?3:1<Qr?2:Cn[na+0]!=0),na+=16;lr>>=2,xi=xi>>1|ns<<5}On|=qn<<4*Br,Qs|=lr<<4<<Br,Bi|=(240&xi)<<Br}ln.la=Qs,wa.la=Bi,_a.Hc=yi,_a.Gc=On,_a.ia=43690&On?0:Mr.ia,Mi=!(yi|On)}if(0<yt.L&&(yt.wa[yt.Y+yt.ja]=yt.gd[fn.$b][fn.Za],yt.wa[yt.Y+yt.ja].La|=!Mi),Kr.Ka)return Dn(An,7,"Premature end-of-file encountered.")}if(ye(An),yt=vi,Kr=1,fn=(kt=An).D,ln=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(fn.M=kt.M,fn.uc=ln,Ns(kt,fn),Kr=1,fn=(qn=kt.D).Nb,ln=(On=V1[kt.L])*kt.R,_r=On/2*kt.B,Hn=16*fn*kt.R,Pa=8*fn*kt.B,Mi=kt.sa,_a=kt.ta-ln+Hn,Mr=kt.qa,Cn=kt.ra-_r+Pa,na=kt.Ha,wa=kt.Ia-_r+Pa,xi=(lr=qn.M)==0,yi=lr>=kt.Va-1,kt.Aa==2&&Ns(kt,qn),qn.uc)for(ns=(Qr=kt).D.M,e(Qr.D.uc),qn=Qr.yb;qn<Qr.Hb;++qn){Bi=qn,Qs=ns;var ba=(rs=(ji=Qr).D).Nb;Br=ji.R;var rs=rs.wa[rs.Y+Bi],is=ji.sa,Fa=ji.ta+16*ba*Br+16*Bi,as=rs.dd,gr=rs.tc;if(gr!=0)if(e(3<=gr),ji.L==1)0<Bi&&Sw(is,Fa,Br,gr+4),rs.La&&Cw(is,Fa,Br,gr),0<Qs&&Aw(is,Fa,Br,gr+4),rs.La&&Tw(is,Fa,Br,gr);else{var ss=ji.B,Zs=ji.qa,xu=ji.ra+8*ba*ss+8*Bi,al=ji.Ha,ji=ji.Ia+8*ba*ss+8*Bi;ba=rs.ld,0<Bi&&(mi(is,Fa,Br,gr+4,as,ba),h0(Zs,xu,al,ji,ss,gr+4,as,ba)),rs.La&&(D1(is,Fa,Br,gr,as,ba),Ew(Zs,xu,al,ji,ss,gr,as,ba)),0<Qs&&(Xr(is,Fa,Br,gr+4,as,ba),rl(Zs,xu,al,ji,ss,gr+4,as,ba)),rs.La&&(_f(is,Fa,Br,gr,as,ba),bw(Zs,xu,al,ji,ss,gr,as,ba))}}if(kt.ia&&alert("todo:DitherRow"),yt.put!=null){if(qn=16*lr,lr=16*(lr+1),xi?(yt.y=kt.sa,yt.O=kt.ta+Hn,yt.f=kt.qa,yt.N=kt.ra+Pa,yt.ea=kt.Ha,yt.W=kt.Ia+Pa):(qn-=On,yt.y=Mi,yt.O=_a,yt.f=Mr,yt.N=Cn,yt.ea=na,yt.W=wa),yi||(lr-=On),lr>yt.o&&(lr=yt.o),yt.F=null,yt.J=null,kt.Fa!=null&&0<kt.Fa.length&&qn<lr&&(yt.J=ar(kt,yt,qn,lr-qn),yt.F=kt.mb,yt.F==null&&yt.F.length==0)){Kr=Dn(kt,3,"Could not decode alpha data.");break t}qn<yt.j&&(On=yt.j-qn,qn=yt.j,e(!(1&On)),yt.O+=kt.R*On,yt.N+=kt.B*(On>>1),yt.W+=kt.B*(On>>1),yt.F!=null&&(yt.J+=yt.width*On)),qn<lr&&(yt.O+=yt.v,yt.N+=yt.v>>1,yt.W+=yt.v>>1,yt.F!=null&&(yt.J+=yt.v),yt.ka=qn-yt.j,yt.U=yt.va-yt.v,yt.T=lr-qn,Kr=yt.put(yt))}fn+1!=kt.Ic||yi||(r(kt.sa,kt.ta-ln,Mi,_a+16*kt.R,ln),r(kt.qa,kt.ra-_r,Mr,Cn+8*kt.B,_r),r(kt.Ha,kt.Ia-_r,na,wa+8*kt.B,_r))}if(!Kr)return Dn(An,6,"Output aborted.")}return 1}(le,Ae)),Ae.bc!=null&&Ae.bc(Ae),Le&=1}return Le?(le.cb=0,Le):0})(h,k)||(m=h.a)}}else m=h.a}m==0&&G.Oa!=null&&G.Oa.fd&&(m=s0(G.ba))}G=m}W=G!=0?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var $w=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,F){for(var S="",D=0;D<4;D++)S+=String.fromCharCode(A[F++]);return S}function u(A,F){return A[F+0]|A[F+1]<<8}function d(A,F){return(A[F+0]|A[F+1]<<8|A[F+2]<<16)>>>0}function g(A,F){return(A[F+0]|A[F+1]<<8|A[F+2]<<16|A[F+3]<<24)>>>0}new l;var f=[0],x=[0],v=[],_=new l,y=t,T=function(A,F){var S={},D=0,P=!1,ue=0,me=0;if(S.frames=[],!function(N,j){for(var B=0;B<4;B++)if(N[j+B]!="RIFF".charCodeAt(B))return!0;return!1}(A,F)){for(g(A,F+=4),F+=8;F<A.length;){var de=c(A,F),we=g(A,F+=4);F+=4;var J=we+(1&we);switch(de){case"VP8 ":case"VP8L":S.frames[D]===void 0&&(S.frames[D]={}),(Ie=S.frames[D]).src_off=P?me:F-8,Ie.src_size=ue+we+8,D++,P&&(P=!1,ue=0,me=0);break;case"VP8X":(Ie=S.header={}).feature_flags=A[F];var ie=F+4;Ie.canvas_width=1+d(A,ie),ie+=3,Ie.canvas_height=1+d(A,ie),ie+=3;break;case"ALPH":P=!0,ue=J+8,me=F-8;break;case"ANIM":(Ie=S.header).bgcolor=g(A,F),ie=F+4,Ie.loop_count=u(A,ie),ie+=2;break;case"ANMF":var _e,Ie;(Ie=S.frames[D]={}).offset_x=2*d(A,F),F+=3,Ie.offset_y=2*d(A,F),F+=3,Ie.width=1+d(A,F),F+=3,Ie.height=1+d(A,F),F+=3,Ie.duration=d(A,F),F+=3,_e=A[F++],Ie.dispose=1&_e,Ie.blend=_e>>1&1}de!="ANMF"&&(F+=J)}return S}}(y,0);T.response=y,T.rgbaoutput=!0,T.dataurl=!1;var C=T.header?T.header:null,O=T.frames?T.frames:null;if(C){C.loop_counter=C.loop_count,f=[C.canvas_height],x=[C.canvas_width];for(var Y=0;Y<O.length&&O[Y].blend!=0;Y++);}var ae=O[0],L=_.WebPDecodeRGBA(y,ae.src_off,ae.src_size,x,f);ae.rgba=L,ae.imgwidth=x[0],ae.imgheight=f[0];for(var I=0;I<x[0]*f[0]*4;I++)v[I]=L[I];return this.width=x,this.height=f,this.data=v,this}(function(t){var e,n,r,i,a,s,o,l,c,u=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=N;Object.defineProperty(this,"pdf",{get:function(){return j}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(De){B=!!De}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(De){z=!!De}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(De){isNaN(De)||(Q=De)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(De){isNaN(De)||(he=De)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(De){var fe;typeof De=="number"?fe=[De,De,De,De]:((fe=new Array(4))[0]=De[0],fe[1]=De.length>=2?De[1]:fe[0],fe[2]=De.length>=3?De[2]:fe[0],fe[3]=De.length>=4?De[3]:fe[1]),c.margin=fe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(De){xe=De}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(De){pe=De}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(De){Ee=De}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(De){De instanceof u&&(c=De)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(De){c.path=De}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(De){He=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var fe;fe=g(De),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var fe=g(De);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var Ye=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(De){Ye=null,ot=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var fe;if(this.ctx.font=De,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var wt=fe[1];fe[2];var Ke=fe[3],xt=fe[4];fe[5];var Ve=fe[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(ft==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var st=function(jt){var St,vn,nn=[],Et=jt.trim();if(Et==="")return ay;if(Et in VA)return[VA[Et]];for(;Et!=="";){switch(vn=null,St=(Et=HA(Et)).charAt(0)){case'"':case"'":vn=gQ(Et.substring(1),St);break;default:vn=mQ(Et)}if(vn===null||(nn.push(vn[0]),(Et=HA(vn[1]))!==""&&Et.charAt(0)!==","))return ay;Et=Et.replace(/^,/,"")}return nn}(Ve);if(this.fontFaces){var Ht=function(jt,St){if(Ye===null){var vn=function(nn){var Et=[];return Object.keys(nn).forEach(function(qt){nn[qt].forEach(function(gn){var Bt=null;switch(gn){case"bold":Bt={family:qt,weight:"bold"};break;case"italic":Bt={family:qt,style:"italic"};break;case"bolditalic":Bt={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:qt}}Bt!==null&&(Bt.ref={name:qt,style:gn},Et.push(Bt))})}),Et}(jt.getFontList());Ye=function(nn){for(var Et={},qt=0;qt<nn.length;++qt){var gn=iy(nn[qt]),Bt=gn.family,en=gn.stretch,Gt=gn.style,Ln=gn.weight;Et[Bt]=Et[Bt]||{},Et[Bt][en]=Et[Bt][en]||{},Et[Bt][en][Gt]=Et[Bt][en][Gt]||{},Et[Bt][en][Gt][Ln]=gn}return Et}(vn.concat(St))}return Ye}(this.pdf,this.fontFaces),ke=st.map(function(jt){return{family:jt,stretch:"normal",weight:Ke,style:wt}}),ct=function(jt,St,vn){for(var nn=(vn=vn||{}).defaultFontFamily||"times",Et=Object.assign({},pQ,vn.genericFontFamilies||{}),qt=null,gn=null,Bt=0;Bt<St.length;++Bt)if(Et[(qt=iy(St[Bt])).family]&&(qt.family=Et[qt.family]),jt.hasOwnProperty(qt.family)){gn=jt[qt.family];break}if(!(gn=gn||jt[nn]))throw new Error("Could not find a font-family for the rule '"+zA(qt)+"' and default family '"+nn+"'.");if(gn=function(en,Gt){if(Gt[en])return Gt[en];var Ln=X5[en],zn=Ln<=X5.normal?-1:1,Kt=UA(Gt,sI,Ln,zn);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+en);return Kt}(qt.stretch,gn),gn=function(en,Gt){if(Gt[en])return Gt[en];for(var Ln=aI[en],zn=0;zn<Ln.length;++zn)if(Gt[Ln[zn]])return Gt[Ln[zn]];throw new Error("Could not find a matching font-style for "+en)}(qt.style,gn),!(gn=function(en,Gt){if(Gt[en])return Gt[en];if(en===400&&Gt[500])return Gt[500];if(en===500&&Gt[400])return Gt[400];var Ln=dQ[en],zn=UA(Gt,oI,Ln,en<400?-1:1);if(!zn)throw new Error("Could not find a matching font-weight for value "+en);return zn}(qt.weight,gn)))throw new Error("Failed to resolve a font for the rule '"+zA(qt)+"'.");return gn}(Ht,ke);this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var vt="";(Ke==="bold"||parseInt(Ke,10)>=700||wt==="bold")&&(vt="bold"),wt==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Lt="",tn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<st.length;_t++){if(this.pdf.internal.getFont(st[_t],vt,{noFallback:!0,disableWarning:!0})!==void 0){Lt=st[_t];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(st[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=st[_t],vt="bold";else if(this.pdf.internal.getFont(st[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=st[_t],vt="normal";break}}if(Lt===""){for(var Ct=0;Ct<st.length;Ct++)if(tn[st[Ct]]){Lt=tn[st[Ct]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,Ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,Ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};d.prototype.setLineDash=function(N){this.lineDash=N},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){O.call(this,"fill",!1)},d.prototype.stroke=function(){O.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(N,j){if(isNaN(N)||isNaN(j))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(N,j)},d.prototype.closePath=function(){var N=new s(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Xn(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){N=new s(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},d.prototype.lineTo=function(N,j){if(isNaN(N)||isNaN(j))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},d.prototype.quadraticCurveTo=function(N,j,B,z){if(isNaN(B)||isNaN(z)||isNaN(N)||isNaN(j))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(B,z)),he=this.ctx.transform.applyToPoint(new s(N,j));this.path.push({type:"qct",x1:he.x,y1:he.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},d.prototype.bezierCurveTo=function(N,j,B,z,Q,he){if(isNaN(Q)||isNaN(he)||isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(Q,he)),pe=this.ctx.transform.applyToPoint(new s(N,j)),Ee=this.ctx.transform.applyToPoint(new s(B,z));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ee.x,y2:Ee.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},d.prototype.arc=function(N,j,B,z,Q,he){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z)||isNaN(Q))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(N,j));N=xe.x,j=xe.y;var pe=this.ctx.transform.applyToPoint(new s(0,B)),Ee=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(pe.x-Ee.x,2)+Math.pow(pe.y-Ee.y,2))}Math.abs(Q-z)>=2*Math.PI&&(z=0,Q=2*Math.PI),this.path.push({type:"arc",x:N,y:j,radius:B,startAngle:z,endAngle:Q,counterclockwise:he})},d.prototype.arcTo=function(N,j,B,z,Q){throw new Error("arcTo not implemented.")},d.prototype.rect=function(N,j,B,z){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,j),this.lineTo(N+B,j),this.lineTo(N+B,j+z),this.lineTo(N,j+z),this.lineTo(N,j),this.lineTo(N+B,j),this.lineTo(N,j)},d.prototype.fillRect=function(N,j,B,z){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,j,B,z),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},d.prototype.strokeRect=function(N,j,B,z){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(N,j,B,z),this.stroke())},d.prototype.clearRect=function(N,j,B,z){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,j,B,z))},d.prototype.save=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(j),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(N){var j,B,z,Q;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))j=0,B=0,z=0,Q=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(he!==null)j=parseInt(he[1]),B=parseInt(he[2]),z=parseInt(he[3]),Q=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)j=parseInt(he[1]),B=parseInt(he[2]),z=parseInt(he[3]),Q=parseFloat(he[4]);else{if(Q=1,typeof N=="string"&&N.charAt(0)!=="#"){var xe=new Z7(N);N=xe.ok?xe.toHex():"#000000"}N.length===4?(j=N.substring(1,2),j+=j,B=N.substring(2,3),B+=B,z=N.substring(3,4),z+=z):(j=N.substring(1,3),B=N.substring(3,5),z=N.substring(5,7)),j=parseInt(j,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:j,g:B,b:z,a:Q,style:N}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(N,j,B,z){if(isNaN(j)||isNaN(B)||typeof N!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!f.call(this)){var Q=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:N,x:j,y:B,scale:he,angle:Q,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(N,j,B,z){if(isNaN(j)||isNaN(B)||typeof N!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){z=isNaN(z)?void 0:z;var Q=J(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:N,x:j,y:B,scale:he,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(N){if(typeof N!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,B=this.pdf.internal.scaleFactor,z=j.internal.getFontSize(),Q=j.getStringUnitWidth(N)*z/j.internal.scaleFactor;return new function(he){var xe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:Q*=Math.round(96*B/72*1e4)/1e4})},d.prototype.scale=function(N,j){if(isNaN(N)||isNaN(j))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(N,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.rotate=function(N){if(isNaN(N))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.translate=function(N,j){if(isNaN(N)||isNaN(j))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,N,j);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.transform=function(N,j,B,z,Q,he){if(isNaN(N)||isNaN(j)||isNaN(B)||isNaN(z)||isNaN(Q)||isNaN(he))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(N,j,B,z,Q,he);this.ctx.transform=this.ctx.transform.multiply(xe)},d.prototype.setTransform=function(N,j,B,z,Q,he){N=isNaN(N)?1:N,j=isNaN(j)?0:j,B=isNaN(B)?0:B,z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,he=isNaN(he)?0:he,this.ctx.transform=new l(N,j,B,z,Q,he)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(N,j,B,z,Q,he,xe,pe,Ee){var He=this.pdf.getImageProperties(N),Ye=1,ot=1,De=1,fe=1;z!==void 0&&pe!==void 0&&(De=pe/z,fe=Ee/Q,Ye=He.width/z*pe/z,ot=He.height/Q*Ee/Q),he===void 0&&(he=j,xe=B,j=0,B=0),z!==void 0&&pe===void 0&&(pe=z,Ee=Q),z===void 0&&pe===void 0&&(pe=He.width,Ee=He.height);for(var wt,Ke=this.ctx.transform.decompose(),xt=J(Ke.rotate.shx),Ve=new l,ft=(Ve=(Ve=(Ve=Ve.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new o(he-j*De,xe-B*fe,z*Ye,Q*ot)),st=_.call(this,ft),Ht=[],ke=0;ke<st.length;ke+=1)Ht.indexOf(st[ke])===-1&&Ht.push(st[ke]);if(C(Ht),this.autoPaging)for(var ct=Ht[0],vt=Ht[Ht.length-1],Lt=ct;Lt<vt+1;Lt++){this.pdf.setPage(Lt);var tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Lt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Lt===1?0:Ct+(Lt-2)*jt;if(this.ctx.clip_path.length!==0){var vn=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(wt,this.posX+this.margin[3],-St+_t+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=vn}var nn=JSON.parse(JSON.stringify(ft));nn=T([nn],this.posX+this.margin[3],-St+_t+this.ctx.prevPageLastElemOffset)[0];var Et=(Lt>ct||Lt<vt)&&v.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tn,jt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,xt),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,xt)};var _=function(N,j,B){var z=[];j=j||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":z.push(Math.floor((N.y+Q)/B)+1);break;case"arc":z.push(Math.floor((N.y+Q-N.radius)/B)+1),z.push(Math.floor((N.y+Q+N.radius)/B)+1);break;case"qct":var he=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);z.push(Math.floor((he.y+Q)/B)+1),z.push(Math.floor((he.y+he.h+Q)/B)+1);break;case"bct":var xe=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);z.push(Math.floor((xe.y+Q)/B)+1),z.push(Math.floor((xe.y+xe.h+Q)/B)+1);break;case"rect":z.push(Math.floor((N.y+Q)/B)+1),z.push(Math.floor((N.y+N.h+Q)/B)+1)}for(var pe=0;pe<z.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<z[pe];)y.call(this);return z},y=function(){var N=this.fillStyle,j=this.strokeStyle,B=this.font,z=this.lineCap,Q=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=j,this.font=B,this.lineCap=z,this.lineWidth=Q,this.lineJoin=he},T=function(N,j,B){for(var z=0;z<N.length;z++)switch(N[z].type){case"bct":N[z].x2+=j,N[z].y2+=B;case"qct":N[z].x1+=j,N[z].y1+=B;default:N[z].x+=j,N[z].y+=B}return N},C=function(N){return N.sort(function(j,B){return j-B})},O=function(N,j){for(var B,z,Q=this.fillStyle,he=this.strokeStyle,xe=this.lineCap,pe=this.lineWidth,Ee=Math.abs(pe*this.ctx.transform.scaleX),He=this.lineJoin,Ye=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),De=[],fe=0;fe<ot.length;fe++)if(ot[fe].x!==void 0)for(var wt=_.call(this,ot[fe]),Ke=0;Ke<wt.length;Ke+=1)De.indexOf(wt[Ke])===-1&&De.push(wt[Ke]);for(var xt=0;xt<De.length;xt++)for(;this.pdf.internal.getNumberOfPages()<De[xt];)y.call(this);if(C(De),this.autoPaging)for(var Ve=De[0],ft=De[De.length-1],st=Ve;st<ft+1;st++){this.pdf.setPage(st),this.fillStyle=Q,this.strokeStyle=he,this.lineCap=xe,this.lineWidth=Ee,this.lineJoin=He;var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=st===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=st===1?0:ct+(st-2)*vt;if(this.ctx.clip_path.length!==0){var tn=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(B,this.posX+this.margin[3],-Lt+ke+this.ctx.prevPageLastElemOffset),Y.call(this,N,!0),this.path=tn}if(z=JSON.parse(JSON.stringify(Ye)),this.path=T(z,this.posX+this.margin[3],-Lt+ke+this.ctx.prevPageLastElemOffset),j===!1||st===0){var _t=(st>Ve||st<ft)&&v.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,vt,null).clip().discardPath()),Y.call(this,N,j),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ee,Y.call(this,N,j),this.lineWidth=pe;this.path=Ye},Y=function(N,j){if((N!=="stroke"||j||!x.call(this))&&(N==="stroke"||j||!f.call(this))){for(var B,z,Q=[],he=this.path,xe=0;xe<he.length;xe++){var pe=he[xe];switch(pe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ee=Q.length;if(he[xe-1]&&!isNaN(he[xe-1].x)&&(B=[pe.x-he[xe-1].x,pe.y-he[xe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(Q[Ee-1].close!==!0&&Q[Ee-1].begin!==!0){Q[Ee-1].deltas.push(B),Q[Ee-1].abs.push(pe);break}}break;case"bct":B=[pe.x1-he[xe-1].x,pe.y1-he[xe-1].y,pe.x2-he[xe-1].x,pe.y2-he[xe-1].y,pe.x-he[xe-1].x,pe.y-he[xe-1].y],Q[Q.length-1].deltas.push(B);break;case"qct":var He=he[xe-1].x+2/3*(pe.x1-he[xe-1].x),Ye=he[xe-1].y+2/3*(pe.y1-he[xe-1].y),ot=pe.x+2/3*(pe.x1-pe.x),De=pe.y+2/3*(pe.y1-pe.y),fe=pe.x,wt=pe.y;B=[He-he[xe-1].x,Ye-he[xe-1].y,ot-he[xe-1].x,De-he[xe-1].y,fe-he[xe-1].x,wt-he[xe-1].y],Q[Q.length-1].deltas.push(B);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(pe)}}z=j?null:N==="stroke"?"stroke":"fill";for(var Ke=!1,xt=0;xt<Q.length;xt++)if(Q[xt].arc)for(var Ve=Q[xt].abs,ft=0;ft<Ve.length;ft++){var st=Ve[ft];st.type==="arc"?I.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,j,!Ke):P.call(this,st.x,st.y),Ke=!0}else if(Q[xt].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(Q[xt].begin!==!0){var Ht=Q[xt].start.x,ke=Q[xt].start.y;ue.call(this,Q[xt].deltas,Ht,ke),Ke=!0}z&&A.call(this,z),j&&F.call(this)}},ae=function(N){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-B;case"top":return N+j-B;case"hanging":return N+j-2*B;case"middle":return N+j/2-B;default:return N}},L=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(j,B){this.colorStops.push([j,B])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(N,j,B,z,Q,he,xe,pe,Ee){for(var He=de.call(this,B,z,Q,he),Ye=0;Ye<He.length;Ye++){var ot=He[Ye];Ye===0&&(Ee?S.call(this,ot.x1+N,ot.y1+j):P.call(this,ot.x1+N,ot.y1+j)),me.call(this,N,j,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}pe?F.call(this):A.call(this,xe)},A=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(N,j){this.pdf.internal.out(n(N)+" "+r(j)+" m")},D=function(N){var j;switch(N.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var B=this.pdf.getTextDimensions(N.text),z=ae.call(this,N.y),Q=L.call(this,z)-B.h,he=this.ctx.transform.applyToPoint(new s(N.x,z)),xe=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ee,He,Ye,ot=this.ctx.transform.applyToRectangle(new o(N.x,z,B.w,B.h)),De=pe.applyToRectangle(new o(N.x,Q,B.w,B.h)),fe=_.call(this,De),wt=[],Ke=0;Ke<fe.length;Ke+=1)wt.indexOf(fe[Ke])===-1&&wt.push(fe[Ke]);if(C(wt),this.autoPaging)for(var xt=wt[0],Ve=wt[wt.length-1],ft=xt;ft<Ve+1;ft++){this.pdf.setPage(ft);var st=ft===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],ct=ke-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],Lt=vt-this.margin[3],tn=ft===1?0:Ht+(ft-2)*ct;if(this.ctx.clip_path.length!==0){var _t=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Ee,this.posX+this.margin[3],-1*tn+st),Y.call(this,"fill",!0),this.path=_t}var Ct=T([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-tn+st+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*N.scale),Ye=this.lineWidth,this.lineWidth=Ye*N.scale);var jt=this.autoPaging!=="text";if(jt||Ct.y+Ct.h<=ke){if(jt||Ct.y>=st&&Ct.x<=vt){var St=jt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||vt-Ct.x)[0],vn=T([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-tn+st+this.ctx.prevPageLastElemOffset)[0],nn=jt&&(ft>xt||ft<Ve)&&v.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,ct,null).clip().discardPath()),this.pdf.text(St,vn.x,vn.y,{angle:N.angle,align:j,renderingMode:N.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else Ct.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-Ct.y);N.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ye)}else N.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*N.scale),Ye=this.lineWidth,this.lineWidth=Ye*N.scale),this.pdf.text(N.text,he.x+this.posX,he.y+this.posY,{angle:N.angle,align:j,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ye)},P=function(N,j,B,z){B=B||0,z=z||0,this.pdf.internal.out(n(N+B)+" "+r(j+z)+" l")},ue=function(N,j,B){return this.pdf.lines(N,j,B,null,null)},me=function(N,j,B,z,Q,he,xe,pe){this.pdf.internal.out([e(i(B+N)),e(a(z+j)),e(i(Q+N)),e(a(he+j)),e(i(xe+N)),e(a(pe+j)),"c"].join(" "))},de=function(N,j,B,z){for(var Q=2*Math.PI,he=Math.PI/2;j>B;)j-=Q;var xe=Math.abs(B-j);xe<Q&&z&&(xe=Q-xe);for(var pe=[],Ee=z?-1:1,He=j;xe>1e-5;){var Ye=He+Ee*Math.min(xe,he);pe.push(we.call(this,N,He,Ye)),xe-=Math.abs(Ye-He),He=Ye}return pe},we=function(N,j,B){var z=(B-j)/2,Q=N*Math.cos(z),he=N*Math.sin(z),xe=Q,pe=-he,Ee=xe*xe+pe*pe,He=Ee+xe*Q+pe*he,Ye=4/3*(Math.sqrt(2*Ee*He)-He)/(xe*he-pe*Q),ot=xe-Ye*pe,De=pe+Ye*xe,fe=ot,wt=-De,Ke=z+j,xt=Math.cos(Ke),Ve=Math.sin(Ke);return{x1:N*Math.cos(j),y1:N*Math.sin(j),x2:ot*xt-De*Ve,y2:ot*Ve+De*xt,x3:fe*xt-wt*Ve,y3:fe*Ve+wt*xt,x4:N*Math.cos(B),y4:N*Math.sin(B)}},J=function(N){return 180*N/Math.PI},ie=function(N,j,B,z,Q,he){var xe=N+.5*(B-N),pe=j+.5*(z-j),Ee=Q+.5*(B-Q),He=he+.5*(z-he),Ye=Math.min(N,Q,xe,Ee),ot=Math.max(N,Q,xe,Ee),De=Math.min(j,he,pe,He),fe=Math.max(j,he,pe,He);return new o(Ye,De,ot-Ye,fe-De)},_e=function(N,j,B,z,Q,he,xe,pe){var Ee,He,Ye,ot,De,fe,wt,Ke,xt,Ve,ft,st,Ht,ke,ct=B-N,vt=z-j,Lt=Q-B,tn=he-z,_t=xe-Q,Ct=pe-he;for(He=0;He<41;He++)xt=(wt=(Ye=N+(Ee=He/40)*ct)+Ee*((De=B+Ee*Lt)-Ye))+Ee*(De+Ee*(Q+Ee*_t-De)-wt),Ve=(Ke=(ot=j+Ee*vt)+Ee*((fe=z+Ee*tn)-ot))+Ee*(fe+Ee*(he+Ee*Ct-fe)-Ke),He==0?(ft=xt,st=Ve,Ht=xt,ke=Ve):(ft=Math.min(ft,xt),st=Math.min(st,Ve),Ht=Math.max(Ht,xt),ke=Math.max(ke,Ve));return new o(Math.round(ft),Math.round(st),Math.round(Ht-ft),Math.round(ke-st))},Ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,j,B=(N=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:j}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Mt.API),function(t){var e=function(s){var o,l,c,u,d,g,f,x,v,_;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(g=(d=((d=((d=((d=(d-(_=d%85))/85)-(v=d%85))/85)-(x=d%85))/85)-(f=d%85))/85)%85,l.push(g+33,f+33,x+33,v+33,_+33)):l.push(122);return function(y,T){for(var C=T;C>0;C--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,u,d,g=String,f="length",x=255,v="charCodeAt",_="slice",y="replace";for(s[_](-2),s=s[_](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[_](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(T,C){for(var O=C;O>0;O--)T.pop()}(c,o[f]),g.fromCharCode.apply(g,c)},r=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=z5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Mt.API),function(t){t.loadFile=function(e,n,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,g=0,f=function(x){var v=x.length,_=[],y=String.fromCharCode;for(g=0;g<v;g+=1)_.push(y(255&x.charCodeAt(g)));return _.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,a,s)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(Mt.API),function(t){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Uv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Uv(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Xn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var x=u[f],v=x.src.find(function(_){return _.format==="truetype"});v&&c.addFont(v.url,x.ref.name,x.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,d).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),g=c.call(d,o,l);return s.convert(g,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(o,l,c){if(Xn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,g=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var x,v=0,_=0;if(f.hasOwnProperty(g))v=f[g][1]/d,_=f[g][0]/d;else try{v=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>v&&(x=_,_=v,v=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>_&&(x=_,_=v,v=x)}return{width:_,height:v,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(iy):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Mt.API),Mt.API.addJS=function(t){return WA=t,this.internal.events.subscribe("postPutResources",function(){Dp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+WA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dp!==void 0&&qA!==void 0&&this.internal.out("/Names <</JavaScript "+Dp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=r.exec(s);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var d=n.internal.newObject();u.push(d);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<u.length;a++)n.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var g,f=256*d.charCodeAt(4)+d.charCodeAt(5),x=d.length,v={width:0,height:0,numcomponents:1},_=4;_<x;_+=2){if(_+=f,e.indexOf(d.charCodeAt(_+1))!==-1){g=256*d.charCodeAt(_+5)+d.charCodeAt(_+6),v={width:256*d.charCodeAt(_+7)+d.charCodeAt(_+8),height:g,numcomponents:d.charCodeAt(_+9)};break}f=256*d.charCodeAt(_+2)+d.charCodeAt(_+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Mt.API),Mt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=JK(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(I){for(var A=I.width,F=I.height,S=I.data,D=I.palette,P=I.depth,ue=!1,me=[],de=[],we=void 0,J=!1,ie=0,_e=0;_e<D.length;_e++){var Ie=XE(D[_e],4),N=Ie[0],j=Ie[1],B=Ie[2],z=Ie[3];me.push(N,j,B),z!=null&&(z===0?(ie++,de.length<1&&de.push(_e)):z<255&&(J=!0))}if(J||ie>1){ue=!0,de=void 0;var Q=A*F;we=new Uint8Array(Q);for(var he=new DataView(S.buffer),xe=0;xe<Q;xe++){var pe=sy(he,xe,P),Ee=XE(D[pe],4)[3];we[xe]=Ee}}else ie===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:S,alphaBytes:we,needSMask:ue,palette:me,mask:de}}(a):l===2||l===4?function(I){for(var A=I.data,F=I.width,S=I.height,D=I.channels,P=I.depth,ue=D===2?"DeviceGray":"DeviceRGB",me=D-1,de=F*S,we=me,J=de*we,ie=1*de,_e=Math.ceil(J*P/8),Ie=Math.ceil(ie*P/8),N=new Uint8Array(_e),j=new Uint8Array(Ie),B=new DataView(A.buffer),z=new DataView(N.buffer),Q=new DataView(j.buffer),he=!1,xe=0;xe<de;xe++){for(var pe=xe*D,Ee=0;Ee<we;Ee++)eS(z,sy(B,pe+Ee,P),xe*we+Ee,P);var He=sy(B,pe+we,P);He<(1<<P)-1&&(he=!0),eS(Q,He,1*xe,P)}return{colorSpace:ue,colorsPerPixel:me,sMaskBitsPerComponent:he?P:void 0,colorBytes:N,alphaBytes:j,needSMask:he}}(a):function(I){var A=I.data,F=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?function(S){for(var D=S.length,P=new Uint8Array(2*D),ue=new DataView(P.buffer,P.byteOffset,P.byteLength),me=0;me<D;me++)ue.setUint16(2*me,S[me],!1);return P}(A):A,needSMask:!1}}(a);var d,g,f,x=i,v=x.colorSpace,_=x.colorsPerPixel,y=x.sMaskBitsPerComponent,T=x.colorBytes,C=x.alphaBytes,O=x.needSMask,Y=x.palette,ae=x.mask,L=null;return r!==Mt.API.image_compression.NONE&&typeof z5=="function"?(L=function(I){var A;switch(I){case Mt.API.image_compression.FAST:A=11;break;case Mt.API.image_compression.MEDIUM:A=13;break;case Mt.API.image_compression.SLOW:A=14;break;default:A=12}return A}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=XA(T,Math.ceil(s*_*u/8),_,u,r),O&&(f=XA(C,Math.ceil(s*y/8),1,y,r))):(d=void 0,g=void 0,t=T,O&&(f=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:ae,palette:Y,sMask:f,predictor:L,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:v}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new _Q(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new oy(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Mt.API),to.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},to.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ur.log("bit decode error:"+n)}},to.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},to.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},to.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},to.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},to.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},to.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},to.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},to.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new to(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new oy(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Mt.API),nS.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new nS(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new oy(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Mt.API),Mt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],g=r[c+2],f=r[c+3];a[o++]=u,a[o++]=d,a[o++]=g,s[l++]=f}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},If=Mt.API,kp=If.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,g=0,f=t.length,x=0,v=o[0]||l,_=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(g=d&&Xn(c[r])==="object"&&!isNaN(parseInt(c[r][x],10))?c[r][x]/u:0,_.push((o[r]||v)/l+g)),x=r;return _},GA=If.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return If.processArabic&&(t=If.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:kp.apply(this,arguments).reduce(function(a,s){return a+s},0)},$A=function(t,e,n,r){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>r&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},YA=function(t,e,n){n||(n={});var r,i,a,s,o,l,c,u=[],d=[u],g=n.textIndent||0,f=0,x=0,v=t.split(" "),_=kp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),T=[];v.map(function(O){(O=O.split(/\s*\n/)).length>1?T=T.concat(O.map(function(Y,ae){return(ae&&Y.length?`
`:"")+Y})):T.push(O[0])}),v=T,l=GA.apply(this,[y,n])}for(a=0,s=v.length;a<s;a++){var C=0;if(r=v[a],l&&r[0]==`
`&&(r=r.substr(1),C=1),g+f+(x=(i=kp.apply(this,[r,n])).reduce(function(O,Y){return O+Y},0))>e||C){if(x>e){for(o=$A.apply(this,[r,i,e-(g+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);x=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(O,Y){return O+Y},0)}else u=[r];d.push(u),g=x+l,f=_}else u.push(r),g+=f+x,f=_}return c=l?function(O,Y){return(Y?y:"")+O.join(" ")}:function(O){return O.join(" ")},d.map(c)},If.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(YA.apply(this,[r[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var f,x,v,_,y=["{"];for(var T in g){if(f=g[T],isNaN(parseInt(T,10))?x="'"+T+"'":(T=parseInt(T,10),x=(x=s(T).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof f=="number")f<0?(v=s(f).slice(3),_="-"):(v=s(f).slice(2),_=""),v=_+v.slice(0,-1)+i[v.slice(-1)];else{if(Xn(f)!=="object")throw new Error("Don't know what to do with value type "+Xn(f)+".");v=o(f)}y.push(x+v)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,v,_,y={},T=1,C=y,O=[],Y="",ae="",L=g.length-1,I=1;I<L;I+=1)(_=g[I])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(O.push([C,v]),C={},v=void 0):_=="}"?((x=O.pop())[0][x[1]]=C,v=void 0,C=x[0]):_=="-"?T=-1:v===void 0?r.hasOwnProperty(_)?(Y+=r[_],v=parseInt(Y,16)*T,T=1,Y=""):Y+=_:r.hasOwnProperty(_)?(ae+=r[_],C[v]=parseInt(ae,16)*T,T=1,v=void 0,ae=""):ae+=_;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var f=g.font,x=d.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var v=u.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(Mt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(rg(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(Mt),Mt.API.addSvgAsImage=function(t,e,n,r,i,a,s,o){if(isNaN(e)||isNaN(n))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Jt.canvg?Promise.resolve(Jt.canvg):Uv(()=>import("./index.es-BRzLvCOi.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,o)})},Mt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Mt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function g(x,v){var _,y=!1;for(_=0;_<x.length;_+=1)x[_]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Xn(t)==="object"){for(i in t)if(a=t[i],g(o,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&g(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(r=!1);r===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?v.push("/"+x+" /"+n[x].value):v.push("/"+x+" "+n[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,g=a.length;d<g;++d){if(o=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(a){var s,o,l,c,u,d,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(o=Object.keys(a).sort(function(f,x){return f-x})).length;d<g;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",x=0;x<g.length;x++)f+=String.fromCharCode(g[x]);var v=c();u({data:f,addLength1:!0,objectId:v}),l("endobj");var _=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Vf(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Vf(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Vf(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,g="",f=0;f<d.length;f++)g+=String.fromCharCode(d[f]);var x=c();u({data:g,addLength1:!0,objectId:x}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Vf(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Vf(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},d=a.mutex||{},g=d.pdfEscape,f=d.activeFontKey,x=d.fonts,v=f,_="",y=0,T="",C=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(T=o,v=f,Array.isArray(o)&&(T=o[0]),y=0;y<T.length;y+=1)x[v].metadata.hasOwnProperty("cmap")&&(s=x[v].metadata.cmap.unicode.codeMap[T[y].charCodeAt(0)]),s||T[y].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?_+=T[y]:_+="";var O="";return parseInt(v.slice(1))<14||C==="WinAnsiEncoding"?O=g(_,v).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(O=n(_,x[v])),d.isHex=!0,{text:O,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,o,l,c,u,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,C=0;this.__bidiEngine__={};var O=function(S){var D=S.charCodeAt(),P=D>>8,ue=v[P];return ue!==void 0?d[256*ue+(255&D)]:P===252||P===253?"AL":y.test(P)?"L":P===8?"R":"N"},Y=function(S){for(var D,P=0;P<S.length;P++){if((D=O(S.charAt(P)))==="L")return!1;if(D==="R")return!0}return!1},ae=function(S,D,P,ue){var me,de,we,J,ie=D[ue];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(ie="AN");break;case"AL":T=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":ue<1||ue+1>=D.length||(me=P[ue-1])!=="EN"&&me!=="AN"||(de=D[ue+1])!=="EN"&&de!=="AN"?ie="N":T&&(de="AN"),ie=de===me?de:"N";break;case"ES":ie=(me=ue>0?P[ue-1]:"B")==="EN"&&ue+1<D.length&&D[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&P[ue-1]==="EN"){ie="EN";break}if(T){ie="N";break}for(we=ue+1,J=D.length;we<J&&D[we]==="ET";)we++;ie=we<J&&D[we]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(J=D.length,we=ue+1;we<J&&D[we]==="NSM";)we++;if(we<J){var _e=S[ue],Ie=_e>=1425&&_e<=2303||_e===64286;if(me=D[we],Ie&&(me==="R"||me==="AL")){ie="R";break}}}ie=ue<1||(me=D[ue-1])==="B"?"N":P[ue-1];break;case"B":T=!1,i=!0,ie=C;break;case"S":a=!0,ie="N"}return ie},L=function(S,D,P){var ue=S.split("");return P&&I(ue,P,{hiLevel:C}),ue.reverse(),D&&D.reverse(),ue.join("")},I=function(S,D,P){var ue,me,de,we,J,ie=-1,_e=S.length,Ie=0,N=[],j=C?f:g,B=[];for(T=!1,i=!1,a=!1,me=0;me<_e;me++)B[me]=O(S[me]);for(de=0;de<_e;de++){if(J=Ie,N[de]=ae(S,B,N,de),ue=240&(Ie=j[J][x[N[de]]]),Ie&=15,D[de]=we=j[Ie][5],ue>0)if(ue===16){for(me=ie;me<de;me++)D[me]=1;ie=-1}else ie=-1;if(j[Ie][6])ie===-1&&(ie=de);else if(ie>-1){for(me=ie;me<de;me++)D[me]=we;ie=-1}B[de]==="B"&&(D[de]=0),P.hiLevel|=we}a&&function(z,Q,he){for(var xe=0;xe<he;xe++)if(z[xe]==="S"){Q[xe]=C;for(var pe=xe-1;pe>=0&&z[pe]==="WS";pe--)Q[pe]=C}}(B,D,_e)},A=function(S,D,P,ue,me){if(!(me.hiLevel<S)){if(S===1&&C===1&&!i)return D.reverse(),void(P&&P.reverse());for(var de,we,J,ie,_e=D.length,Ie=0;Ie<_e;){if(ue[Ie]>=S){for(J=Ie+1;J<_e&&ue[J]>=S;)J++;for(ie=Ie,we=J-1;ie<we;ie++,we--)de=D[ie],D[ie]=D[we],D[we]=de,P&&(de=P[ie],P[ie]=P[we],P[we]=de);Ie=J}Ie++}}},F=function(S,D,P){var ue=S.split(""),me={hiLevel:C};return P||(P=[]),I(ue,P,me),function(de,we,J){if(J.hiLevel!==0&&u)for(var ie,_e=0;_e<de.length;_e++)we[_e]===1&&(ie=_.indexOf(de[_e]))>=0&&(de[_e]=_[ie+1])}(ue,P,me),A(2,ue,D,P,me),A(1,ue,D,P,me),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(S,D,P){if(function(me,de){if(de)for(var we=0;we<me.length;we++)de[we]=we;o===void 0&&(o=Y(me)),c===void 0&&(c=Y(me))}(S,D),s||!l||c)if(s&&l&&o^c)C=o?1:0,S=L(S,D,P);else if(!s&&l&&c)C=o?1:0,S=F(S,D,P),S=L(S,D);else if(!s||o||l||c){if(s&&!l&&o^c)S=L(S,D),o?(C=0,S=F(S,D,P)):(C=1,S=F(S,D,P),S=L(S,D));else if(s&&o&&!l&&c)C=1,S=F(S,D,P),S=L(S,D);else if(!s&&!l&&o^c){var ue=u;o?(C=1,S=F(S,D,P),C=0,u=!1,S=F(S,D,P),u=ue):(C=0,S=F(S,D,P),S=L(S,D),C=1,u=!1,S=F(S,D,P),u=ue,S=L(S,D))}}else C=0,S=F(S,D,P);else C=o?1:0,S=F(S,D,P);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([n.doBidiReorder(i[o])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new tu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new PQ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new wQ(this.contents),this.head=new EQ(this),this.name=new NQ(this),this.cmap=new cI(this),this.toUnicode={},this.hhea=new AQ(this),this.maxp=new RQ(this),this.hmtx=new IQ(this),this.post=new TQ(this),this.os2=new SQ(this),this.loca=new OQ(this),this.glyf=new LQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ho,tu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),wQ=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,o,l,c,u,d,g,f,x,v;for(v in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),s=Math.floor(d/l),u=16*f-d,(i=new tu).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(s),i.writeShort(u),a=16*f,c=i.pos+a,o=null,x=[],n)for(g=n[v],i.writeString(v),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),x=x.concat(g),v==="head"&&(o=c),c+=g.length;c%4;)x.push(0),c++;return i.write(x),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=uI.call(n);n.length%4;)n.push(0);for(a=new tu(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),bQ={}.hasOwnProperty,$o=function(t,e){for(var n in e)bQ.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ho=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var EQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new tu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),rS=function(){function t(e,n){var r,i,a,s,o,l,c,u,d,g,f,x,v,_,y,T,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,a=function(){var O,Y;for(Y=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Y.push(e.readUInt16());return Y}(),e.pos+=2,v=function(){var O,Y;for(Y=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Y.push(e.readUInt16());return Y}(),c=function(){var O,Y;for(Y=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Y.push(e.readUInt16());return Y}(),u=function(){var O,Y;for(Y=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Y.push(e.readUInt16());return Y}(),i=(this.length-e.pos+this.offset)/2,o=function(){var O,Y;for(Y=[],l=O=0;0<=i?O<i:O>i;l=0<=i?++O:--O)Y.push(e.readUInt16());return Y}(),l=y=0,C=a.length;y<C;l=++y)for(_=a[l],r=T=x=v[l];x<=_?T<=_:T>=_;r=x<=_?++T:--T)u[l]===0?s=r+c[l]:(s=o[u[l]/2+(r-x)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=d}return t.encode=function(e,n){var r,i,a,s,o,l,c,u,d,g,f,x,v,_,y,T,C,O,Y,ae,L,I,A,F,S,D,P,ue,me,de,we,J,ie,_e,Ie,N,j,B,z,Q,he,xe,pe,Ee,He,Ye;switch(ue=new tu,s=Object.keys(e).sort(function(ot,De){return ot-De}),n){case"macroman":for(v=0,_=function(){var ot=[];for(x=0;x<256;++x)ot.push(0);return ot}(),T={0:0},a={},me=0,ie=s.length;me<ie;me++)T[pe=e[i=s[me]]]==null&&(T[pe]=++v),a[i]={old:e[i],new:T[e[i]]},_[i]=T[e[i]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(_),{charMap:a,subtable:ue.data,maxGlyphID:v+1};case"unicode":for(D=[],d=[],C=0,T={},r={},y=c=null,de=0,_e=s.length;de<_e;de++)T[Y=e[i=s[de]]]==null&&(T[Y]=++C),r[i]={old:Y,new:T[Y]},o=T[Y]-i,y!=null&&o===c||(y&&d.push(y),D.push(i),c=o),y=i;for(y&&d.push(y),d.push(65535),D.push(65535),F=2*(A=D.length),I=2*Math.pow(Math.log(A)/Math.LN2,2),g=Math.log(I/2)/Math.LN2,L=2*A-I,l=[],ae=[],f=[],x=we=0,Ie=D.length;we<Ie;x=++we){if(S=D[x],u=d[x],S===65535){l.push(0),ae.push(0);break}if(S-(P=r[S].new)>=32768)for(l.push(0),ae.push(2*(f.length+A-x)),i=J=S;S<=u?J<=u:J>=u;i=S<=u?++J:--J)f.push(r[i].new);else l.push(P-S),ae.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*A+2*f.length),ue.writeUInt16(0),ue.writeUInt16(F),ue.writeUInt16(I),ue.writeUInt16(g),ue.writeUInt16(L),he=0,N=d.length;he<N;he++)i=d[he],ue.writeUInt16(i);for(ue.writeUInt16(0),xe=0,j=D.length;xe<j;xe++)i=D[xe],ue.writeUInt16(i);for(Ee=0,B=l.length;Ee<B;Ee++)o=l[Ee],ue.writeUInt16(o);for(He=0,z=ae.length;He<z;He++)O=ae[He],ue.writeUInt16(O);for(Ye=0,Q=f.length;Ye<Q;Ye++)v=f[Ye],ue.writeUInt16(v);return{charMap:r,subtable:ue.data,maxGlyphID:C+1}}},t}(),cI=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new rS(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=rS.encode(e,n),(i=new tu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),AQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),SQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),TQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),CQ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,o,l,c,u,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,d=r.length;u<d;a=++u)i=r[a],e.pos=i.offset,c=e.readString(i.length),s=new CQ(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),RQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),IQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,d,g;for(g=[],c=0,u=(d=this.metrics).length;c<u;c++)a=d[c],g.push(a.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),uI=[].slice,LQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,o,l,c,u,d;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(o=new tu(n.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new kQ(o,c,d,l,u):new DQ(o,s,c,d,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,o,l;for(s=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),DQ=function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),kQ=function(){function t(e,n,r,i,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new tu(uI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),OQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return $o(t,ho),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),PQ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,o,l,c,u,d,g,f,x,v,_,y;for(i in r=cI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(x in g=r.maxGlyphID,s)x in f||(f[x]=g++);return u=function(T){var C,O;for(C in O={},T)O[T[C]]=C;return O}(f),d=Object.keys(u).sort(function(T,C){return T-C}),v=function(){var T,C,O;for(O=[],T=0,C=d.length;T<C;T++)o=d[T],O.push(u[o]);return O}(),a=this.font.glyf.encode(s,v,f),c=this.font.loca.encode(a.offsets,v),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Mt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();function fI(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,c=o*l,u=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(u):t,g=d.length||1),n+=o*(2-a),r.valign==="middle"?n-=g/2*c:r.valign==="bottom"&&(n-=g*c),r.halign==="center"||r.halign==="right"){var f=o;if(r.halign==="center"&&(f*=.5),d&&g>=1){for(var x=0;x<d.length;x++)i.text(d[x],e-i.getStringUnitWidth(d[x])*f,n),n+=c;return i}e-=i.getStringUnitWidth(t)*f}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var iS={},xh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:iS=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return iS||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),K5=function(t,e){return K5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},K5(t,e)};function hI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var dI=function(t){hI(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function FQ(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MQ(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function ym(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function pI(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=gI(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function gI(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function y2(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function mI(t,e){var n=y2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function BQ(t,e,n,r,i){var a={},s=1.3333333333333333,o=ly(e,function(C){return i.getComputedStyle(C).backgroundColor});o!=null&&(a.fillColor=o);var l=ly(e,function(C){return i.getComputedStyle(C).color});l!=null&&(a.textColor=l);var c=UQ(r,n);c&&(a.cellPadding=c);var u="borderTopColor",d=s*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var f=(parseFloat(g)||0)/d;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var x=ly(e,function(C){return i.getComputedStyle(C)[u]});x!=null&&(a.lineColor=x);var v=["left","right","center","justify"];v.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),v=["middle","bottom","top"],v.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var _=parseInt(r.fontSize||"");isNaN(_)||(a.fontSize=_/s);var y=jQ(r);y&&(a.fontStyle=y);var T=(r.fontFamily||"").toLowerCase();return t.indexOf(T)!==-1&&(a.font=T),a}function jQ(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function ly(t,e){var n=vI(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function vI(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:vI(t.parentElement,e):n}function UQ(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(o){return parseInt(o||"0")/r}),s=y2(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function yI(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],d=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:g};for(var f=0;f<o.rows.length;f++){var x=o.rows[f],v=(s=(a=x==null?void 0:x.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),_=VQ(l,c,n,x,r,i);_&&(v==="thead"?u.push(_):v==="tfoot"?g.push(_):d.push(_))}return{head:u,body:d,foot:g}}function VQ(t,e,n,r,i,a){for(var s=new dI(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;a&&(u=BQ(t,l,e,c,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:zQ(l)})}}var d=n.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function zQ(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function HQ(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function _l(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function qQ(t,e){var n=new xh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();HQ(i,r,e);var a=_l({},i,r,e),s;typeof window<"u"&&(s=window);var o=WQ(i,r,e),l=GQ(i,r,e),c=$Q(n,a),u=XQ(n,a,s);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function WQ(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],d=n[l];r.columnStyles=_l({},c,u,d)}else{var g=[t,e,n],f=g.map(function(x){return x[l]||{}});r[l]=_l({},f[0],f[1],f[2])}},a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i(o)}return r}function GQ(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function $Q(t,e){var n,r,i,a,s,o,l,c,u,d,g,f,x=y2(e.margin,40/t.scaleFactor()),v=(n=YQ(t,e.startY))!==null&&n!==void 0?n:x.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var T=(a=e.useCss)!==null&&a!==void 0?a:!1,C=e.theme||(T?"plain":"striped"),O=!!e.horizontalPageBreak,Y=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:T,theme:C,startY:v,margin:x,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:_,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:O,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function YQ(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function XQ(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var o=yI(t,e.html,n,s,e.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||KQ(r,i,a);return{columns:l,head:r,body:i,foot:a}}function KQ(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(r)?o=r[parseInt(a)]:o=r[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(r)?c=i.length:c=a+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var Q5=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),QQ=function(t){hI(e,t);function e(n,r,i,a,s,o){var l=t.call(this,n,r,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e}(Q5),ZQ=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var o=0,l=n;o<l.length;o++){var c=l[o],u=new QQ(e,this,r,i,a,s),d=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Q5(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Q5(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),xI=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof dI&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var o=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>i?c:i},0)},t}(),_I=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=y2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),JQ=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function eZ(t,e){tZ(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=Z5(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Z5(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),rZ(e),iZ(e,t),nZ(e)}function tZ(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=mI(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,a,l,null);var d=c.padding("horizontal");c.contentWidth=ym(c.text,c.styles,t)+d;var g=ym(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function Z5(t,e,n){for(var r=e,i=t.reduce(function(f,x){return f+x.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=r*o,c=s.width+l,u=n(s),d=c<u?u:c;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(f){return e<0?f.width>n(f):!0});g.length&&(e=Z5(g,e,n))}return e}function nZ(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,n=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=a.cells[l.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var d=r.length-i,g=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:g,row:a}}}}}function rZ(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+a}else{var c=r.cells[l.index];if(!c)continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}function iZ(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=aS(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=aS(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<g*c.rowSpan?n={height:g,count:c.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>a.height&&(a.height=g)}}n.count--}}function aS(t,e,n,r,i){return t.map(function(a){return aZ(a,e,n,r,i)})}function aZ(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=ym(t,n,r))return t;for(;e<ym(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function sZ(t,e){var n=new xh(t),r=oZ(e,n.scaleFactor()),i=new ZQ(e,r);return eZ(n,i),n.applyStyles(n.userStyles),i}function oZ(t,e){var n=t.content,r=cZ(n.columns);if(n.head.length===0){var i=sS(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=sS(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:cy("head",n.head,r,s,a,e),body:cy("body",n.body,r,s,a,e),foot:cy("foot",n.foot,r,s,a,e)}}function cy(t,e,n,r,i,a){var s={},o=e.map(function(l,c){for(var u=0,d={},g=0,f=0,x=0,v=n;x<v.length;x++){var _=v[x];if(s[_.index]==null||s[_.index].left===0)if(f===0){var y=void 0;Array.isArray(l)?y=l[_.index-g-u]:y=l[_.dataKey];var T={};typeof y=="object"&&!Array.isArray(y)&&(T=(y==null?void 0:y.styles)||{});var C=uZ(t,_,c,i,r,a,T),O=new _I(y,C,t);d[_.dataKey]=O,d[_.index]=O,f=O.colSpan-1,s[_.index]={left:O.rowSpan-1,times:f}}else f--,g++;else s[_.index].left--,f=s[_.index].times,u++}return new xI(l,c,t,d)});return o}function sS(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=lZ(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function lZ(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function cZ(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new JQ(i,e,n)})}function uZ(t,e,n,r,i,a,s){var o=MQ(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=_l({},o.table,o[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?u:{},g=t==="body"&&n%2===0?_l({},o.alternateRow,i.alternateRowStyles):{},f=FQ(a),x=_l({},f,c,g,d);return _l(x,s)}function fZ(t,e,n){var r;n===void 0&&(n={});var i=mI(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var f=e.columns.find(function(x){return x.dataKey===g||x.index===g});f&&!a.has(f.index)&&(a.set(f.index,!0),s.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var c=!0,u=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;u<e.columns.length;){if(a.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||i>=d)c=!1,s.push(u),o.push(e.columns[u]),i-=d;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function hZ(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=fZ(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function dZ(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(g,f){return g+f.height},0);o+=c}var u=new xh(t);(n.pageBreak==="always"||n.startY!=null&&o>u.pageSize().height)&&(bI(u),a.y=i.top),e.callWillDrawPageHooks(u,a);var d=_l({},a);e.startPageNumber=u.pageNumber(),n.horizontalPageBreak?pZ(u,e,d,a):(u.applyStyles(u.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return Bl(u,e,g,a,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(g,f){var x=f===e.body.length-1;xm(u,e,g,x,d,a,e.columns)}),u.applyStyles(u.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return Bl(u,e,g,a,e.columns)})),pI(u,e,d,a),e.callEndPageHooks(u,a),e.finalY=a.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function pZ(t,e,n,r){var i=hZ(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?md(t,e,n,r,c.columns,!0):oS(t,e,r,c.columns),gZ(t,e,n,r,c.columns),uy(t,e,r,c.columns)});else for(var s=-1,o=i[0],l=function(){var c=s;if(o){t.applyStyles(t.userStyles);var u=o.columns;s>=0?md(t,e,n,r,u,!0):oS(t,e,r,u),c=lS(t,e,s+1,r,u),uy(t,e,r,u)}var d=c-s;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),md(t,e,n,r,g.columns,!0),lS(t,e,s+1,r,g.columns,d),uy(t,e,r,g.columns)}),s=c};s<e.body.length-1;)l()}function oS(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Bl(t,e,a,n,r)})}function gZ(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;xm(t,e,a,o,n,r,i)})}function lS(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),o=-1;return e.body.slice(n,s).forEach(function(l,c){var u=n+c===e.body.length-1,d=wI(t,e,u,r);l.canEntireRowFit(d,i)&&(Bl(t,e,l,r,i),o=n+c)}),o}function uy(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Bl(t,e,a,n,r)})}function mZ(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function vZ(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new _I(c.raw,c.styles,c.section);u=_l(u,c),u.text=[];var d=mZ(c,e,r);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var g=r.scaleFactor(),f=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,f),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(g,f),u.contentHeight>a&&(a=u.contentHeight),i[l.index]=u}}var x=new xI(t.raw,-1,t.section,i,!0);x.height=a;for(var v=0,_=n.columns;v<_.length;v++){var l=_[v],u=x.cells[l.index];u&&(u.height=x.height);var c=t.cells[l.index];c&&(c.height=t.height)}return x}function yZ(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>o;return d?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function xm(t,e,n,r,i,a,s){var o=wI(t,e,r,a);if(n.canEntireRowFit(o,s))Bl(t,e,n,a,s);else if(yZ(t,n,o,e)){var l=vZ(n,o,e,t);Bl(t,e,n,a,s),md(t,e,i,a,s),xm(t,e,l,r,i,a,s)}else md(t,e,i,a,s),xm(t,e,n,r,i,a,s)}function Bl(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(!l){r.x+=o.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,o,r);if(c===!1){r.x+=o.width;continue}xZ(t,l,r);var u=l.getTextPos();fI(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,o,r),r.x+=o.width}r.y+=n.height}function xZ(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=gI(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),_Z(t,e,n,r.lineWidth))}function _Z(t,e,n,r){var i,a,s,o;r.top&&(i=n.x,a=n.y,s=n.x+e.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,o=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,o=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o));function l(c,u,d,g,f){t.getDocument().setLineWidth(c),t.getDocument().line(u,d,g,f,"S")}}function wI(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function md(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return Bl(t,e,o,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;pI(t,e,n,r),bI(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Bl(t,e,o,r,i)}),t.applyStyles(t.userStyles))}function bI(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function wZ(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=qQ(this,r),a=sZ(this,i);return dZ(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){fI(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return xh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){xh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new xh(this),a=yI(i,e,window,n,!1),s=a.head,o=a.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var fy;try{if(typeof window<"u"&&window){var cS=window,uS=cS.jsPDF||((fy=cS.jspdf)===null||fy===void 0?void 0:fy.jsPDF);uS&&wZ(uS)}}catch(t){console.error("Could not apply autoTable plugin",t)}function bZ(){var Ka,Qa;const[t,e]=ge.useState([]),[n,r]=ge.useState([]),[i,a]=ge.useState([]),[s,o]=ge.useState(!1),[l,c]=ge.useState(""),[u,d]=ge.useState(!1),[g,f]=ge.useState("dia"),[x,v]=ge.useState("resumen"),[_,y]=ge.useState({nombre:"",precio:"",ingredientes:"",imagen:"",disponible:!0,categoria:""}),[T,C]=ge.useState(!1),[O,Y]=ge.useState(!1),[ae,L]=ge.useState(null),I=ge.useRef([]),[A,F]=ge.useState(null),[S,D]=ge.useState(0),[P,ue]=ge.useState(!0),[me,de]=ge.useState({desde:"",hasta:"",mesa:"",q:""}),[we,J]=ge.useState({totalHoy:0,totalMes:0,promedioDiario:0,topPlatos:[],crecimientoMes:0}),[ie,_e]=ge.useState([]),[Ie,N]=ge.useState(!1),[j,B]=ge.useState(0),z=ge.useRef([]),[Q,he]=ge.useState(!1),[xe,pe]=ge.useState(null),[Ee,He]=ge.useState(null),[Ye,ot]=ge.useState([]),[De,fe]=ge.useState(!1),[wt,Ke]=ge.useState(0),xt=ge.useRef([]),[Ve,ft]=ge.useState(null),[st,Ht]=ge.useState(""),[ke,ct]=ge.useState(null),[vt,Lt]=ge.useState([]),[tn,_t]=ge.useState(""),[Ct,jt]=ge.useState(null),[St,vn]=ge.useState(""),[nn,Et]=ge.useState(""),[qt,gn]=ge.useState([]),[Bt,en]=ge.useState([]),[Gt,Ln]=ge.useState(!1),[zn,Kt]=ge.useState(0);ge.useEffect(()=>{const q=No(jr(rn,"pedidos"),Te=>{e(Te.docs.map(Se=>({id:Se.id,...Se.data()})))}),ye=No(jr(rn,"menu"),Te=>{r(Te.docs.map(Se=>({id:Se.id,...Se.data()})))});return()=>{q(),ye()}},[]),ge.useEffect(()=>{const q=eg(jr(rn,"llamadasCocina"),Cv("timestamp","desc")),ye=No(q,Te=>{const Se=Te.docs.map(at=>({id:at.id,...at.data()}));_e(Se);const Ue=Se.filter(at=>!at.atendida).length;B(Ue)});return()=>ye()},[]),ge.useEffect(()=>{const q=eg(jr(rn,"llamadasMesero"),Cv("fecha","desc")),ye=No(q,Te=>{const Se=Te.docs.map(at=>({id:at.id,...at.data()}));ot(Se);const Ue=Se.filter(at=>!at.atendido).length;Ke(Ue)});return()=>ye()},[]),ge.useEffect(()=>{console.log(" Iniciando listener de respuestas de cocina...");const q=eg(jr(rn,"comunicacionCocinaAdmin"),Cv("timestampRespuesta","desc")),ye=No(q,Te=>{console.log(" Snapshot respuestas recibido:",Te.docs.length,"documentos");const Se=Te.docs.map(at=>({id:at.id,...at.data()}));console.log(" Todas las respuestas:",Se),gn(Se);const Ue=Se.filter(at=>(at.estado==="aceptado"||at.estado==="rechazado")&&!at.vistoPorAdmin).length;Kt(Ue),console.log(" Respuestas no vistas:",Ue),Se.forEach(at=>{if((at.estado==="aceptado"||at.estado==="rechazado")&&!at.vistoPorAdmin){const Ot=at.estado==="aceptado"?` Mesa ${at.mesa}: Cambio confirmado por cocina`:` Mesa ${at.mesa}: Cambio rechazado - ${at.motivoRechazo}`;console.log(" Creando notificacin:",Ot),Vt(Ot,at.estado,at.id),hn(at.id)}})},Te=>{console.error(" Error en listener de respuestas:",Te)});return()=>{console.log(" Cerrando listener de respuestas"),ye()}},[]);const Vt=(q,ye,Te)=>{const Se={id:Date.now(),mensaje:q,tipo:ye,respuestaId:Te,timestamp:new Date().toLocaleTimeString()};console.log(" Agregando notificacin admin:",Se),en(Ue=>[Se,...Ue.slice(0,4)]),P&&(Ir(150,900,.2,"triangle"),setTimeout(()=>Ir(150,900,.2,"triangle"),200)),setTimeout(()=>{en(Ue=>Ue.filter(at=>at.id!==Se.id))},1e4)},hn=async q=>{try{console.log(" Marcando respuesta como vista:",q);const ye=Tr(rn,"comunicacionCocinaAdmin",q);await Vi(ye,{vistoPorAdmin:!0,fechaVistoPorAdmin:new Date}),console.log(" Respuesta marcada como vista")}catch(ye){console.error(" Error al marcar respuesta como vista:",ye)}},ii=async(q,ye,Te,Se={})=>{try{console.log(" Creando notificacin para cocina..."),console.log(" PedidoId:",q),console.log(" Tipo:",ye),console.log(" Descripcin:",Te);const Ue=t.find(yn=>yn.id===q);if(!Ue){console.error(" Pedido no encontrado:",q);return}const at={pedidoId:q,mesa:Ue.mesa,tipoCambio:ye,descripcion:Te,estado:"pendiente",fechaCreacion:new Date,timestampCreacion:Date.now(),...Se};console.log(" Datos de notificacin:",at);const Ot=await xl(jr(rn,"comunicacionCocinaAdmin"),at);return console.log(" Notificacin creada con ID:",Ot.id),Ot.id}catch(Ue){throw console.error(" Error creando notificacin para cocina:",Ue),Ue}},Rr=q=>{switch(q){case"aceptado":return{bg:"#d4edda",border:"#28a745",text:"#155724"};case"rechazado":return{bg:"#f8d7da",border:"#dc3545",text:"#721c24"};default:return{bg:"#e2e3e5",border:"#6c757d",text:"#383d41"}}};ge.useEffect(()=>{const q=n.filter(ye=>ye.disponible&&ye.nombre.toLowerCase().includes(tn.toLowerCase()));Lt(q)},[n,tn]),ge.useEffect(()=>{const q=xt.current||[],ye=new Set(q.map(Te=>Te.id));Ye.forEach(Te=>{!ye.has(Te.id)&&!Te.atendido&&(P&&(Ir(250,800,.2,"sine"),setTimeout(()=>Ir(250,800,.2,"sine"),300),setTimeout(()=>Ir(250,800,.2,"sine"),600)),F(` Mesa ${Te.mesa} llama al mesero!`),fe(!0))}),xt.current=Ye},[Ye,P]),ge.useEffect(()=>{const q=z.current||[],ye=new Set(q.map(Te=>Te.id));ie.forEach(Te=>{!ye.has(Te.id)&&!Te.atendida&&(P&&(Ir(300,660,.18,"square"),setTimeout(()=>Ir(300,660,.18,"square"),350)),F(" COCINA TE LLAMA!"),N(!0))}),z.current=ie},[ie,P]);const Ir=(q=120,ye=880,Te=.15,Se="sine")=>{try{const Ue=window.AudioContext||window.webkitAudioContext;if(!Ue)return;const at=new Ue,Ot=at.createOscillator(),yn=at.createGain();Ot.type=Se,Ot.frequency.value=ye,yn.gain.value=Te,Ot.connect(yn),yn.connect(at.destination),Ot.start(),setTimeout(()=>{Ot.stop(),setTimeout(()=>{at.close&&at.close()},50)},q)}catch(Ue){console.error("Error reproduciendo beep:",Ue)}},Wr=async q=>{try{await Vi(Tr(rn,"llamadasCocina",q),{atendida:!0,atendidaAt:new Date().toISOString()}),F(" Llamada marcada como atendida")}catch(ye){console.error("Error al atender llamada:",ye),alert(" Error al marcar como atendida")}},Ut=async q=>{if(confirm("Eliminar esta llamada?"))try{await uc(Tr(rn,"llamadasCocina",q)),F(" Llamada eliminada")}catch(ye){console.error("Error al eliminar llamada:",ye),alert(" Error al eliminar llamada")}},pa=async q=>{try{await Vi(Tr(rn,"llamadasMesero",q),{atendido:!0,atendidoAt:new Date().toISOString()}),F(" Llamada de mesero atendida")}catch(ye){console.error("Error al atender llamada de mesero:",ye),alert(" Error al marcar como atendida")}},Si=async q=>{if(confirm("Eliminar esta llamada de mesero?"))try{await uc(Tr(rn,"llamadasMesero",q)),F(" Llamada de mesero eliminada")}catch(ye){console.error("Error al eliminar llamada de mesero:",ye),alert(" Error al eliminar llamada")}},Gr=async(q,ye)=>{try{console.log(" Agregando plato al pedido..."),console.log(" PedidoId:",q),console.log(" Plato:",ye);const Te=t.find(yn=>yn.id===q);if(!Te){console.error(" Pedido no encontrado");return}const Se=[...Te.items||[]],Ue=Se.findIndex(yn=>yn.nombre===ye.nombre&&!yn.ingredientesPersonalizados&&(!yn.extras||yn.extras.length===0));let at="",Ot=null;if(Ue!==-1)Se[Ue].cantidad=(Se[Ue].cantidad||1)+1,Se[Ue].modificadoPorAdmin=!0,Se[Ue].fechaModificacion=new Date().toISOString(),at=`Cantidad aumentada: ${ye.nombre} (ahora ${Se[Ue].cantidad})`,Ot={nombre:ye.nombre,indice:Ue,cantidadAnterior:Se[Ue].cantidad-1,cantidadNueva:Se[Ue].cantidad};else{const yn={nombre:ye.nombre,precio:ye.precio,precioBase:ye.precio,cantidad:1,extras:[],ingredientesPersonalizados:"",modificadoPorAdmin:!0,fechaModificacion:new Date().toISOString()};Se.push(yn),at=`Plato agregado: ${ye.nombre}`,Ot={nombre:ye.nombre,indice:Se.length-1,esNuevo:!0}}await Vi(Tr(rn,"pedidos",q),{items:Se,ultimaModificacion:new Date}),console.log(" Pedido actualizado correctamente"),await ii(q,Ue!==-1?"cantidad_aumentada":"plato_agregado",at,{itemAfectado:Ot}),F(` "${ye.nombre}" ${Ue!==-1?"cantidad aumentada":"agregado"} al pedido de Mesa ${Te.mesa}. Esperando confirmacin de cocina.`)}catch(Te){console.error(" Error al agregar plato:",Te),alert(" Error al agregar plato al pedido: "+Te.message)}},ai=async(q,ye)=>{try{console.log(" Eliminando plato del pedido..."),console.log(" PedidoId:",q),console.log(" ItemIndex:",ye);const Te=t.find(at=>at.id===q);if(!Te||!Te.items[ye]){console.error(" Pedido o item no encontrado");return}const Se=Te.items[ye],Ue=Te.items.filter((at,Ot)=>Ot!==ye);await Vi(Tr(rn,"pedidos",q),{items:Ue,ultimaModificacion:new Date}),console.log(" Item eliminado del pedido"),await ii(q,"plato_eliminado",`Plato eliminado: ${Se.nombre}`,{itemAfectado:{nombre:Se.nombre,indiceAnterior:ye,cantidadEliminada:Se.cantidad||1}}),F(` "${Se.nombre}" eliminado del pedido de Mesa ${Te.mesa}. Esperando confirmacin de cocina.`)}catch(Te){console.error(" Error al eliminar plato:",Te),alert(" Error al eliminar plato del pedido: "+Te.message)}},Fn=async(q,ye,Te)=>{if(Te<1){confirm("Eliminar este plato del pedido?")&&await ai(q,ye);return}try{console.log(" Modificando cantidad de plato..."),console.log(" PedidoId:",q),console.log(" ItemIndex:",ye),console.log(" Nueva cantidad:",Te);const Se=t.find(Ot=>Ot.id===q);if(!Se||!Se.items[ye]){console.error(" Pedido o item no encontrado");return}const Ue=Se.items[ye].cantidad||1,at=[...Se.items];at[ye]={...at[ye],cantidad:Te,modificadoPorAdmin:!0,fechaModificacion:new Date().toISOString()},await Vi(Tr(rn,"pedidos",q),{items:at,ultimaModificacion:new Date}),console.log(" Cantidad modificada en el pedido"),await ii(q,"cantidad_modificada",`Cantidad modificada: ${at[ye].nombre} (${Ue}  ${Te})`,{itemAfectado:{nombre:at[ye].nombre,indice:ye,cantidadAnterior:Ue,cantidadNueva:Te}}),F(` Cantidad de ${at[ye].nombre} modificada (${Ue}  ${Te}). Esperando confirmacin de cocina.`)}catch(Se){console.error(" Error al modificar cantidad:",Se),alert(" Error al modificar cantidad: "+Se.message)}},Jn=async(q,ye,Te,Se)=>{try{console.log(" Modificando ingredientes de plato..."),console.log(" PedidoId:",q),console.log(" ItemIndex:",ye),console.log(" Nuevos ingredientes:",Te),console.log(" Nuevos extras:",Se);const Ue=t.find(Dr=>Dr.id===q);if(!Ue){console.error(" Pedido no encontrado");return}const at=[...Ue.items],Ot=Se?Se.split(",").map(Dr=>Dr.trim()).filter(Boolean):[],yn=at[ye].ingredientesPersonalizados||"",ma=at[ye].extras||[];at[ye]={...at[ye],ingredientesPersonalizados:Te.trim(),extras:Ot,modificadoPorAdmin:!0,fechaModificacion:new Date().toISOString()},await Vi(Tr(rn,"pedidos",q),{items:at,ultimaModificacion:new Date}),console.log(" Ingredientes modificados en el pedido"),await ii(q,"ingredientes_modificados",`Ingredientes modificados: ${at[ye].nombre}`,{itemAfectado:{nombre:at[ye].nombre,indice:ye,ingredientesAnteriores:yn,ingredientesNuevos:Te.trim(),extrasAnteriores:ma,extrasNuevos:Ot}}),F(` Ingredientes de ${at[ye].nombre} actualizados. Esperando confirmacin de cocina.`),jt(null),vn(""),Et("")}catch(Ue){console.error(" Error al modificar ingredientes:",Ue),alert(" Error al modificar ingredientes del plato: "+Ue.message)}},H=(q,ye,Te)=>{jt({pedidoId:q,itemIndex:ye,item:Te}),vn(Te.ingredientesPersonalizados||""),Et((Te.extras||[]).join(", "))},ne=async()=>{he(!0),pe(" Exportando datos...");try{const q=["pedidos","menu","ventas","llamadasCocina","llamadasMesero","comunicacionCocinaAdmin"],ye={fecha:new Date().toISOString(),version:"1.0",datos:{}};for(const at of q){const Ot=await Nv(jr(rn,at));ye.datos[at]=Ot.docs.map(yn=>({id:yn.id,...yn.data()}))}He(ye);const Te=new Blob([JSON.stringify(ye,null,2)],{type:"application/json"}),Se=URL.createObjectURL(Te),Ue=document.createElement("a");Ue.href=Se,Ue.download=`backup_${new Date().toISOString().slice(0,10)}_${Date.now()}.json`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(Se),pe(" Backup exportado exitosamente"),setTimeout(()=>pe(null),3e3)}catch(q){console.error("Error al exportar backup:",q),pe(" Error al exportar backup"),setTimeout(()=>pe(null),3e3)}finally{he(!1)}},Z=async q=>{const ye=q.target.files[0];if(!ye)return;if(!window.confirm(` ADVERTENCIA: Esta accin eliminar todos los datos actuales y los reemplazar con el backup.

Ests seguro de continuar?`)){q.target.value="";return}he(!0),pe(" Restaurando datos...");try{const Se=new FileReader;Se.onload=async Ue=>{try{const at=JSON.parse(Ue.target.result);if(!at.datos||!at.version)throw new Error("Formato de backup invlido");for(const[Ot,yn]of Object.entries(at.datos)){const Dr=(await Nv(jr(rn,Ot))).docs.map(Ia=>uc(Ia.ref));await Promise.all(Dr);for(const Ia of yn){const{id:La,...gi}=Ia;try{await xl(jr(rn,Ot),gi)}catch(Da){console.warn(`No se pudo restaurar documento ${La}:`,Da)}}}pe(" Backup restaurado exitosamente. Recarga la pgina."),setTimeout(()=>{window.location.reload()},2e3)}catch(at){console.error("Error al procesar backup:",at),pe(" Error: Archivo de backup invlido"),setTimeout(()=>pe(null),3e3)}},Se.readAsText(ye)}catch(Se){console.error("Error al restaurar backup:",Se),pe(" Error al restaurar backup"),setTimeout(()=>pe(null),3e3)}finally{he(!1),q.target.value=""}},te=async()=>{if(!window.confirm(` PELIGRO 

Esta accin eliminar TODOS los datos de la base de datos de forma PERMANENTE.

Se recomienda hacer un backup primero.

Ests ABSOLUTAMENTE seguro?`))return;if(window.prompt('Escribe "ELIMINAR TODO" para confirmar (en maysculas):')!=="ELIMINAR TODO"){alert("Operacin cancelada");return}he(!0),pe(" Eliminando todos los datos...");try{const Te=["pedidos","menu","ventas","llamadasCocina","llamadasMesero","comunicacionCocinaAdmin"];for(const Se of Te){const at=(await Nv(jr(rn,Se))).docs.map(Ot=>uc(Ot.ref));await Promise.all(at)}pe(" Todos los datos han sido eliminados"),setTimeout(()=>{window.location.reload()},2e3)}catch(Te){console.error("Error al limpiar colecciones:",Te),pe(" Error al eliminar datos"),setTimeout(()=>pe(null),3e3)}finally{he(!1)}};ge.useEffect(()=>{const q=I.current||[],ye={};q.forEach(Se=>{ye[Se.id]=Se.estado});const Te=new Set(q.map(Se=>Se.id));t.forEach(Se=>{const Ue=ye[Se.id],at=Se.estado;Ue!=="entregado"&&at==="entregado"&&(P&&Ir(110,1e3,.08,"sine"),F(" Pedido marcado como ENTREGADO")),Te.has(Se.id)||(P&&Ir(200,520,.12,"triangle"),F(" Nuevo pedido recibido"),D(Ot=>Ot+1))}),I.current=t},[t,P]),ge.useEffect(()=>{const q=No(jr(rn,"ventas"),ye=>{a(ye.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>q()},[]);const re=q=>{var ye;return(ye=q==null?void 0:q.items)!=null&&ye.length?q.items.reduce((Te,Se)=>{var yn;const Ue=Se.precioBase??Se.precio??0,at=Se.cantidad??1,Ot=(((yn=Se.extras)==null?void 0:yn.length)||0)*2e3;return Te+(Ue+Ot)*at},0):0},ce=async()=>{if(!Ve)return;const q=parseFloat(st),ye=Ve.total;if(isNaN(q)||q<0){alert(" Ingresa un monto vlido");return}if(q<ye){alert(` Dinero insuficiente. Faltan $${(ye-q).toFixed(2)}`);return}const Te=q-ye;if(confirm(`Confirmar pago:

Total: $${ye.toFixed(2)}
Dinero recibido: $${q.toFixed(2)}
Cambio: $${Te.toFixed(2)}

Proceder?`))try{const Ue=t.find(yn=>yn.id===Ve.pedidoId),at=new Date,Ot={pedidoId:Ue.id,mesa:Ue.mesa,metodoPago:Ve.metodoPago,estado:"pagado",total:ye,dineroRecibido:q,cambio:Te,fecha:at.toISOString(),hora:at.toLocaleTimeString(),items:Ue.items||[]};await xl(jr(rn,"ventas"),Ot),await uc(Tr(rn,"pedidos",Ve.pedidoId)),alert(` Pago registrado
Cambio: $${Te.toFixed(2)}`),F(` Venta registrada. Mesa ${Ue.mesa} liberada.`),ft(null),Ht("")}catch(Ue){console.error("Error al registrar pago:",Ue),alert(" Error registrando pago")}},Re=async(q,ye)=>{try{const Te=Tr(rn,"pedidos",q),Se=t.find(Ue=>Ue.id===q);if(ye==="pagado"&&Se){const Ue=re(Se);ft({pedidoId:q,total:Ue,metodoPago:Se.metodoPago||"N/A",mesa:Se.mesa,items:Se.items||[]});return}await Vi(Te,{estado:ye}),alert(` Pedido actualizado a "${ye}"`)}catch(Te){console.error("Error al actualizar estado:",Te),alert(" Error actualizando estado. Revisa la consola.")}},ze=async(q,ye,Te)=>{const Se=prompt(`Nuevo valor para ${ye}:`,Te);if(Se!==null)try{await Vi(Tr(rn,"pedidos",q),{[ye]:Se}),alert(" Campo actualizado.")}catch(Ue){console.error("Error al actualizar campo del pedido:",Ue)}},Oe=async q=>{if(confirm(" Seguro que deseas eliminar este pedido? Esta accin no se puede deshacer."))try{await uc(Tr(rn,"pedidos",q)),alert(" Pedido eliminado.")}catch(ye){console.error("Error al eliminar pedido:",ye),alert(" Error eliminando pedido.")}},Pe=async q=>{if(confirm("Seguro que deseas eliminar este plato del men?"))try{await uc(Tr(rn,"menu",q)),alert(" Plato eliminado del men.")}catch(ye){console.error("Error al eliminar plato:",ye),alert(" Error eliminando plato.")}},Fe=async()=>{var ye;if(!_.nombre||!_.precio||!_.imagen)return alert(" Debes completar nombre, precio e imagen del plato.");const q=parseInt(_.precio,10);if(Number.isNaN(q))return alert(" Precio invlido.");try{const Te=_.ingredientes?_.ingredientes.split(",").map(Se=>Se.trim()).filter(Boolean):[];await xl(jr(rn,"menu"),{nombre:_.nombre,precio:q,ingredientes:Te,imagen:_.imagen,disponible:_.disponible??!0,categoria:((ye=_.categoria)==null?void 0:ye.trim())||"Sin categora"}),alert(" Plato agregado al men."),y({nombre:"",precio:"",ingredientes:"",imagen:"",disponible:!0,categoria:""}),Y(!1)}catch(Te){console.error("Error al agregar plato:",Te),alert(" Error al agregar plato.")}},it=async()=>{var ye;if(!ae)return;const q=parseInt(ae.precio,10);if(Number.isNaN(q))return alert(" Precio invlido.");try{const Te=ae.ingredientesStr?ae.ingredientesStr.split(",").map(Se=>Se.trim()).filter(Boolean):[];await Vi(Tr(rn,"menu",ae.id),{nombre:ae.nombre,precio:q,imagen:ae.imagen,ingredientes:Te,disponible:!!ae.disponible,categoria:((ye=ae.categoria)==null?void 0:ye.trim())||"Sin categora"}),alert(" Plato actualizado."),L(null)}catch(Te){console.error("Error al guardar edicin:",Te),alert(" Error guardando cambios.")}},ut=Array.from({length:10},(q,ye)=>ye+1),mt=(q,ye)=>{const Te=at=>{const Ot=new Date(at);return Ot.setHours(0,0,0,0),Ot.setDate(Ot.getDate()-Ot.getDay()),Ot},Se=Te(q).toDateString(),Ue=Te(ye).toDateString();return Se===Ue},Ze=i.filter(q=>{try{if(!(q!=null&&q.fecha))return!1;const ye=new Date(q.fecha),Te=new Date;return g==="dia"?ye.toDateString()===Te.toDateString():g==="semana"?mt(ye,Te):g==="mes"?ye.getMonth()===Te.getMonth()&&ye.getFullYear()===Te.getFullYear():!0}catch{return!1}}),gt=Ze.reduce((q,ye)=>q+(ye.total||0),0),Wt=async q=>{if(confirm("Eliminar esta venta definitivamente?"))try{await uc(Tr(rn,"ventas",q)),alert(" Venta eliminada.")}catch(ye){console.error("Error eliminando venta:",ye),alert(" Error eliminando venta.")}},Sn=async q=>{const ye=prompt("Nuevo mtodo de pago:",q.metodoPago);if(ye===null)return;const Te=prompt("Nuevo total (nmero):",String(q.total??""));if(Te===null)return;const Se=parseFloat(Te);if(Number.isNaN(Se))return alert("Total invlido.");try{await Vi(Tr(rn,"ventas",q.id),{metodoPago:ye,total:Se}),alert(" Venta actualizada.")}catch(Ue){console.error("Error editando venta:",Ue),alert(" Error editando venta.")}},cn=()=>{if(!Ze||Ze.length===0)return alert("No hay ventas a exportar.");const q=Ze.map(Se=>({ventaId:Se.id,pedidoId:Se.pedidoId??"",fechaISO:Se.fecha,fechaLocal:new Date(Se.fecha).toLocaleString(),hora:Se.hora??"",mesa:Se.mesa,metodoPago:Se.metodoPago,estado:Se.estado,total:Se.total,dineroRecibido:Se.dineroRecibido??"",cambio:Se.cambio??"",items:(Se.items||[]).map(Ue=>`${Ue.cantidad??1}x ${Ue.nombre} (${Ue.precio??Ue.precioBase??0})`).join(" | ")})),ye=Cf.json_to_sheet(q),Te=Cf.book_new();Cf.book_append_sheet(Te,ye,"Ventas"),VE(Te,`ventas_${new Date().toISOString().slice(0,10)}.xlsx`)},ir=()=>{if(!Ze||Ze.length===0)return alert("No hay ventas a exportar.");const q=new Mt;q.text("Reporte de Ventas",14,15);const ye=Ze.map(Se=>[Se.id,Se.pedidoId??"",new Date(Se.fecha).toLocaleString(),Se.mesa,Se.metodoPago,`$${Se.total}`,`$${Se.dineroRecibido??""}`,`$${Se.cambio??""}`,(Se.items||[]).map(Ue=>`${Ue.cantidad??1}x ${Ue.nombre}`).join(", ")]);q.autoTable({head:[["VentaId","PedidoId","Fecha","Mesa","Pago","Total","Recibido","Cambio","Items"]],body:ye,startY:22,styles:{fontSize:8},headStyles:{fillColor:[111,66,193]}});const Te=Ze.reduce((Se,Ue)=>Se+(Ue.total||0),0);q.text(`Total (${g}): ${Te}`,14,q.lastAutoTable.finalY+10),q.save(`ventas_${g}_${new Date().toISOString().slice(0,10)}.pdf`)},Ji=()=>{o(!0),c(""),d(!1),v("resumen")},Ti=()=>{l==="admin123"?d(!0):(alert(" Clave incorrecta"),d(!1))},ga=()=>{o(!1),c(""),d(!1),f("dia")};ge.useEffect(()=>{try{const q=new Date,ye=new Date(q.getFullYear(),q.getMonth(),1),Se=i.filter(kn=>{if(!(kn!=null&&kn.fecha))return!1;const er=new Date(kn.fecha);return er>=ye&&er.getMonth()===q.getMonth()&&er.getFullYear()===q.getFullYear()}).reduce((kn,er)=>kn+(er.total||0),0),at=i.filter(kn=>kn!=null&&kn.fecha?new Date(kn.fecha).toDateString()===q.toDateString():!1).reduce((kn,er)=>kn+(er.total||0),0),Ot=q.getDate(),yn=Ot>0?Math.round(Se/Ot*100)/100:0,ma={};i.forEach(kn=>{(kn.items||[]).forEach(er=>{const Ys=er.nombre||er.nombre,ea=er.cantidad??1;ma[Ys]=(ma[Ys]||0)+ea})});const Dr=Object.entries(ma).sort((kn,er)=>er[1]-kn[1]).slice(0,8).map(([kn,er])=>({nombre:kn,cantidad:er})),Ia=new Date(q.getFullYear(),q.getMonth()-1,1),La=new Date(q.getFullYear(),q.getMonth(),0),Da=i.filter(kn=>{if(!(kn!=null&&kn.fecha))return!1;const er=new Date(kn.fecha);return er>=Ia&&er<=La}).reduce((kn,er)=>kn+(er.total||0),0),zl=Da===0?Se>0?100:0:Math.round((Se-Da)/Da*100);J({totalHoy:at,totalMes:Se,promedioDiario:yn,topPlatos:Dr,crecimientoMes:zl})}catch(q){console.error("Error calculando stats:",q)}},[i]);const Lr=i.filter(q=>{try{if(!(q!=null&&q.fecha))return!1;const ye=new Date(q.fecha);if(me.desde){const Te=new Date(me.desde);if(ye<Te)return!1}if(me.hasta){const Te=new Date(me.hasta);if(Te.setHours(23,59,59,999),ye>Te)return!1}if(me.mesa&&String(q.mesa)!==String(me.mesa))return!1;if(me.q){const Te=me.q.toLowerCase();if(!String(q.id).toLowerCase().includes(Te)&&!String(q.pedidoId??"").toLowerCase().includes(Te)&&!(q.items||[]).some(Ue=>(Ue.nombre||"").toLowerCase().includes(Te)))return!1}return!0}catch{return!1}}),Xa=()=>{if(!Lr||Lr.length===0)return alert("No hay ventas a exportar.");const q=Lr.map(Se=>({ventaId:Se.id,pedidoId:Se.pedidoId??"",fechaISO:Se.fecha,fechaLocal:new Date(Se.fecha).toLocaleString(),hora:Se.hora??"",mesa:Se.mesa,metodoPago:Se.metodoPago,estado:Se.estado,total:Se.total,dineroRecibido:Se.dineroRecibido??"",cambio:Se.cambio??"",items:(Se.items||[]).map(Ue=>`${Ue.cantidad??1}x ${Ue.nombre} (${Ue.precio??Ue.precioBase??0})`).join(" | ")})),ye=Cf.json_to_sheet(q),Te=Cf.book_new();Cf.book_append_sheet(Te,ye,"HistorialVentas"),VE(Te,`historial_ventas_${new Date().toISOString().slice(0,10)}.xlsx`)};ge.useEffect(()=>{if(!A)return;const q=setTimeout(()=>F(null),2200);return()=>clearTimeout(q)},[A]);const $r=(q=[],ye=400,Te=80)=>{const Se=Math.max(...q.map(Ot=>Ot.value),1),Ue=6,at=Math.max(6,(ye-Ue*2)/q.length-6);return b.jsx("svg",{width:ye,height:Te,viewBox:`0 0 ${ye} ${Te}`,children:q.map((Ot,yn)=>{const ma=Ue+yn*(at+6),Dr=Math.round(Ot.value/Se*(Te-20)),Ia=Te-Dr-16;return b.jsxs("g",{children:[b.jsx("rect",{x:ma,y:Ia,width:at,height:Dr,rx:"4",ry:"4",fill:"#6f42c1"}),b.jsx("text",{x:ma+at/2,y:Te-6,fontSize:"9",textAnchor:"middle",fill:"#333",children:Ot.label})]},yn)})})},Ra=(q=7)=>{const ye=new Date,Te=[];for(let Se=q-1;Se>=0;Se--){const Ue=new Date(ye);Ue.setDate(ye.getDate()-Se),Te.push({date:new Date(Ue),label:Ue.toLocaleDateString(void 0,{month:"short",day:"numeric"}),value:0})}return i.forEach(Se=>{if(!(Se!=null&&Se.fecha))return;const Ue=new Date(Se.fecha);Te.forEach(at=>{Ue.toDateString()===at.date.toDateString()&&(at.value+=Se.total||0)})}),Te.map(Se=>({label:Se.label,value:Math.round(Se.value)}))},Dn=()=>{const q=new Date,ye=new Date(q.getFullYear(),q.getMonth()+1,0).getDate(),Te=Array.from({length:ye},(Se,Ue)=>({day:Ue+1,value:0}));return i.forEach(Se=>{if(!(Se!=null&&Se.fecha))return;const Ue=new Date(Se.fecha);Ue.getMonth()===q.getMonth()&&Ue.getFullYear()===q.getFullYear()&&(Te[Ue.getDate()-1].value+=Se.total||0)}),Te.map(Se=>({label:String(Se.day),value:Math.round(Se.value)}))};return b.jsxs("div",{style:{padding:20,backgroundColor:"#f8f9fa",minHeight:"100vh"},children:[b.jsx("h1",{style:{color:"#1a1a1a",textAlign:"center",marginBottom:30},children:" Panel del Administrador"}),A&&b.jsx("div",{style:{position:"fixed",right:18,top:18,background:"#111827",color:"white",padding:"8px 12px",borderRadius:8,zIndex:9999},children:A}),b.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:999,maxWidth:"400px"},children:Bt.map(q=>{const ye=Rr(q.tipo);return b.jsxs("div",{style:{background:ye.bg,color:ye.text,border:`3px solid ${ye.border}`,padding:"15px 20px",borderRadius:"10px",marginBottom:"12px",fontWeight:"bold",boxShadow:"0px 6px 15px rgba(0,0,0,0.2)",fontSize:"14px",lineHeight:"1.3",animation:"slideInRight 0.5s ease-out"},children:[b.jsx("div",{children:q.mensaje}),b.jsxs("small",{style:{opacity:.8,fontSize:"12px",display:"block",marginTop:"5px"},children:[" ",q.timestamp]})]},q.id)})}),Ve&&b.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:b.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,width:"95%",maxWidth:500,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[b.jsx("h2",{style:{marginTop:0,marginBottom:16,color:"#111827"},children:" Confirmar Pago"}),b.jsxs("div",{style:{background:"#f9fafb",padding:16,borderRadius:8,marginBottom:16,border:"2px solid #e5e7eb"},children:[b.jsxs("p",{style:{margin:"0 0 8px 0",color:"#374151",fontSize:14},children:[b.jsx("strong",{children:"Mesa:"})," ",Ve.mesa]}),b.jsxs("p",{style:{margin:"0 0 12px 0",color:"#374151",fontSize:14},children:[b.jsx("strong",{children:"Mtodo de pago:"})," ",Ve.metodoPago]}),b.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #d1d5db"},children:[b.jsx("p",{style:{margin:"0 0 8px 0",fontWeight:"bold",color:"#111827"},children:"Items pedidos:"}),b.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:Ve.items.map((q,ye)=>{var Te;return b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,padding:"4px 0",color:"#374151"},children:[b.jsxs("span",{children:[q.cantidad,"x ",q.nombre]}),b.jsxs("span",{children:["$",((q.precioBase??q.precio??0)+(((Te=q.extras)==null?void 0:Te.length)||0)*2e3)*(q.cantidad??1)]})]},ye)})})]}),b.jsx("div",{style:{marginTop:12,paddingTop:12,borderTop:"2px solid #d1d5db"},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:18,fontWeight:"bold",color:"#059669"},children:[b.jsx("span",{children:"TOTAL A PAGAR:"}),b.jsxs("span",{children:["$",Ve.total.toFixed(2)]})]})})]}),b.jsxs("div",{style:{marginBottom:16},children:[b.jsx("label",{style:{display:"block",marginBottom:6,fontWeight:"bold",color:"#111827"},children:" Dinero recibido:"}),b.jsx("input",{type:"number",placeholder:"Ingresa el monto recibido",value:st,onChange:q=>Ht(q.target.value),style:{width:"100%",padding:12,fontSize:16,borderRadius:8,border:"2px solid #e5e7eb",boxSizing:"border-box",color:"#111827"},autoFocus:!0})]}),st&&b.jsx("div",{style:{background:st>=Ve.total?"#d1fae5":"#fee2e2",padding:12,borderRadius:8,marginBottom:16,border:`2px solid ${st>=Ve.total?"#10b981":"#ef4444"}`},children:st<Ve.total?b.jsxs("p",{style:{margin:0,color:"#dc2626",fontWeight:"bold"},children:["Faltan $",(Ve.total-parseFloat(st)).toFixed(2)]}):b.jsxs("div",{children:[b.jsx("p",{style:{margin:"0 0 4px 0",color:"#059669",fontWeight:"bold"},children:"Pago correcto"}),b.jsxs("p",{style:{margin:0,color:"#059669",fontSize:14},children:["Cambio: $",(parseFloat(st)-Ve.total).toFixed(2)]})]})}),b.jsxs("div",{style:{display:"flex",gap:10},children:[b.jsx("button",{onClick:ce,disabled:!st||parseFloat(st)<Ve.total,style:{flex:1,backgroundColor:!st||parseFloat(st)<Ve.total?"#d1d5db":"#10b981",color:"white",padding:12,borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:!st||parseFloat(st)<Ve.total?"not-allowed":"pointer",opacity:!st||parseFloat(st)<Ve.total?.5:1},children:"Confirmar Pago"}),b.jsx("button",{onClick:()=>{ft(null),Ht("")},style:{flex:1,backgroundColor:"#ef4444",color:"white",padding:12,borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:"pointer"},children:"Cancelar"})]})]})}),Ct&&b.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10002},children:b.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,width:"95%",maxWidth:600,boxShadow:"0 20px 60px rgba(0,0,0,0.4)"},children:[b.jsxs("h2",{style:{marginTop:0,marginBottom:20,color:"#111827",textAlign:"center"},children:[" Editar Ingredientes: ",Ct.item.nombre]}),b.jsxs("div",{style:{marginBottom:20},children:[b.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:"bold",color:"#374151"},children:" Ingredientes personalizados:"}),b.jsx("input",{type:"text",placeholder:"Ej: sin cebolla, extra queso, sin tomate",value:St,onChange:q=>vn(q.target.value),style:{width:"100%",padding:12,borderRadius:8,border:"2px solid #e5e7eb",fontSize:14,color:"#212529",boxSizing:"border-box"}}),b.jsx("p",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:"Escribe las modificaciones de ingredientes"})]}),b.jsxs("div",{style:{marginBottom:20},children:[b.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:"bold",color:"#374151"},children:" Extras adicionales:"}),b.jsx("input",{type:"text",placeholder:"Ej: aguacate, tocino extra, papas fritas",value:nn,onChange:q=>Et(q.target.value),style:{width:"100%",padding:12,borderRadius:8,border:"2px solid #e5e7eb",fontSize:14,color:"#212529",boxSizing:"border-box"}}),b.jsx("p",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:"Separa los extras con comas (se cobrar $2000 por cada extra)"})]}),b.jsxs("div",{style:{background:"#f8f9fa",padding:16,borderRadius:8,marginBottom:20},children:[b.jsx("h4",{style:{margin:"0 0 8px 0",color:"#374151"},children:"Vista previa:"}),b.jsxs("div",{style:{color:"#212529",fontSize:14},children:[b.jsx("strong",{children:Ct.item.nombre}),St&&b.jsxs("div",{style:{marginTop:4,color:"#6b7280"},children:[" Ingredientes: ",St]}),nn&&b.jsxs("div",{style:{marginTop:4,color:"#dc2626"},children:[" Extras: ",nn]})]})]}),b.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[b.jsx("button",{onClick:()=>Jn(Ct.pedidoId,Ct.itemIndex,St,nn),style:{background:"#28a745",color:"white",padding:"12px 24px",borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:"pointer"},children:" Guardar Cambios"}),b.jsx("button",{onClick:()=>{jt(null),vn(""),Et("")},style:{background:"#6c757d",color:"white",padding:"12px 24px",borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:"pointer"},children:"Cancelar"})]})]})}),ke&&b.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001},children:b.jsxs("div",{style:{background:"white",padding:24,borderRadius:12,width:"95%",maxWidth:900,maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.4)"},children:[b.jsxs("h2",{style:{marginTop:0,marginBottom:20,color:"#111827",textAlign:"center"},children:[" Editando Pedido - Mesa ",ke.mesa]}),b.jsxs("div",{style:{marginBottom:24},children:[b.jsx("h3",{style:{color:"#111827",marginBottom:12},children:" Platos en el pedido:"}),b.jsx("div",{style:{background:"#f8f9fa",border:"2px solid #e9ecef",borderRadius:8,padding:16},children:((Ka=ke.items)==null?void 0:Ka.length)===0?b.jsx("p",{style:{color:"#6c757d",textAlign:"center",margin:0},children:"No hay platos en este pedido"}):(Qa=ke.items)==null?void 0:Qa.map((q,ye)=>{var Te,Se;return b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",marginBottom:"8px",background:q.modificadoPorAdmin?"#fff5f5":"white",border:q.modificadoPorAdmin?"2px solid #dc3545":"1px solid #dee2e6",borderRadius:6,color:"#212529",position:"relative"},children:[q.modificadoPorAdmin&&b.jsx("div",{style:{position:"absolute",top:"-8px",right:"10px",background:"#dc3545",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"10px",fontWeight:"bold"},children:"MODIFICADO POR ADMIN"}),b.jsxs("div",{style:{flex:1},children:[b.jsx("strong",{children:q.nombre}),b.jsxs("div",{style:{fontSize:12,color:"#6c757d"},children:["Precio: $",q.precio||q.precioBase||0," | Total: $",((q.precio||q.precioBase||0)+(((Te=q.extras)==null?void 0:Te.length)||0)*2e3)*(q.cantidad||1)]}),q.ingredientesPersonalizados&&b.jsxs("div",{style:{fontSize:11,color:"#8b5cf6",marginTop:2},children:[" Ingredientes: ",q.ingredientesPersonalizados]}),((Se=q.extras)==null?void 0:Se.length)>0&&b.jsxs("div",{style:{fontSize:11,color:"#dc2626",marginTop:2},children:[" Extras: ",q.extras.join(", ")]}),q.fechaModificacion&&b.jsxs("div",{style:{fontSize:10,color:"#6b7280",marginTop:2},children:[" Modificado: ",new Date(q.fechaModificacion).toLocaleString()]})]}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginLeft:12},children:[b.jsx("button",{onClick:()=>Fn(ke.id,ye,(q.cantidad||1)-1),style:{background:"#dc3545",color:"white",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:12},children:"-"}),b.jsx("span",{style:{minWidth:40,textAlign:"center",padding:"4px 8px",background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:4,color:"#212529"},children:q.cantidad||1}),b.jsx("button",{onClick:()=>Fn(ke.id,ye,(q.cantidad||1)+1),style:{background:"#28a745",color:"white",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:12},children:"+"}),b.jsx("button",{onClick:()=>H(ke.id,ye,q),style:{background:"#8b5cf6",color:"white",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:12,marginLeft:4},children:""}),b.jsx("button",{onClick:()=>ai(ke.id,ye),style:{background:"#dc3545",color:"white",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:12},children:""})]})]},ye)})}),b.jsx("div",{style:{marginTop:12,textAlign:"right"},children:b.jsxs("strong",{style:{color:"#111827",fontSize:16},children:["Total del pedido: $",re(ke)]})})]}),b.jsxs("div",{style:{marginBottom:20},children:[b.jsx("h3",{style:{color:"#111827",marginBottom:12},children:" Agregar platos al pedido:"}),b.jsx("input",{type:"text",placeholder:"Buscar platos...",value:tn,onChange:q=>_t(q.target.value),style:{width:"100%",padding:12,marginBottom:12,borderRadius:8,border:"2px solid #e9ecef",fontSize:14,color:"#212529"}}),b.jsx("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid #dee2e6",borderRadius:8,background:"#f8f9fa"},children:vt.length===0?b.jsx("p",{style:{padding:16,margin:0,textAlign:"center",color:"#6c757d"},children:"No se encontraron platos disponibles"}):vt.map(q=>b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12,borderBottom:"1px solid #dee2e6",background:"white",margin:"4px",borderRadius:6,color:"#212529"},children:[b.jsxs("div",{children:[b.jsx("strong",{children:q.nombre}),b.jsxs("div",{style:{fontSize:12,color:"#6c757d"},children:["$",q.precio," | ",q.categoria]})]}),b.jsx("button",{onClick:()=>Gr(ke.id,q),style:{background:"#007bff",color:"white",border:"none",borderRadius:6,padding:"6px 12px",cursor:"pointer",fontSize:12,fontWeight:"bold"},children:"Agregar"})]},q.id))})]}),b.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[b.jsx("button",{onClick:()=>{ct(null),_t("")},style:{background:"#28a745",color:"white",padding:"12px 24px",borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:"pointer"},children:" Finalizar Edicin"}),b.jsx("button",{onClick:()=>{ct(null),_t("")},style:{background:"#6c757d",color:"white",padding:"12px 24px",borderRadius:8,border:"none",fontSize:16,fontWeight:"bold",cursor:"pointer"},children:"Cerrar"})]})]})}),Gt&&b.jsxs("div",{style:{position:"fixed",top:80,right:20,width:450,maxHeight:600,background:"white",border:"3px solid #007bff",borderRadius:12,padding:16,zIndex:9998,boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[b.jsx("h3",{style:{margin:0,color:"#007bff"},children:" Respuestas de Cocina"}),b.jsx("button",{onClick:()=>Ln(!1),style:{background:"#6c757d",color:"white",border:"none",borderRadius:6,padding:"4px 8px",cursor:"pointer"},children:""})]}),b.jsx("div",{style:{maxHeight:500,overflowY:"auto"},children:qt.length===0?b.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No hay respuestas de cocina"}):qt.map(q=>{var Te,Se,Ue,at;const ye=Rr(q.estado);return b.jsx("div",{style:{background:ye.bg,border:`2px solid ${ye.border}`,borderRadius:8,padding:12,marginBottom:10},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("h4",{style:{color:ye.text,margin:"0 0 8px 0",fontSize:14},children:q.estado==="aceptado"?" CAMBIO ACEPTADO":q.estado==="rechazado"?" CAMBIO RECHAZADO":" PENDIENTE"}),b.jsxs("p",{style:{color:ye.text,margin:"5px 0",fontWeight:"bold",fontSize:13},children:[" Mesa ",q.mesa,": ",q.descripcion]}),q.motivoRechazo&&b.jsx("div",{style:{background:"#f8d7da",border:"1px solid #dc3545",borderRadius:4,padding:8,marginTop:8},children:b.jsxs("p",{style:{color:"#721c24",margin:0,fontSize:12,fontWeight:"bold"},children:[" Motivo: ",q.motivoRechazo]})}),b.jsxs("div",{style:{marginTop:8,fontSize:11,color:ye.text,opacity:.8},children:[" Creado: ",(Se=(Te=q.fechaCreacion)==null?void 0:Te.toDate)!=null&&Se.call(Te)?q.fechaCreacion.toDate().toLocaleString():new Date(q.timestampCreacion).toLocaleString(),b.jsx("br",{}),(q.estado==="aceptado"||q.estado==="rechazado")&&b.jsxs(b.Fragment,{children:[" Respondido: ",(at=(Ue=q.fechaRespuesta)==null?void 0:Ue.toDate)!=null&&at.call(Ue)?q.fechaRespuesta.toDate().toLocaleString():new Date(q.timestampRespuesta).toLocaleString()]})]})]}),b.jsx("span",{style:{background:q.estado==="aceptado"?"#28a745":q.estado==="rechazado"?"#dc3545":"#ffc107",color:q.estado==="pendiente"?"#212529":"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",marginLeft:"8px"},children:q.estado.toUpperCase()})]})},q.id)})})]}),Ie&&b.jsxs("div",{style:{position:"fixed",top:80,right:20,width:380,maxHeight:500,background:"#fff3cd",border:"3px solid #ff9800",borderRadius:12,padding:16,zIndex:9998,boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[b.jsx("h3",{style:{margin:0,color:"#ff6b00"},children:"Llamadas de Cocina"}),b.jsx("button",{onClick:()=>N(!1),style:{background:"#6c757d",color:"white",border:"none",borderRadius:6,padding:"4px 8px",cursor:"pointer"},children:""})]}),b.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:ie.length===0?b.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No hay llamadas"}):ie.map(q=>b.jsx("div",{style:{background:q.atendida?"#d4edda":"#fff",border:q.atendida?"1px solid #28a745":"2px solid #ff6b00",borderRadius:8,padding:12,marginBottom:10},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsxs("p",{style:{margin:"0 0 6px 0",fontWeight:"bold",fontSize:15,color:"#212529"},children:[q.atendida?"":""," ",q.mensaje||"Llamada de cocina"]}),b.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:13,color:"#666"},children:[" ",new Date(q.timestamp).toLocaleTimeString()]}),q.motivo&&b.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:13,color:"#333"},children:[" ",q.motivo]}),q.atendida&&q.atendidaAt&&b.jsxs("p",{style:{margin:0,fontSize:12,color:"#28a745"},children:[" Atendida: ",new Date(q.atendidaAt).toLocaleTimeString()]})]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginLeft:8},children:[!q.atendida&&b.jsx("button",{onClick:()=>Wr(q.id),style:{background:"#28a745",color:"white",border:"none",borderRadius:6,padding:"6px 10px",cursor:"pointer",fontSize:12,whiteSpace:"nowrap"},children:" Atender"}),b.jsx("button",{onClick:()=>Ut(q.id),style:{background:"#dc3545",color:"white",border:"none",borderRadius:6,padding:"6px 10px",cursor:"pointer",fontSize:12},children:""})]})]})},q.id))})]}),De&&b.jsxs("div",{style:{position:"fixed",top:80,left:20,width:380,maxHeight:500,background:"#ffe5e5",border:"3px solid #dc3545",borderRadius:12,padding:16,zIndex:9998,boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[b.jsx("h3",{style:{margin:0,color:"#dc3545"},children:"Llamadas de Mesero"}),b.jsx("button",{onClick:()=>fe(!1),style:{background:"#6c757d",color:"white",border:"none",borderRadius:6,padding:"4px 8px",cursor:"pointer"},children:""})]}),b.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:Ye.length===0?b.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No hay llamadas de mesero"}):Ye.map(q=>{var ye;return b.jsx("div",{style:{background:q.atendido?"#d4edda":"#fff",border:q.atendido?"1px solid #28a745":"2px solid #dc3545",borderRadius:8,padding:12,marginBottom:10},children:b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[b.jsxs("div",{style:{flex:1},children:[b.jsxs("p",{style:{margin:"0 0 6px 0",fontWeight:"bold",fontSize:16,color:"#212529"},children:[q.atendido?"":""," Mesa ",q.mesa]}),b.jsx("p",{style:{margin:"0 0 4px 0",fontSize:13,color:"#555"},children:q.mensaje||`La mesa ${q.mesa} solicita atencin del mesero.`}),b.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:12,color:"#666"},children:[" ",(ye=q.fecha)!=null&&ye.toDate?new Date(q.fecha.toDate()).toLocaleTimeString():"Hora desconocida"]}),q.atendido&&q.atendidoAt&&b.jsxs("p",{style:{margin:0,fontSize:12,color:"#28a745"},children:[" Atendida: ",new Date(q.atendidoAt).toLocaleTimeString()]})]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginLeft:8},children:[!q.atendido&&b.jsx("button",{onClick:()=>pa(q.id),style:{background:"#28a745",color:"white",border:"none",borderRadius:6,padding:"6px 10px",cursor:"pointer",fontSize:12,whiteSpace:"nowrap"},children:" Atender"}),b.jsx("button",{onClick:()=>Si(q.id),style:{background:"#dc3545",color:"white",border:"none",borderRadius:6,padding:"6px 10px",cursor:"pointer",fontSize:12},children:""})]})]})},q.id)})})]}),b.jsxs("div",{style:{marginTop:15,marginBottom:25,display:"flex",gap:10,flexWrap:"wrap"},children:[b.jsxs("button",{onClick:()=>fe(!De),style:{position:"relative",flex:1,backgroundColor:wt>0?"#dc3545":"#ff6b6b",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold",animation:wt>0?"pulse 1.5s infinite":"none"},children:["Llamadas Mesero ",wt>0&&`(${wt})`]}),b.jsxs("button",{onClick:()=>N(!Ie),style:{position:"relative",flex:1,backgroundColor:j>0?"#ff6b00":"#ff9800",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold",animation:j>0?"pulse 1.5s infinite":"none"},children:["Llamadas Cocina ",j>0&&`(${j})`]}),b.jsxs("button",{onClick:()=>Ln(!Gt),style:{position:"relative",flex:1,backgroundColor:zn>0?"#007bff":"#17a2b8",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold",animation:zn>0?"pulse 1.5s infinite":"none"},children:["Respuestas Cocina ",zn>0&&`(${zn})`]}),b.jsx("button",{onClick:Ji,style:{flex:1,backgroundColor:"#6f42c1",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold"},children:"Ver Ventas"}),b.jsx("button",{onClick:()=>C(q=>!q),style:{flex:1,backgroundColor:"#007bff",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold"},children:T?"Ocultar Control de Men":"Mostrar Control de Men"}),b.jsx("button",{onClick:()=>Y(q=>!q),style:{flex:1,backgroundColor:"#28a745",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer",fontWeight:"bold"},children:O?"Cancelar Agregar Plato":"Agregar Nuevo Plato"}),b.jsxs("button",{onClick:()=>{D(0),F("Notificaciones marcadas como ledas")},style:{background:P?"#f59e0b":"#6c757d",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer"},children:["Pedidos: ",S]}),b.jsx("button",{onClick:()=>ue(q=>!q),style:{background:P?"#0ea5e9":"#6c757d",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer"},children:P?"Sonidos ON":"Sonidos OFF"})]}),b.jsx("style",{children:`
        @keyframes pulse { 
          0%, 100% { transform: scale(1); } 
          50% { transform: scale(1.05); } 
        }
        
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),s&&b.jsx("div",{style:{marginBottom:20,padding:16,border:"2px solid #6f42c1",borderRadius:10,background:"#f9f5ff"},children:u?b.jsxs("div",{children:[b.jsx("h2",{style:{color:"#1a1a1a"},children:" Ventas y Respaldo"}),b.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[b.jsx("button",{onClick:()=>v("resumen"),style:{padding:"6px 10px",background:x==="resumen"?"#6f42c1":"#e5e7eb",color:x==="resumen"?"white":"#111",border:"none",borderRadius:6},children:" Resumen"}),b.jsx("button",{onClick:()=>v("historial"),style:{padding:"6px 10px",background:x==="historial"?"#6f42c1":"#e5e7eb",color:x==="historial"?"white":"#111",border:"none",borderRadius:6},children:" Historial"}),b.jsx("button",{onClick:()=>v("backup"),style:{padding:"6px 10px",background:x==="backup"?"#6f42c1":"#e5e7eb",color:x==="backup"?"white":"#111",border:"none",borderRadius:6},children:" Backup"}),b.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[x==="resumen"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:cn,style:{background:"#198754",color:"white",border:"none",padding:"8px 10px",borderRadius:6},children:" Excel"}),b.jsx("button",{onClick:ir,style:{background:"#dc3545",color:"white",border:"none",padding:"8px 10px",borderRadius:6},children:" PDF"})]}),x==="historial"&&b.jsx("button",{onClick:Xa,style:{background:"#198754",color:"white",border:"none",padding:"8px 10px",borderRadius:6},children:" Exportar filtrado"}),b.jsx("button",{onClick:ga,style:{background:"#6c757d",color:"white",border:"none",padding:"8px 10px",borderRadius:6},children:" Cerrar"})]})]}),x==="resumen"&&b.jsxs("div",{children:[b.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:16,flexWrap:"wrap"},children:[b.jsx("label",{style:{color:"#374151"},children:" Filtrar por:"}),b.jsx("button",{onClick:()=>f("dia"),style:{padding:"6px 12px",background:g==="dia"?"#28a745":"#f8f9fa",color:g==="dia"?"white":"#333",border:"1px solid #ccc",borderRadius:6},children:"Hoy"}),b.jsx("button",{onClick:()=>f("semana"),style:{padding:"6px 12px",background:g==="semana"?"#28a745":"#f8f9fa",color:g==="semana"?"white":"#333",border:"1px solid #ccc",borderRadius:6},children:"Esta semana"}),b.jsx("button",{onClick:()=>f("mes"),style:{padding:"6px 12px",background:g==="mes"?"#28a745":"#f8f9fa",color:g==="mes"?"white":"#333",border:"1px solid #ccc",borderRadius:6},children:"Este mes"}),b.jsx("button",{onClick:()=>f("todo"),style:{padding:"6px 12px",background:g==="todo"?"#28a745":"#f8f9fa",color:g==="todo"?"white":"#333",border:"1px solid #ccc",borderRadius:6},children:"Todo"})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:24},children:[b.jsxs("div",{style:{background:"#e8f5e8",border:"2px solid #28a745",borderRadius:8,padding:16,textAlign:"center"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#155724",fontSize:14},children:" Ventas Hoy"}),b.jsxs("p",{style:{margin:0,fontSize:24,fontWeight:"bold",color:"#28a745"},children:["$",we.totalHoy]})]}),b.jsxs("div",{style:{background:"#e3f2fd",border:"2px solid #2196f3",borderRadius:8,padding:16,textAlign:"center"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#0d47a1",fontSize:14},children:" Ventas del Mes"}),b.jsxs("p",{style:{margin:0,fontSize:24,fontWeight:"bold",color:"#2196f3"},children:["$",we.totalMes]})]}),b.jsxs("div",{style:{background:"#fff3e0",border:"2px solid #ff9800",borderRadius:8,padding:16,textAlign:"center"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#e65100",fontSize:14},children:" Promedio Diario"}),b.jsxs("p",{style:{margin:0,fontSize:24,fontWeight:"bold",color:"#ff9800"},children:["$",we.promedioDiario]})]}),b.jsxs("div",{style:{background:"#f3e5f5",border:"2px solid #9c27b0",borderRadius:8,padding:16,textAlign:"center"},children:[b.jsx("h3",{style:{margin:"0 0 8px 0",color:"#4a148c",fontSize:14},children:" Crecimiento Mensual"}),b.jsxs("p",{style:{margin:0,fontSize:24,fontWeight:"bold",color:we.crecimientoMes>=0?"#4caf50":"#f44336"},children:[we.crecimientoMes>=0?"+":"",we.crecimientoMes,"%"]})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[b.jsxs("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:8,padding:16},children:[b.jsx("h4",{style:{margin:"0 0 12px 0",color:"#333"},children:" Ventas ltimos 7 das"}),$r(Ra(7),350,120)]}),b.jsxs("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:8,padding:16},children:[b.jsx("h4",{style:{margin:"0 0 12px 0",color:"#333"},children:" Ventas del mes actual"}),$r(Dn().slice(-14),350,120)]})]}),b.jsxs("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:8,padding:16,marginBottom:24},children:[b.jsx("h4",{style:{margin:"0 0 16px 0",color:"#333"},children:" Platos ms vendidos"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:we.topPlatos.slice(0,6).map((q,ye)=>b.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:6,padding:12,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsx("span",{style:{color:"#333",fontWeight:"500"},children:q.nombre}),b.jsx("span",{style:{background:"#6f42c1",color:"white",padding:"4px 8px",borderRadius:12,fontSize:12,fontWeight:"bold"},children:q.cantidad})]},ye))})]}),b.jsxs("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:8,padding:16},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[b.jsxs("h4",{style:{margin:0,color:"#333"},children:[" Ventas (",g,")"]}),b.jsxs("div",{style:{fontWeight:"bold",color:"#28a745",fontSize:18},children:["Total: $",gt.toFixed(2)," (",Ze.length," ventas)"]})]}),b.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:Ze.length===0?b.jsx("p",{style:{textAlign:"center",color:"#666",padding:20},children:"No hay ventas para mostrar"}):b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[b.jsx("th",{style:{padding:8,textAlign:"left",color:"#333"},children:"ID"}),b.jsx("th",{style:{padding:8,textAlign:"left",color:"#333"},children:"Fecha"}),b.jsx("th",{style:{padding:8,textAlign:"left",color:"#333"},children:"Mesa"}),b.jsx("th",{style:{padding:8,textAlign:"left",color:"#333"},children:"Pago"}),b.jsx("th",{style:{padding:8,textAlign:"right",color:"#333"},children:"Total"}),b.jsx("th",{style:{padding:8,textAlign:"center",color:"#333"},children:"Acciones"})]})}),b.jsx("tbody",{children:Ze.map(q=>b.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[b.jsx("td",{style:{padding:8,color:"#666"},children:q.id.slice(-6)}),b.jsxs("td",{style:{padding:8,color:"#333"},children:[new Date(q.fecha).toLocaleDateString(),b.jsx("br",{}),b.jsx("small",{style:{color:"#666"},children:q.hora})]}),b.jsx("td",{style:{padding:8,color:"#333",fontWeight:"bold"},children:q.mesa}),b.jsx("td",{style:{padding:8,color:"#333"},children:q.metodoPago}),b.jsxs("td",{style:{padding:8,textAlign:"right",fontWeight:"bold",color:"#28a745"},children:["$",q.total]}),b.jsxs("td",{style:{padding:8,textAlign:"center"},children:[b.jsx("button",{onClick:()=>Sn(q),style:{background:"#ffc107",color:"#212529",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:11,marginRight:4},children:""}),b.jsx("button",{onClick:()=>Wt(q.id),style:{background:"#dc3545",color:"white",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:11},children:""})]})]},q.id))})]})})]})]}),x==="historial"&&b.jsxs("div",{children:[b.jsx("h3",{style:{color:"#333",marginBottom:16},children:" Historial Completo de Ventas"}),b.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:8,padding:16,marginBottom:16},children:[b.jsx("h4",{style:{margin:"0 0 12px 0",color:"#333"},children:" Filtros de bsqueda"}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[b.jsxs("div",{children:[b.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#666"},children:" Desde:"}),b.jsx("input",{type:"date",value:me.desde,onChange:q=>de({...me,desde:q.target.value}),style:{width:"100%",padding:6,borderRadius:4,border:"1px solid #ccc",color:"#333"}})]}),b.jsxs("div",{children:[b.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#666"},children:" Hasta:"}),b.jsx("input",{type:"date",value:me.hasta,onChange:q=>de({...me,hasta:q.target.value}),style:{width:"100%",padding:6,borderRadius:4,border:"1px solid #ccc",color:"#333"}})]}),b.jsxs("div",{children:[b.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#666"},children:" Mesa:"}),b.jsx("input",{type:"number",placeholder:"Nmero de mesa",value:me.mesa,onChange:q=>de({...me,mesa:q.target.value}),style:{width:"100%",padding:6,borderRadius:4,border:"1px solid #ccc",color:"#333"}})]}),b.jsxs("div",{children:[b.jsx("label",{style:{display:"block",marginBottom:4,fontSize:12,color:"#666"},children:" Buscar:"}),b.jsx("input",{type:"text",placeholder:"ID, pedido, plato...",value:me.q,onChange:q=>de({...me,q:q.target.value}),style:{width:"100%",padding:6,borderRadius:4,border:"1px solid #ccc",color:"#333"}})]})]}),b.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[b.jsx("button",{onClick:()=>de({desde:"",hasta:"",mesa:"",q:""}),style:{background:"#6c757d",color:"white",border:"none",borderRadius:4,padding:"6px 12px",cursor:"pointer",fontSize:12},children:" Limpiar filtros"}),b.jsxs("div",{style:{marginLeft:"auto",color:"#666",fontSize:14,alignSelf:"center"},children:[" ",Lr.length," ventas encontradas | Total: ",b.jsxs("strong",{style:{color:"#28a745"},children:["$",Lr.reduce((q,ye)=>q+(ye.total||0),0).toFixed(2)]})]})]})]}),b.jsx("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:8,padding:16},children:b.jsx("div",{style:{maxHeight:500,overflowY:"auto"},children:Lr.length===0?b.jsx("p",{style:{textAlign:"center",color:"#666",padding:20},children:"No se encontraron ventas con los filtros aplicados"}):b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6",position:"sticky",top:0},children:[b.jsx("th",{style:{padding:6,textAlign:"left",color:"#333"},children:"ID Venta"}),b.jsx("th",{style:{padding:6,textAlign:"left",color:"#333"},children:"ID Pedido"}),b.jsx("th",{style:{padding:6,textAlign:"left",color:"#333"},children:"Fecha/Hora"}),b.jsx("th",{style:{padding:6,textAlign:"center",color:"#333"},children:"Mesa"}),b.jsx("th",{style:{padding:6,textAlign:"left",color:"#333"},children:"Pago"}),b.jsx("th",{style:{padding:6,textAlign:"right",color:"#333"},children:"Total"}),b.jsx("th",{style:{padding:6,textAlign:"right",color:"#333"},children:"Recibido"}),b.jsx("th",{style:{padding:6,textAlign:"right",color:"#333"},children:"Cambio"}),b.jsx("th",{style:{padding:6,textAlign:"left",color:"#333"},children:"Items"}),b.jsx("th",{style:{padding:6,textAlign:"center",color:"#333"},children:"Acciones"})]})}),b.jsx("tbody",{children:Lr.map(q=>b.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[b.jsx("td",{style:{padding:6,color:"#666",fontSize:11},children:q.id.slice(-8)}),b.jsx("td",{style:{padding:6,color:"#666",fontSize:11},children:(q.pedidoId||"").slice(-8)}),b.jsxs("td",{style:{padding:6,color:"#333"},children:[new Date(q.fecha).toLocaleDateString(),b.jsx("br",{}),b.jsx("small",{style:{color:"#666"},children:q.hora})]}),b.jsx("td",{style:{padding:6,textAlign:"center",fontWeight:"bold",color:"#333"},children:q.mesa}),b.jsx("td",{style:{padding:6,color:"#333"},children:q.metodoPago}),b.jsxs("td",{style:{padding:6,textAlign:"right",fontWeight:"bold",color:"#28a745"},children:["$",q.total]}),b.jsxs("td",{style:{padding:6,textAlign:"right",color:"#333"},children:["$",q.dineroRecibido||"-"]}),b.jsxs("td",{style:{padding:6,textAlign:"right",color:"#007bff"},children:["$",q.cambio||"-"]}),b.jsx("td",{style:{padding:6,color:"#666",fontSize:11,maxWidth:150},children:(q.items||[]).map((ye,Te)=>b.jsxs("div",{style:{marginBottom:2},children:[ye.cantidad,"x ",ye.nombre]},Te))}),b.jsxs("td",{style:{padding:6,textAlign:"center"},children:[b.jsx("button",{onClick:()=>Sn(q),style:{background:"#ffc107",color:"#212529",border:"none",borderRadius:3,padding:"3px 6px",cursor:"pointer",fontSize:10,marginRight:2},children:""}),b.jsx("button",{onClick:()=>Wt(q.id),style:{background:"#dc3545",color:"white",border:"none",borderRadius:3,padding:"3px 6px",cursor:"pointer",fontSize:10},children:""})]})]},q.id))})]})})})]}),x==="backup"&&b.jsxs("div",{children:[b.jsx("p",{style:{color:"#374151",marginBottom:20},children:" Exporta y restaura todos los datos de tu aplicacin de forma segura."}),xe&&b.jsx("div",{style:{background:xe.includes("")?"#fee":xe.includes("")?"#fef3c7":"#d1fae5",color:xe.includes("")?"#dc2626":xe.includes("")?"#92400e":"#065f46",padding:12,borderRadius:8,marginBottom:16,fontWeight:"bold",textAlign:"center"},children:xe}),b.jsxs("div",{style:{background:"#f0fdf4",border:"2px solid #22c55e",borderRadius:8,padding:16,marginBottom:16},children:[b.jsx("h3",{style:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"#1a1a1a"},children:" Exportar Backup"}),b.jsx("p",{style:{fontSize:14,color:"#374151",marginBottom:12},children:"Descarga una copia de seguridad completa de todos tus datos en formato JSON."}),b.jsx("button",{onClick:ne,disabled:Q,style:{background:"#22c55e",color:"white",border:"none",borderRadius:8,padding:"12px 24px",fontSize:16,fontWeight:"bold",cursor:Q?"not-allowed":"pointer",opacity:Q?.6:1},children:Q?" Exportando...":" Exportar Backup Completo"})]}),b.jsxs("div",{style:{background:"#fef3c7",border:"2px solid #f59e0b",borderRadius:8,padding:16,marginBottom:16},children:[b.jsx("h3",{style:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"#1a1a1a"},children:" Restaurar Backup"}),b.jsx("p",{style:{fontSize:14,color:"#374151",marginBottom:12},children:" ADVERTENCIA: Esta accin eliminar todos los datos actuales y los reemplazar con el backup seleccionado."}),b.jsx("input",{type:"file",accept:".json",onChange:Z,disabled:Q,style:{display:"block",padding:8,border:"1px solid #d97706",borderRadius:8,cursor:Q?"not-allowed":"pointer",width:"100%"}})]}),b.jsxs("div",{style:{background:"#fee",border:"2px solid #dc2626",borderRadius:8,padding:16,marginBottom:16},children:[b.jsx("h3",{style:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"#1a1a1a"},children:" Zona Peligrosa"}),b.jsx("p",{style:{fontSize:14,color:"#374151",marginBottom:12},children:" PRECAUCIN EXTREMA: Esta accin eliminar TODOS los datos de forma permanente."}),b.jsx("button",{onClick:te,disabled:Q,style:{background:"#dc2626",color:"white",border:"none",borderRadius:8,padding:"12px 24px",fontSize:16,fontWeight:"bold",cursor:Q?"not-allowed":"pointer",opacity:Q?.6:1},children:" Eliminar Todos los Datos"})]})]})]}):b.jsxs("div",{children:[b.jsx("h2",{style:{color:"#1a1a1a"},children:" Acceso a Ventas"}),b.jsx("p",{style:{color:"#374151"},children:"Ingresa la clave para ver y modificar las ventas."}),b.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8},children:[b.jsx("input",{type:"password",placeholder:"Clave",value:l,onChange:q=>c(q.target.value),style:{padding:8,borderRadius:6,border:"1px solid #ccc",minWidth:200,color:"#212529"},onKeyPress:q=>q.key==="Enter"&&Ti()}),b.jsx("button",{onClick:Ti,style:{background:"#6f42c1",color:"white",padding:"8px 12px",border:"none",borderRadius:6,cursor:"pointer"},children:"Entrar"}),b.jsx("button",{onClick:()=>{o(!1),c("")},style:{background:"#6c757d",color:"white",padding:"8px 12px",border:"none",borderRadius:6,cursor:"pointer"},children:"Cancelar"})]})]})}),b.jsx("h2",{style:{color:"#1a1a1a"},children:" Pedidos por mesa"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:20,marginTop:10},children:ut.map(q=>{const ye=t.filter(Te=>Te.mesa===q);return b.jsxs("div",{style:{border:"2px solid #004085",borderRadius:10,padding:15,backgroundColor:"#e9f7fe"},children:[b.jsxs("h3",{style:{color:"#003366",fontSize:20,fontWeight:"bold",margin:"0 0 12px 0"},children:[" Mesa ",q]}),ye.length===0?b.jsx("p",{style:{color:"#666"},children:"Sin pedidos"}):ye.map(Te=>{var Se;return b.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:10,marginTop:10,backgroundColor:Te.estado==="entregado"?"#d4edda":Te.estado==="preparando"?"#fff3cd":"#ffffff"},children:[b.jsxs("p",{style:{fontSize:12,color:"#374151",margin:"0 0 4px 0"},children:["Pedido #",String(Te.id).slice(-5)]}),b.jsxs("p",{style:{fontSize:12,color:"#374151",margin:"0 0 4px 0"},children:["Pago: ",Te.metodoPago,b.jsx("button",{onClick:()=>ze(Te.id,"metodoPago",Te.metodoPago),style:{fontSize:11,color:"#007bff",background:"none",border:"none",cursor:"pointer",marginLeft:4},children:""})]}),b.jsxs("p",{style:{fontSize:12,color:"#374151",margin:"0 0 8px 0"},children:["Estado: ",Te.estado||"pendiente"]}),b.jsxs("div",{style:{marginBottom:8},children:[b.jsx("p",{style:{fontSize:12,fontWeight:"bold",color:"#212529",margin:"0 0 4px 0"},children:"Items:"}),b.jsx("ul",{style:{fontSize:12,paddingLeft:20,margin:"4px 0",color:"#374151"},children:(Se=Te.items)==null?void 0:Se.map((Ue,at)=>{var Ot;return b.jsxs("li",{style:{marginBottom:4},children:[b.jsxs("div",{children:[Ue.nombre," x",Ue.cantidad,Ue.modificadoPorAdmin&&b.jsx("span",{style:{color:"#8b5cf6",fontSize:10},children:" (Modificado por admin)"})]}),Ue.ingredientesPersonalizados&&b.jsxs("div",{style:{fontSize:10,color:"#8b5cf6",marginLeft:16},children:[" ",Ue.ingredientesPersonalizados]}),((Ot=Ue.extras)==null?void 0:Ot.length)>0&&b.jsxs("div",{style:{fontSize:10,color:"#dc2626",marginLeft:16},children:[" ",Ue.extras.join(", ")]}),Ue.fechaModificacion&&b.jsxs("div",{style:{fontSize:9,color:"#6b7280",marginLeft:16},children:[" ",new Date(Ue.fechaModificacion).toLocaleString()]})]},at)})}),b.jsxs("p",{style:{fontSize:12,fontWeight:"bold",color:"#212529",marginTop:8},children:["Total: $",re(Te)]})]}),b.jsx("div",{style:{marginTop:10,display:"flex",gap:6,flexWrap:"wrap"},children:b.jsx("button",{onClick:()=>{const Ue=t.find(at=>at.id===Te.id);ct(Ue)},style:{flex:1,backgroundColor:"#17a2b8",color:"white",border:"none",padding:6,borderRadius:6,cursor:"pointer",fontSize:11,fontWeight:"bold"},children:" Editar Pedido"})}),b.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,flexWrap:"wrap"},children:[b.jsx("button",{onClick:()=>Re(Te.id,"preparando"),style:{flex:1,backgroundColor:"#ffc107",border:"none",padding:6,borderRadius:6,cursor:"pointer",fontSize:11,color:"#212529"},children:" Preparando"}),b.jsx("button",{onClick:()=>Re(Te.id,"entregado"),style:{flex:1,backgroundColor:"#28a745",color:"white",border:"none",padding:6,borderRadius:6,cursor:"pointer",fontSize:11},children:" Entregado"}),b.jsx("button",{onClick:()=>Re(Te.id,"pagado"),style:{flex:1,backgroundColor:"#007bff",color:"white",border:"none",padding:6,borderRadius:6,cursor:"pointer",fontSize:11},children:" Pagado"}),b.jsx("button",{onClick:()=>Oe(Te.id),style:{flex:1,backgroundColor:"#dc3545",color:"white",border:"none",padding:6,borderRadius:6,cursor:"pointer",fontSize:11},children:" Eliminar"})]})]},Te.id)})]},q)})}),T&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{style:{marginTop:40,color:"#1a1a1a"},children:" Control del Men"}),b.jsx("div",{style:{marginTop:15,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:15},children:n.map(q=>b.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:10,backgroundColor:q.disponible?"#fff":"#f8d7da"},children:[q.imagen&&b.jsx("img",{src:q.imagen.startsWith("http")?q.imagen:`/mi-app/${q.imagen}`,alt:q.nombre,style:{width:"100%",height:120,objectFit:"cover",borderRadius:6,marginBottom:8}}),b.jsx("h4",{style:{margin:"0 0 6px 0",fontSize:13,color:"#212529"},children:q.nombre}),b.jsxs("p",{style:{margin:"0 0 6px 0",fontSize:12,color:"#374151"},children:["$",q.precio]}),b.jsx("p",{style:{margin:"0 0 8px 0",fontSize:11,color:"#6c757d"},children:q.categoria}),b.jsxs("div",{style:{display:"flex",gap:6},children:[b.jsx("button",{onClick:()=>Pe(q.id),style:{flex:1,backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:4,padding:4,cursor:"pointer",fontSize:11},children:""}),b.jsx("button",{onClick:()=>{L({id:q.id,nombre:q.nombre||"",precio:q.precio!=null?String(q.precio):"",imagen:q.imagen||"",ingredientesStr:(q.ingredientes||[]).join(", "),disponible:!!q.disponible,categoria:q.categoria||"Sin categora"})},style:{flex:1,backgroundColor:"#ffc107",border:"none",borderRadius:4,padding:4,cursor:"pointer",fontSize:11,color:"#212529"},children:""}),b.jsx("button",{onClick:async()=>{try{await Vi(Tr(rn,"menu",q.id),{disponible:!q.disponible})}catch(ye){console.error("Error:",ye)}},style:{flex:1,backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:4,padding:4,cursor:"pointer",fontSize:11},children:q.disponible?"":""})]})]},q.id))})]}),O&&b.jsxs("div",{style:{marginTop:40,borderTop:"2px solid #007bff",paddingTop:20},children:[b.jsx("h3",{style:{color:"#1a1a1a"},children:" Agregar nuevo plato"}),b.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap",marginTop:8},children:[b.jsx("input",{type:"text",placeholder:"Nombre",value:_.nombre,onChange:q=>y({..._,nombre:q.target.value}),style:{padding:8,minWidth:150,color:"#212529"}}),b.jsx("input",{type:"number",placeholder:"Precio",value:_.precio,onChange:q=>y({..._,precio:q.target.value}),style:{padding:8,minWidth:100,color:"#212529"}}),b.jsx("input",{type:"text",placeholder:"Ingredientes",value:_.ingredientes,onChange:q=>y({..._,ingredientes:q.target.value}),style:{padding:8,minWidth:200,color:"#212529"}}),b.jsx("input",{type:"text",placeholder:"Imagen URL",value:_.imagen,onChange:q=>y({..._,imagen:q.target.value}),style:{padding:8,minWidth:200,color:"#212529"}}),b.jsx("input",{type:"text",placeholder:"Categora",value:_.categoria||"",onChange:q=>y({..._,categoria:q.target.value}),style:{padding:8,minWidth:150,color:"#212529"}}),b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,color:"#374151"},children:[b.jsx("input",{type:"checkbox",checked:_.disponible,onChange:q=>y({..._,disponible:q.target.checked})})," Disponible"]})]}),b.jsxs("div",{style:{marginTop:12},children:[b.jsx("button",{onClick:Fe,style:{padding:"8px 12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:" Guardar"}),b.jsx("button",{onClick:()=>{Y(!1),y({nombre:"",precio:"",ingredientes:"",imagen:"",disponible:!0,categoria:""})},style:{padding:"8px 12px",marginLeft:8,backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:" Cancelar"})]})]}),ae&&b.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:b.jsxs("div",{style:{background:"white",padding:20,borderRadius:12,width:"95%",maxWidth:450},children:[b.jsx("h2",{style:{color:"#1a1a1a"},children:" Editar Plato"}),b.jsx("input",{type:"text",value:ae.nombre,onChange:q=>L({...ae,nombre:q.target.value}),placeholder:"Nombre",style:{width:"100%",marginTop:10,padding:8,color:"#212529"}}),b.jsx("input",{type:"number",value:ae.precio,onChange:q=>L({...ae,precio:q.target.value}),placeholder:"Precio",style:{width:"100%",marginTop:10,padding:8,color:"#212529"}}),b.jsx("input",{type:"text",value:ae.ingredientesStr,onChange:q=>L({...ae,ingredientesStr:q.target.value}),placeholder:"Ingredientes",style:{width:"100%",marginTop:10,padding:8,color:"#212529"}}),b.jsx("input",{type:"text",value:ae.categoria||"",onChange:q=>L({...ae,categoria:q.target.value}),placeholder:"Categora",style:{width:"100%",marginTop:10,padding:8,color:"#212529"}}),b.jsx("input",{type:"text",value:ae.imagen,onChange:q=>L({...ae,imagen:q.target.value}),placeholder:"URL imagen",style:{width:"100%",marginTop:10,padding:8,color:"#212529"}}),b.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8,color:"#374151"},children:[b.jsx("input",{type:"checkbox",checked:!!ae.disponible,onChange:q=>L({...ae,disponible:q.target.checked})})," Disponible"]}),b.jsxs("div",{style:{marginTop:15,display:"flex",gap:10},children:[b.jsx("button",{onClick:it,style:{flex:1,backgroundColor:"#28a745",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer"},children:" Guardar"}),b.jsx("button",{onClick:()=>L(null),style:{flex:1,backgroundColor:"#dc3545",color:"white",padding:10,borderRadius:8,border:"none",cursor:"pointer"},children:" Cancelar"})]})]})})]})}function EZ(){const[t,e]=ge.useState(!1),n=iu(),r=jm();ge.useEffect(()=>{!sessionStorage.getItem("hasNavigated")&&n.pathname!=="/"&&r("/",{replace:!0}),sessionStorage.setItem("hasNavigated","true")},[n.pathname,r]),ge.useEffect(()=>{const l=()=>{sessionStorage.removeItem("hasNavigated")};return window.addEventListener("beforeunload",l),()=>window.removeEventListener("beforeunload",l)},[]);const i=n.pathname==="/",a="px-3 py-2 rounded-lg font-semibold transition-colors duration-300",s="bg-indigo-600 text-white shadow-md",o="text-gray-700 hover:text-indigo-600";return b.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[!i&&b.jsxs("nav",{className:"fixed top-0 left-0 w-full bg-white/90 backdrop-blur-md border-b border-gray-200 shadow-sm z-50",children:[b.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-3 flex justify-between items-center",children:[b.jsx(r_,{to:"/",className:"text-xl font-bold text-indigo-600 tracking-tight hover:text-indigo-700 transition",onClick:()=>e(!1),children:" Mi Restaurante"}),b.jsx("button",{className:"md:hidden p-2 rounded-lg text-gray-700 hover:text-indigo-600 transition",onClick:()=>e(!t),children:t?b.jsx(PO,{size:28}):b.jsx(kO,{size:28})}),b.jsx("div",{className:"hidden md:flex gap-6",children:b.jsx(c5,{to:"/",end:!0,className:({isActive:l})=>`${a} ${l?s:o}`,children:"Home"})})]}),t&&b.jsx("div",{className:"md:hidden flex flex-col bg-white border-t border-gray-200 px-6 py-4 shadow-lg animate-fadeIn",children:b.jsx(c5,{to:"/",end:!0,onClick:()=>e(!1),className:({isActive:l})=>`${a} ${l?s:o}`,children:"Home"})})]}),b.jsx("main",{className:`${i?"pt-0":"pt-24"} px-4 max-w-6xl mx-auto`,children:b.jsxs(X9,{children:[b.jsx(P0,{path:"/",element:b.jsx(eV,{})}),b.jsx(P0,{path:"/cliente",element:b.jsx(nV,{})}),b.jsx(P0,{path:"/cocina",element:b.jsx(rV,{})}),b.jsx(P0,{path:"/administrador",element:b.jsx(bZ,{})})]})})]})}function AZ(){return b.jsx(yO,{children:b.jsx(EZ,{})})}a9.createRoot(document.getElementById("root")).render(b.jsx(SL.StrictMode,{children:b.jsx(tV,{children:b.jsx(AZ,{})})}));export{Xn as _,TZ as c,fS as g};
